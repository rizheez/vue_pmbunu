import{d as L,x as G,p as x,a as r,e as o,u as e,h as T,w as i,b as t,f as d,t as u,y as J,i as p,o as n,F as P,r as $,q as I,z as E}from"./app-CcuLLWMw.js";import{_ as H}from"./index-u_ueQ1j-.js";import{_ as R,a as q,b as O,c as W}from"./CardTitle.vue_vue_type_script_setup_true_lang-DCqfsORM.js";import{_ as Q}from"./CardDescription.vue_vue_type_script_setup_true_lang-tK9WvzFR.js";import{_}from"./Input.vue_vue_type_script_setup_true_lang-Bf066nZ2.js";import{_ as f}from"./Label.vue_vue_type_script_setup_true_lang-kEpqXKDX.js";import{_ as w,a as j,b as K,c as N,d as k}from"./SelectValue.vue_vue_type_script_setup_true_lang-r-lpphvd.js";import{_ as X}from"./AppLayout.vue_vue_type_script_setup_true_lang-KrPhG79J.js";import{U as b}from"./upload-C1rKZiAK.js";import"./index-Do2AIBFg.js";import"./useForwardExpose-CVoJtl4u.js";import"./useForwardPropsEmits-BYM72Y4V.js";import"./VisuallyHidden-BIMyNfP6.js";import"./createLucideIcon-DmmUP9a7.js";import"./chevron-down-CJn9GwRK.js";import"./check-BbtBtz8f.js";import"./useFormControl-sbI17yd0.js";import"./triangle-alert-TjeGXdBw.js";import"./circle-x-y3s0yQf6.js";import"./file-text-BuDiMqOG.js";import"./x-CH2z8EwH.js";import"./index-BHw9BgFF.js";import"./index-CMWG4mbA.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./user-plus-D9cn_rhc.js";const Y={class:"flex flex-col gap-6 p-4"},Z={class:"space-y-4"},ee={class:"grid gap-4 md:grid-cols-2"},se={class:"space-y-2"},te={key:0,class:"text-sm text-red-500"},le={class:"space-y-2"},oe={key:0,class:"text-sm text-red-500"},ae={class:"space-y-2"},ie={key:0,class:"text-sm text-red-500"},de={class:"space-y-2"},re={key:0,class:"text-sm text-red-500"},ne={class:"space-y-2"},ue={key:0,class:"text-sm text-red-500"},pe={class:"space-y-2"},me={key:0,class:"text-sm text-red-500"},fe={class:"space-y-2"},_e={key:0,class:"text-sm text-red-500"},ce={class:"space-y-2"},ge={key:0,class:"text-sm text-red-500"},xe={class:"space-y-2"},ke={key:0,class:"text-sm text-red-500"},be={class:"space-y-4"},ve={class:"grid gap-4 md:grid-cols-2"},he={class:"space-y-2"},ye={class:"space-y-2"},Ve={key:0,class:"text-sm text-red-500"},Pe={class:"space-y-2"},we={class:"space-y-4"},je={class:"grid gap-6 md:grid-cols-2"},Ke={class:"space-y-2"},Ne={class:"flex items-center gap-4 rounded-lg border border-dashed p-4"},Ue={key:0,class:"size-24 overflow-hidden rounded-lg bg-gray-100"},Me=["src"],ze={class:"flex-1"},$e={class:"flex cursor-pointer flex-col items-center gap-2 text-sm text-gray-500"},Be={key:0,class:"text-sm text-red-500"},De={class:"space-y-2"},Se={class:"flex items-center gap-4 rounded-lg border border-dashed p-4"},Fe={key:0,class:"size-24 overflow-hidden rounded-lg bg-gray-100"},Ae=["src"],Ce={class:"flex-1"},Le={class:"flex cursor-pointer flex-col items-center gap-2 text-sm text-gray-500"},Ge={key:0,class:"text-sm text-red-500"},Te={class:"space-y-2"},Je={class:"flex items-center gap-4 rounded-lg border border-dashed p-4"},Ie={key:0,class:"size-24 overflow-hidden rounded-lg bg-gray-100"},Ee=["src"],He={class:"flex-1"},Re={class:"flex cursor-pointer flex-col items-center gap-2 text-sm text-gray-500"},qe={key:0,class:"text-sm text-red-500"},Oe={class:"space-y-2"},We={class:"flex items-center gap-4 rounded-lg border border-dashed p-4"},Qe={key:0,class:"size-24 overflow-hidden rounded-lg bg-gray-100"},Xe=["src"],Ye={class:"flex-1"},Ze={class:"flex cursor-pointer flex-col items-center gap-2 text-sm text-gray-500"},es={key:0,class:"text-sm text-red-500"},ss={class:"flex justify-end gap-4"},Ks=L({__name:"Edit",props:{biodata:{},activePeriod:{}},setup(B){const m=B,l=G({name:m.biodata?.name??"",nik:m.biodata?.nik??"",nisn:m.biodata?.nisn??"",phone:m.biodata?.phone??"",gender:m.biodata?.gender??"",birth_place:m.biodata?.birth_place??"",birth_date:m.biodata?.birth_date??"",religion:m.biodata?.religion??"",address:m.biodata?.address??"",last_education:m.biodata?.last_education??"SMA/SMK",school_origin:m.biodata?.school_origin??"",major:m.biodata?.major??"",photo:null,ktp:null,kk:null,certificate:null}),v=x(m.biodata?.photo_url??null),h=x(m.biodata?.ktp_url??null),y=x(m.biodata?.kk_url??null),V=x(m.biodata?.certificate_url??null),c=(U,s)=>{const a=U.target;if(a.files&&a.files[0]){const M=a.files[0];l[s]=M;const z=new FileReader;z.onload=C=>{const g=C.target?.result;s==="photo"?v.value=g:s==="ktp"?h.value=g:s==="kk"?y.value=g:s==="certificate"&&(V.value=g)},z.readAsDataURL(M)}},D=["Islam","Kristen","Katolik","Hindu","Buddha","Konghucu"],S=["SMA/SMK Sederajat","Paket C","D3","S1"],F=()=>{l.post("/student/biodata",{forceFormData:!0})},A=[{title:"Dashboard",href:"/student/dashboard"},{title:"Biodata",href:"/student/biodata"},{title:"Edit",href:"/student/biodata/edit"}];return(U,s)=>(n(),r(P,null,[o(e(T),{title:"Edit Biodata"}),o(X,{breadcrumbs:A},{default:i(()=>[t("div",Y,[o(e(R),null,{default:i(()=>[o(e(q),null,{default:i(()=>[o(e(O),null,{default:i(()=>[...s[16]||(s[16]=[d("Edit Biodata",-1)])]),_:1}),o(e(Q),null,{default:i(()=>[d(" Lengkapi data diri Anda untuk proses pendaftaran. Periode: "+u(m.activePeriod.name),1)]),_:1})]),_:1}),o(e(W),null,{default:i(()=>[t("form",{onSubmit:J(F,["prevent"]),class:"space-y-6"},[t("div",Z,[s[28]||(s[28]=t("h3",{class:"text-lg font-medium"},"Data Pribadi",-1)),t("div",ee,[t("div",se,[o(e(f),{for:"name"},{default:i(()=>[...s[17]||(s[17]=[d("Nama Lengkap *",-1)])]),_:1}),o(e(_),{id:"name",modelValue:e(l).name,"onUpdate:modelValue":s[0]||(s[0]=a=>e(l).name=a),placeholder:"Nama lengkap sesuai KTP"},null,8,["modelValue"]),e(l).errors.name?(n(),r("p",te,u(e(l).errors.name),1)):p("",!0)]),t("div",le,[o(e(f),{for:"nik"},{default:i(()=>[...s[18]||(s[18]=[d("NIK *",-1)])]),_:1}),o(e(_),{id:"nik",modelValue:e(l).nik,"onUpdate:modelValue":s[1]||(s[1]=a=>e(l).nik=a),placeholder:"16 digit NIK",maxlength:"16"},null,8,["modelValue"]),e(l).errors.nik?(n(),r("p",oe,u(e(l).errors.nik),1)):p("",!0)]),t("div",ae,[o(e(f),{for:"nisn"},{default:i(()=>[...s[19]||(s[19]=[d("NISN",-1)])]),_:1}),o(e(_),{id:"nisn",modelValue:e(l).nisn,"onUpdate:modelValue":s[2]||(s[2]=a=>e(l).nisn=a),placeholder:"Nomor Induk Siswa Nasional"},null,8,["modelValue"]),e(l).errors.nisn?(n(),r("p",ie,u(e(l).errors.nisn),1)):p("",!0)]),t("div",de,[o(e(f),{for:"phone"},{default:i(()=>[...s[20]||(s[20]=[d("No. HP / WhatsApp *",-1)])]),_:1}),o(e(_),{id:"phone",modelValue:e(l).phone,"onUpdate:modelValue":s[3]||(s[3]=a=>e(l).phone=a),placeholder:"08xxxxxxxxxx"},null,8,["modelValue"]),e(l).errors.phone?(n(),r("p",re,u(e(l).errors.phone),1)):p("",!0)]),t("div",ne,[o(e(f),null,{default:i(()=>[...s[21]||(s[21]=[d("Jenis Kelamin *",-1)])]),_:1}),o(e(w),{modelValue:e(l).gender,"onUpdate:modelValue":s[4]||(s[4]=a=>e(l).gender=a)},{default:i(()=>[o(e(j),{class:"w-full"},{default:i(()=>[o(e(K),{placeholder:"Pilih jenis kelamin"})]),_:1}),o(e(N),null,{default:i(()=>[o(e(k),{value:"Laki-laki"},{default:i(()=>[...s[22]||(s[22]=[d("Laki-laki",-1)])]),_:1}),o(e(k),{value:"Perempuan"},{default:i(()=>[...s[23]||(s[23]=[d("Perempuan",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(l).errors.gender?(n(),r("p",ue,u(e(l).errors.gender),1)):p("",!0)]),t("div",pe,[o(e(f),{for:"birth_place"},{default:i(()=>[...s[24]||(s[24]=[d("Tempat Lahir *",-1)])]),_:1}),o(e(_),{id:"birth_place",modelValue:e(l).birth_place,"onUpdate:modelValue":s[5]||(s[5]=a=>e(l).birth_place=a),placeholder:"Kota tempat lahir"},null,8,["modelValue"]),e(l).errors.birth_place?(n(),r("p",me,u(e(l).errors.birth_place),1)):p("",!0)]),t("div",fe,[o(e(f),{for:"birth_date"},{default:i(()=>[...s[25]||(s[25]=[d("Tanggal Lahir *",-1)])]),_:1}),o(e(_),{id:"birth_date",type:"date",modelValue:e(l).birth_date,"onUpdate:modelValue":s[6]||(s[6]=a=>e(l).birth_date=a)},null,8,["modelValue"]),e(l).errors.birth_date?(n(),r("p",_e,u(e(l).errors.birth_date),1)):p("",!0)]),t("div",ce,[o(e(f),null,{default:i(()=>[...s[26]||(s[26]=[d("Agama *",-1)])]),_:1}),o(e(w),{modelValue:e(l).religion,"onUpdate:modelValue":s[7]||(s[7]=a=>e(l).religion=a)},{default:i(()=>[o(e(j),{class:"w-full"},{default:i(()=>[o(e(K),{placeholder:"Pilih agama"})]),_:1}),o(e(N),null,{default:i(()=>[(n(),r(P,null,$(D,a=>o(e(k),{key:a,value:a},{default:i(()=>[d(u(a),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue"]),e(l).errors.religion?(n(),r("p",ge,u(e(l).errors.religion),1)):p("",!0)])]),t("div",xe,[o(e(f),{for:"address"},{default:i(()=>[...s[27]||(s[27]=[d("Alamat Lengkap *",-1)])]),_:1}),I(t("textarea",{id:"address","onUpdate:modelValue":s[8]||(s[8]=a=>e(l).address=a),rows:"3",class:"flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-xs placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring",placeholder:"Alamat lengkap sesuai KTP"},null,512),[[E,e(l).address]]),e(l).errors.address?(n(),r("p",ke,u(e(l).errors.address),1)):p("",!0)])]),t("div",be,[s[32]||(s[32]=t("h3",{class:"text-lg font-medium"},"Data Pendidikan",-1)),t("div",ve,[t("div",he,[o(e(f),null,{default:i(()=>[...s[29]||(s[29]=[d("Pendidikan Terakhir",-1)])]),_:1}),o(e(w),{modelValue:e(l).last_education,"onUpdate:modelValue":s[9]||(s[9]=a=>e(l).last_education=a)},{default:i(()=>[o(e(j),{class:"w-full"},{default:i(()=>[o(e(K),{placeholder:"Pilih pendidikan"})]),_:1}),o(e(N),null,{default:i(()=>[(n(),r(P,null,$(S,a=>o(e(k),{key:a,value:a},{default:i(()=>[d(u(a),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue"])]),t("div",ye,[o(e(f),{for:"school_origin"},{default:i(()=>[...s[30]||(s[30]=[d("Asal Sekolah *",-1)])]),_:1}),o(e(_),{id:"school_origin",modelValue:e(l).school_origin,"onUpdate:modelValue":s[10]||(s[10]=a=>e(l).school_origin=a),placeholder:"Nama sekolah asal"},null,8,["modelValue"]),e(l).errors.school_origin?(n(),r("p",Ve,u(e(l).errors.school_origin),1)):p("",!0)]),t("div",Pe,[o(e(f),{for:"major"},{default:i(()=>[...s[31]||(s[31]=[d("Jurusan",-1)])]),_:1}),o(e(_),{id:"major",modelValue:e(l).major,"onUpdate:modelValue":s[11]||(s[11]=a=>e(l).major=a),placeholder:"Jurusan di sekolah"},null,8,["modelValue"])])])]),t("div",we,[s[45]||(s[45]=t("h3",{class:"text-lg font-medium"},"Upload Dokumen",-1)),t("div",je,[t("div",Ke,[o(e(f),null,{default:i(()=>[...s[33]||(s[33]=[d("Pas Foto *",-1)])]),_:1}),t("div",Ne,[v.value?(n(),r("div",Ue,[t("img",{src:v.value,class:"size-full object-cover"},null,8,Me)])):p("",!0),t("div",ze,[t("label",$e,[o(e(b),{class:"size-8"}),s[34]||(s[34]=t("span",null,"Klik untuk upload",-1)),s[35]||(s[35]=t("span",{class:"text-xs"},"Max 1MB, format JPG/PNG",-1)),t("input",{type:"file",accept:"image/*",class:"hidden",onChange:s[12]||(s[12]=a=>c(a,"photo"))},null,32)])])]),e(l).errors.photo?(n(),r("p",Be,u(e(l).errors.photo),1)):p("",!0)]),t("div",De,[o(e(f),null,{default:i(()=>[...s[36]||(s[36]=[d("KTP *",-1)])]),_:1}),t("div",Se,[h.value?(n(),r("div",Fe,[t("img",{src:h.value,class:"size-full object-cover"},null,8,Ae)])):p("",!0),t("div",Ce,[t("label",Le,[o(e(b),{class:"size-8"}),s[37]||(s[37]=t("span",null,"Klik untuk upload",-1)),s[38]||(s[38]=t("span",{class:"text-xs"},"Max 2MB, format JPG/PNG/PDF",-1)),t("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",class:"hidden",onChange:s[13]||(s[13]=a=>c(a,"ktp"))},null,32)])])]),e(l).errors.ktp?(n(),r("p",Ge,u(e(l).errors.ktp),1)):p("",!0)]),t("div",Te,[o(e(f),null,{default:i(()=>[...s[39]||(s[39]=[d("Kartu Keluarga *",-1)])]),_:1}),t("div",Je,[y.value?(n(),r("div",Ie,[t("img",{src:y.value,class:"size-full object-cover"},null,8,Ee)])):p("",!0),t("div",He,[t("label",Re,[o(e(b),{class:"size-8"}),s[40]||(s[40]=t("span",null,"Klik untuk upload",-1)),s[41]||(s[41]=t("span",{class:"text-xs"},"Max 2MB, format JPG/PNG/PDF",-1)),t("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",class:"hidden",onChange:s[14]||(s[14]=a=>c(a,"kk"))},null,32)])])]),e(l).errors.kk?(n(),r("p",qe,u(e(l).errors.kk),1)):p("",!0)]),t("div",Oe,[o(e(f),null,{default:i(()=>[...s[42]||(s[42]=[d("Ijazah (Opsional)",-1)])]),_:1}),t("div",We,[V.value?(n(),r("div",Qe,[t("img",{src:V.value,class:"size-full object-cover"},null,8,Xe)])):p("",!0),t("div",Ye,[t("label",Ze,[o(e(b),{class:"size-8"}),s[43]||(s[43]=t("span",null,"Klik untuk upload",-1)),s[44]||(s[44]=t("span",{class:"text-xs"},"Max 2MB, format JPG/PNG/PDF",-1)),t("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",class:"hidden",onChange:s[15]||(s[15]=a=>c(a,"certificate"))},null,32)])])]),e(l).errors.certificate?(n(),r("p",es,u(e(l).errors.certificate),1)):p("",!0)])])]),t("div",ss,[o(e(H),{type:"submit",disabled:e(l).processing,class:"w-full md:w-auto"},{default:i(()=>[d(u(e(l).processing?"Menyimpan...":"Simpan Biodata"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1})])]),_:1})],64))}});export{Ks as default};
