import{d as U,j as A,c as D,p as g,x as E,a as v,e as t,u as e,h as F,w as s,b as l,k as x,i as k,o as _,f as i,t as m,F as $,r as I,y as j,s as P}from"./app-BGOKhYwQ.js";import{_ as G,a as L}from"./index-Dz86b29t.js";import{_ as q}from"./AlertTitle.vue_vue_type_script_setup_true_lang-Bvg1FMMN.js";import{a as H,_ as J}from"./AppLayout.vue_vue_type_script_setup_true_lang-CZeqR6U8.js";import{_ as u}from"./index-DGsSIcWj.js";import{f as V}from"./useFormat-CGBiKtzC.js";import{_ as K,a as O,b as Q,c as R}from"./CardTitle.vue_vue_type_script_setup_true_lang-C4xRPRqn.js";import{_ as W,a as X,b as Y,c as Z}from"./DialogTitle.vue_vue_type_script_setup_true_lang-DBaTGYhd.js";import{_ as ee}from"./DialogFooter.vue_vue_type_script_setup_true_lang-BiLRWolc.js";import{_ as p}from"./Input.vue_vue_type_script_setup_true_lang-Cf0ZVC_7.js";import{_ as c}from"./Label.vue_vue_type_script_setup_true_lang-90X7xBoq.js";import{C as ae}from"./file-text-DyqnlGmC.js";import{P as te}from"./plus-BACgNVp5.js";import{S as se}from"./square-pen-BwzUQJOD.js";import{c as le}from"./createLucideIcon-DafU62S5.js";import{T as oe}from"./trash-CFRdWjHi.js";import"./VisuallyHidden-Cv79dxKK.js";import"./index-Cb9ID-yN.js";import"./triangle-alert-Bse_Fdyu.js";import"./circle-x-BZwylU1p.js";import"./ChatWidget.vue_vue_type_script_setup_true_lang-CIEYDpK2.js";import"./index-CMWG4mbA.js";import"./loader-circle-B6aidUJ_.js";import"./useForwardExpose-CMUcXry3.js";import"./useForwardPropsEmits-CNYeLtBW.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./user-plus-CKwjL-UG.js";const ne=le("PowerIcon",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]),ie={class:"flex flex-col gap-6 p-4"},de={class:"overflow-x-auto rounded-lg border"},re={class:"w-full text-sm"},me={class:"divide-y"},ue={class:"px-4 py-3 font-medium"},fe={class:"px-4 py-3"},_e={class:"px-4 py-3"},pe={class:"px-4 py-3"},ce={class:"px-4 py-3"},ve={class:"flex gap-2"},ye={class:"space-y-2"},be={class:"grid grid-cols-2 gap-4"},ge={class:"space-y-2"},xe={class:"space-y-2"},ke={class:"grid grid-cols-2 gap-4"},$e={class:"space-y-2"},Pe={class:"space-y-2"},Xe=U({__name:"Index",props:{periods:{}},setup(h){const w=h,C=A(),y=D(()=>C.props.flash),r=g(!1),f=g(null),n=E({name:"",academic_year:"",wave_number:1,start_date:"",end_date:""}),S=()=>{f.value=null,n.reset(),r.value=!0},z=d=>{f.value=d,n.name=d.name,n.academic_year=d.academic_year,n.wave_number=d.wave_number,n.start_date=d.start_date,n.end_date=d.end_date,r.value=!0},B=()=>{f.value?n.put(`/admin/periods/${f.value.id}`,{onSuccess:()=>r.value=!1}):n.post("/admin/periods",{onSuccess:()=>r.value=!1})},N=d=>{confirm("Hapus periode ini?")&&P.delete(`/admin/periods/${d}`)},T=d=>{P.post(`/admin/periods/${d}/activate`)},M=[{title:"Admin Dashboard",href:"/admin/dashboard"},{title:"Periods",href:"/admin/periods"}];return(d,a)=>(_(),v($,null,[t(e(F),{title:"Periode Pendaftaran"}),t(J,{breadcrumbs:M},{default:s(()=>[l("div",ie,[y.value?.success?(_(),x(e(G),{key:0,class:"border-green-500 bg-green-50"},{default:s(()=>[t(e(ae),{class:"size-4 text-green-600"}),t(e(q),{class:"text-green-800"},{default:s(()=>[...a[7]||(a[7]=[i("Berhasil",-1)])]),_:1}),t(e(L),{class:"text-green-700"},{default:s(()=>[i(m(y.value.success),1)]),_:1})]),_:1})):k("",!0),t(e(K),null,{default:s(()=>[t(e(O),{class:"flex flex-row items-center justify-between"},{default:s(()=>[t(e(Q),null,{default:s(()=>[...a[8]||(a[8]=[i("Periode Pendaftaran",-1)])]),_:1}),t(e(u),{onClick:S},{default:s(()=>[t(e(te),{class:"mr-2 size-4"}),a[9]||(a[9]=i(" Tambah Periode ",-1))]),_:1})]),_:1}),t(e(R),null,{default:s(()=>[l("div",de,[l("table",re,[a[10]||(a[10]=l("thead",{class:"bg-gray-50"},[l("tr",null,[l("th",{class:"px-4 py-3 text-left"},"Nama"),l("th",{class:"px-4 py-3 text-left"},"Tahun Akademik"),l("th",{class:"px-4 py-3 text-left"},"Periode"),l("th",{class:"px-4 py-3 text-left"},"Status"),l("th",{class:"px-4 py-3 text-left"},"Aksi")])],-1)),l("tbody",me,[(_(!0),v($,null,I(w.periods,o=>(_(),v("tr",{key:o.id,class:"hover:bg-gray-50"},[l("td",ue,m(o.name),1),l("td",fe,m(o.academic_year),1),l("td",_e,m(e(V)(o.start_date))+" - "+m(e(V)(o.end_date)),1),l("td",pe,[t(e(H),{variant:o.is_active?"default":"secondary"},{default:s(()=>[i(m(o.is_active?"Aktif":"Nonaktif"),1)]),_:2},1032,["variant"])]),l("td",ce,[l("div",ve,[t(e(u),{size:"sm",variant:"ghost",onClick:b=>z(o)},{default:s(()=>[t(e(se),{class:"size-4"})]),_:1},8,["onClick"]),o.is_active?k("",!0):(_(),x(e(u),{key:0,size:"sm",variant:"ghost",onClick:b=>T(o.id)},{default:s(()=>[t(e(ne),{class:"size-4 text-green-600"})]),_:1},8,["onClick"])),t(e(u),{size:"sm",variant:"ghost",onClick:b=>N(o.id)},{default:s(()=>[t(e(oe),{class:"size-4 text-red-500"})]),_:1},8,["onClick"])])])]))),128))])])])]),_:1})]),_:1})]),t(e(W),{open:r.value,"onUpdate:open":a[6]||(a[6]=o=>r.value=o)},{default:s(()=>[t(e(X),null,{default:s(()=>[t(e(Y),null,{default:s(()=>[t(e(Z),null,{default:s(()=>[i(m(f.value?"Edit Periode":"Tambah Periode"),1)]),_:1})]),_:1}),l("form",{onSubmit:j(B,["prevent"]),class:"space-y-4"},[l("div",ye,[t(e(c),null,{default:s(()=>[...a[11]||(a[11]=[i("Nama Periode",-1)])]),_:1}),t(e(p),{modelValue:e(n).name,"onUpdate:modelValue":a[0]||(a[0]=o=>e(n).name=o),placeholder:"PMB 2025 Gelombang 1"},null,8,["modelValue"])]),l("div",be,[l("div",ge,[t(e(c),null,{default:s(()=>[...a[12]||(a[12]=[i("Tahun Akademik",-1)])]),_:1}),t(e(p),{modelValue:e(n).academic_year,"onUpdate:modelValue":a[1]||(a[1]=o=>e(n).academic_year=o),placeholder:"2025/2026"},null,8,["modelValue"])]),l("div",xe,[t(e(c),null,{default:s(()=>[...a[13]||(a[13]=[i("Gelombang",-1)])]),_:1}),t(e(p),{modelValue:e(n).wave_number,"onUpdate:modelValue":a[2]||(a[2]=o=>e(n).wave_number=o),modelModifiers:{number:!0},type:"number",min:"1"},null,8,["modelValue"])])]),l("div",ke,[l("div",$e,[t(e(c),null,{default:s(()=>[...a[14]||(a[14]=[i("Mulai",-1)])]),_:1}),t(e(p),{modelValue:e(n).start_date,"onUpdate:modelValue":a[3]||(a[3]=o=>e(n).start_date=o),type:"date"},null,8,["modelValue"])]),l("div",Pe,[t(e(c),null,{default:s(()=>[...a[15]||(a[15]=[i("Selesai",-1)])]),_:1}),t(e(p),{modelValue:e(n).end_date,"onUpdate:modelValue":a[4]||(a[4]=o=>e(n).end_date=o),type:"date"},null,8,["modelValue"])])]),t(e(ee),null,{default:s(()=>[t(e(u),{type:"button",variant:"outline",onClick:a[5]||(a[5]=o=>r.value=!1)},{default:s(()=>[...a[16]||(a[16]=[i("Batal",-1)])]),_:1}),t(e(u),{type:"submit",disabled:e(n).processing},{default:s(()=>[...a[17]||(a[17]=[i("Simpan",-1)])]),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"])]),_:1})],64))}});export{Xe as default};
