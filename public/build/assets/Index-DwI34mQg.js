import{d as S,j as z,c as N,p as x,x as D,a as c,e,u as s,h as T,w as i,b as a,k as J,i as A,o as m,f as n,t as u,F as g,r as U,y as j,q as b,z as E,B as F,s as M}from"./app-CQOSHREZ.js";import{_ as q,a as I}from"./index-DOf0y5Ow.js";import{_ as H}from"./AlertTitle.vue_vue_type_script_setup_true_lang-BQkLuran.js";import{a as L,_ as R}from"./AppLayout.vue_vue_type_script_setup_true_lang-DsrxkTHz.js";import{_ as f}from"./index-B4xBrO_n.js";import{_ as G,a as K,b as O,c as Q}from"./CardTitle.vue_vue_type_script_setup_true_lang-BGtE1Djg.js";import{_ as W,a as X,b as Y,c as Z}from"./DialogTitle.vue_vue_type_script_setup_true_lang-lYMABZDw.js";import{_ as ss}from"./DialogFooter.vue_vue_type_script_setup_true_lang-D2oORzce.js";import{_ as ts}from"./Input.vue_vue_type_script_setup_true_lang-CKu0wYpk.js";import{_}from"./Label.vue_vue_type_script_setup_true_lang-CSxCLzcI.js";import{C as es}from"./file-text-DPd0PmWO.js";import{P as as}from"./plus-DLlEcz_I.js";import{S as is}from"./square-pen-DxzFkjzm.js";import{T as ls}from"./trash-SjyZBBK8.js";import"./VisuallyHidden-4-TBtIi7.js";import"./createLucideIcon-CRLuAaBa.js";import"./index-CAMP9Fnf.js";import"./triangle-alert-D6ooIQ57.js";import"./circle-x-BZcrH8Vj.js";import"./ChatWidget.vue_vue_type_script_setup_true_lang-BspLTATi.js";import"./index-CMWG4mbA.js";import"./loader-circle-OBWx3D98.js";import"./useForwardExpose-tNs2zRI0.js";import"./useForwardPropsEmits-DSJVOU2C.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./user-plus-DZE-M-X3.js";const os={class:"flex flex-col gap-6 p-4"},ns={class:"overflow-x-auto rounded-lg border"},rs={class:"w-full text-sm"},ds={class:"divide-y"},us={class:"px-4 py-3 font-medium"},ps={class:"px-4 py-3 text-gray-500"},fs={class:"px-4 py-3"},ms={class:"px-4 py-3"},cs={class:"px-4 py-3"},_s={class:"flex gap-2"},vs={class:"space-y-2"},xs={class:"space-y-2"},gs={class:"flex items-center gap-2"},Rs=S({__name:"Index",props:{paths:{}},setup(y){const h=y,$=z(),v=N(()=>$.props.flash),r=x(!1),p=x(null),o=D({name:"",description:"",is_active:!0}),k=()=>{p.value=null,o.reset(),o.is_active=!0,r.value=!0},C=d=>{p.value=d,o.name=d.name,o.description=d.description||"",o.is_active=d.is_active,r.value=!0},w=()=>{p.value?o.put(`/admin/registration-paths/${p.value.id}`,{onSuccess:()=>r.value=!1}):o.post("/admin/registration-paths",{onSuccess:()=>r.value=!1})},P=d=>{confirm("Hapus jalur pendaftaran ini?")&&M.delete(`/admin/registration-paths/${d}`)},V=[{title:"Admin Dashboard",href:"/admin/dashboard"},{title:"Jalur Pendaftaran",href:"/admin/registration-paths"}];return(d,t)=>(m(),c(g,null,[e(s(T),{title:"Jalur Pendaftaran"}),e(R,{breadcrumbs:V},{default:i(()=>[a("div",os,[v.value?.success?(m(),J(s(q),{key:0,class:"border-green-500 bg-green-50"},{default:i(()=>[e(s(es),{class:"size-4 text-green-600"}),e(s(H),{class:"text-green-800"},{default:i(()=>[...t[5]||(t[5]=[n("Berhasil",-1)])]),_:1}),e(s(I),{class:"text-green-700"},{default:i(()=>[n(u(v.value.success),1)]),_:1})]),_:1})):A("",!0),e(s(G),null,{default:i(()=>[e(s(K),{class:"flex flex-row items-center justify-between"},{default:i(()=>[e(s(O),null,{default:i(()=>[...t[6]||(t[6]=[n("Jalur Pendaftaran",-1)])]),_:1}),e(s(f),{onClick:k},{default:i(()=>[e(s(as),{class:"mr-2 size-4"}),t[7]||(t[7]=n(" Tambah ",-1))]),_:1})]),_:1}),e(s(Q),null,{default:i(()=>[a("div",ns,[a("table",rs,[t[8]||(t[8]=a("thead",{class:"bg-gray-50"},[a("tr",null,[a("th",{class:"px-4 py-3 text-left"},"Nama"),a("th",{class:"px-4 py-3 text-left"},"Deskripsi"),a("th",{class:"px-4 py-3 text-left"},"Pendaftar"),a("th",{class:"px-4 py-3 text-left"},"Status"),a("th",{class:"px-4 py-3 text-left"},"Aksi")])],-1)),a("tbody",ds,[(m(!0),c(g,null,U(h.paths,l=>(m(),c("tr",{key:l.id,class:"hover:bg-gray-50"},[a("td",us,u(l.name),1),a("td",ps,u(l.description||"-"),1),a("td",fs,u(l.registrations_count),1),a("td",ms,[e(s(L),{variant:l.is_active?"default":"secondary"},{default:i(()=>[n(u(l.is_active?"Aktif":"Nonaktif"),1)]),_:2},1032,["variant"])]),a("td",cs,[a("div",_s,[e(s(f),{size:"sm",variant:"ghost",onClick:B=>C(l)},{default:i(()=>[e(s(is),{class:"size-4"})]),_:1},8,["onClick"]),e(s(f),{size:"sm",variant:"ghost",onClick:B=>P(l.id)},{default:i(()=>[e(s(ls),{class:"size-4 text-red-500"})]),_:1},8,["onClick"])])])]))),128))])])])]),_:1})]),_:1})]),e(s(W),{open:r.value,"onUpdate:open":t[4]||(t[4]=l=>r.value=l)},{default:i(()=>[e(s(X),null,{default:i(()=>[e(s(Y),null,{default:i(()=>[e(s(Z),null,{default:i(()=>[n(u(p.value?"Edit":"Tambah")+" Jalur Pendaftaran",1)]),_:1})]),_:1}),a("form",{onSubmit:j(w,["prevent"]),class:"space-y-4"},[a("div",vs,[e(s(_),null,{default:i(()=>[...t[9]||(t[9]=[n("Nama",-1)])]),_:1}),e(s(ts),{modelValue:s(o).name,"onUpdate:modelValue":t[0]||(t[0]=l=>s(o).name=l),placeholder:"Jalur Reguler"},null,8,["modelValue"])]),a("div",xs,[e(s(_),null,{default:i(()=>[...t[10]||(t[10]=[n("Deskripsi",-1)])]),_:1}),b(a("textarea",{"onUpdate:modelValue":t[1]||(t[1]=l=>s(o).description=l),rows:"2",class:"flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm"},null,512),[[E,s(o).description]])]),a("div",gs,[b(a("input",{type:"checkbox",id:"is_active","onUpdate:modelValue":t[2]||(t[2]=l=>s(o).is_active=l)},null,512),[[F,s(o).is_active]]),e(s(_),{for:"is_active"},{default:i(()=>[...t[11]||(t[11]=[n("Aktif",-1)])]),_:1})]),e(s(ss),null,{default:i(()=>[e(s(f),{type:"button",variant:"outline",onClick:t[3]||(t[3]=l=>r.value=!1)},{default:i(()=>[...t[12]||(t[12]=[n("Batal",-1)])]),_:1}),e(s(f),{type:"submit",disabled:s(o).processing},{default:i(()=>[...t[13]||(t[13]=[n("Simpan",-1)])]),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"])]),_:1})],64))}});export{Rs as default};
