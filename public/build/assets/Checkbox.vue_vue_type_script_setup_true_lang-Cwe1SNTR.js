import{a as j}from"./useForwardPropsEmits-Dl70jCDi.js";import{a as V,e as M,u as T,d as H,f as O,w as D,h as G,j as N,V as z,c as $,P as L}from"./VisuallyHidden-uWdxpz0q.js";import{i as I,u as W}from"./useFormControl-CZvRGZSH.js";import{u as R}from"./useForwardExpose-CO2v1_2r.js";import{P as B,c as U}from"./index-UEfTj4wh.js";import{d as g,c as y,P as J,O as Q,k as b,o as m,w as h,e as q,u as t,I as C,M as X,A as Y,K as _,a as S,i as A,F as x,r as Z,B as ee,y as ae,m as te,V as re,W as le}from"./app-D5OcARYv.js";import{u as ue,l as oe}from"./index-Bo1-g3F-.js";import{C as se}from"./check-DrZNu8iJ.js";function E(o,e){return V(o)?!1:Array.isArray(o)?o.some(a=>I(a,e)):I(o,e)}var ne=g({__name:"RovingFocusItem",props:{tabStopId:{type:String,required:!1},focusable:{type:Boolean,required:!1,default:!0},active:{type:Boolean,required:!1},allowShiftKey:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(o){const e=o,a=M(),i=T(),l=y(()=>e.tabStopId||i),n=y(()=>a.currentTabStopId.value===l.value),{getItems:u,CollectionItem:d}=H();J(()=>{e.focusable&&a.onFocusableItemAdd()}),Q(()=>{e.focusable&&a.onFocusableItemRemove()});function f(r){if(r.key==="Tab"&&r.shiftKey){a.onItemShiftTab();return}if(r.target!==r.currentTarget)return;const c=O(r,a.orientation.value,a.dir.value);if(c!==void 0){if(r.metaKey||r.ctrlKey||r.altKey||!e.allowShiftKey&&r.shiftKey)return;r.preventDefault();let p=[...u().map(v=>v.ref).filter(v=>v.dataset.disabled!=="")];if(c==="last")p.reverse();else if(c==="prev"||c==="next"){c==="prev"&&p.reverse();const v=p.indexOf(r.currentTarget);p=a.loop.value?D(p,v+1):p.slice(v+1)}X(()=>G(p))}}return(r,c)=>(m(),b(t(d),null,{default:h(()=>[q(t(B),{tabindex:n.value?0:-1,"data-orientation":t(a).orientation.value,"data-active":r.active?"":void 0,"data-disabled":r.focusable?void 0:"",as:r.as,"as-child":r.asChild,onMousedown:c[0]||(c[0]=p=>{r.focusable?t(a).onItemFocus(l.value):p.preventDefault()}),onFocus:c[1]||(c[1]=p=>t(a).onItemFocus(l.value)),onKeydown:f},{default:h(()=>[C(r.$slots,"default")]),_:3},8,["tabindex","data-orientation","data-active","data-disabled","as","as-child"])]),_:3}))}}),ie=ne,de=g({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(o){const e=o,{primitiveElement:a,currentElement:i}=N(),l=y(()=>e.checked??e.value);return Y(l,(n,u)=>{if(!i.value)return;const d=i.value,f=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(f,"value").set;if(c&&n!==u){const p=new Event("input",{bubbles:!0}),v=new Event("change",{bubbles:!0});c.call(d,n),d.dispatchEvent(p),d.dispatchEvent(v)}}),(n,u)=>(m(),b(z,_({ref_key:"primitiveElement",ref:a},{...e,...n.$attrs},{as:"input"}),null,16))}}),F=de,ce=g({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(o){const e=o,a=y(()=>typeof e.value=="object"&&Array.isArray(e.value)&&e.value.length===0&&e.required),i=y(()=>typeof e.value=="string"||typeof e.value=="number"||typeof e.value=="boolean"||e.value===null||e.value===void 0?[{name:e.name,value:e.value}]:typeof e.value=="object"&&Array.isArray(e.value)?e.value.flatMap((l,n)=>typeof l=="object"?Object.entries(l).map(([u,d])=>({name:`${e.name}[${n}][${u}]`,value:d})):{name:`${e.name}[${n}]`,value:l}):e.value!==null&&typeof e.value=="object"&&!Array.isArray(e.value)?Object.entries(e.value).map(([l,n])=>({name:`${e.name}[${l}]`,value:n})):[]);return(l,n)=>(m(),S(x,null,[A(" We render single input if it's required "),a.value?(m(),b(F,_({key:l.name},{...e,...l.$attrs},{name:l.name,value:l.value}),null,16,["name","value"])):(m(!0),S(x,{key:1},Z(i.value,u=>(m(),b(F,_({key:u.name},{ref_for:!0},{...e,...l.$attrs},{name:u.name,value:u.value}),null,16,["name","value"]))),128))],2112))}}),pe=ce;const[fe]=$("CheckboxGroupRoot");function k(o){return o==="indeterminate"}function K(o){return k(o)?"indeterminate":o?"checked":"unchecked"}const[ve,me]=$("CheckboxRoot");var ye=g({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String],required:!1},modelValue:{type:[Boolean,String,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},value:{type:null,required:!1,default:"on"},id:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(o,{emit:e}){const a=o,i=e,{forwardRef:l,currentElement:n}=R(),u=fe(null),d=ue(a,"modelValue",i,{defaultValue:a.defaultValue,passive:a.modelValue===void 0}),f=y(()=>u?.disabled.value||a.disabled),r=y(()=>V(u?.modelValue.value)?d.value==="indeterminate"?"indeterminate":d.value:E(u.modelValue.value,a.value));function c(){if(V(u?.modelValue.value))d.value=k(d.value)?!0:!d.value;else{const s=[...u.modelValue.value||[]];if(E(s,a.value)){const w=s.findIndex(P=>I(P,a.value));s.splice(w,1)}else s.push(a.value);u.modelValue.value=s}}const p=W(n),v=y(()=>a.id&&n.value?document.querySelector(`[for="${a.id}"]`)?.innerText:void 0);return me({disabled:f,state:r}),(s,w)=>(m(),b(te(t(u)?.rovingFocus.value?t(ie):t(B)),_(s.$attrs,{id:s.id,ref:t(l),role:"checkbox","as-child":s.asChild,as:s.as,type:s.as==="button"?"button":void 0,"aria-checked":t(k)(r.value)?"mixed":r.value,"aria-required":s.required,"aria-label":s.$attrs["aria-label"]||v.value,"data-state":t(K)(r.value),"data-disabled":f.value?"":void 0,disabled:f.value,focusable:t(u)?.rovingFocus.value?!f.value:void 0,onKeydown:ee(ae(()=>{},["prevent"]),["enter"]),onClick:c}),{default:h(()=>[C(s.$slots,"default",{modelValue:t(d),state:r.value}),t(p)&&s.name&&!t(u)?(m(),b(t(pe),{key:0,type:"checkbox",checked:!!r.value,name:s.name,value:s.value,disabled:f.value,required:s.required},null,8,["checked","name","value","disabled","required"])):A("v-if",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"]))}}),be=ye,he=g({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(o){const{forwardRef:e}=R(),a=ve();return(i,l)=>(m(),b(t(L),{present:i.forceMount||t(k)(t(a).state.value)||t(a).state.value===!0},{default:h(()=>[q(t(B),_({ref:t(e),"data-state":t(K)(t(a).state.value),"data-disabled":t(a).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":i.asChild,as:i.as},i.$attrs),{default:h(()=>[C(i.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),_e=he;const Se=g({__name:"Checkbox",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null]},disabled:{type:Boolean},value:{},id:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(o,{emit:e}){const a=o,i=e,l=oe(a,"class"),n=j(l,i);return(u,d)=>(m(),b(t(be),_({"data-slot":"checkbox"},t(n),{class:t(U)("peer border-input data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a.class)}),{default:h(f=>[q(t(_e),{"data-slot":"checkbox-indicator",class:"grid place-content-center text-current transition-none"},{default:h(()=>[C(u.$slots,"default",re(le(f)),()=>[q(t(se),{class:"size-3.5"})])]),_:2},1024)]),_:3},16,["class"]))}});export{ie as R,Se as _};
