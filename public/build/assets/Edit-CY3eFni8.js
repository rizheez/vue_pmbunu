import{d as A,x as G,p as h,ao as J,a as r,e as o,u as e,h as I,w as i,b as t,f as n,t as u,y as E,i as p,o as d,F as z,r as M,q as W,z as H}from"./app-767X-9Ou.js";import{_ as R}from"./index-DnVacoDu.js";import{_ as q,a as O,b as Q,c as X}from"./CardTitle.vue_vue_type_script_setup_true_lang--vGccXjG.js";import{_ as Y}from"./CardDescription.vue_vue_type_script_setup_true_lang-CjPw03J9.js";import{_}from"./Input.vue_vue_type_script_setup_true_lang-DUnnWbN6.js";import{_ as f}from"./Label.vue_vue_type_script_setup_true_lang-DIPkyDD9.js";import{_ as K,a as N,b as U,c as D,d as V}from"./SelectValue.vue_vue_type_script_setup_true_lang-er4Ja8dZ.js";import{_ as Z}from"./AppLayout.vue_vue_type_script_setup_true_lang-j0PylFLu.js";import{U as P}from"./upload-QlNzSBTv.js";import"./index-C4DPWyXj.js";import"./useForwardExpose-CWd--3TW.js";import"./useForwardPropsEmits-Dw4cAQ9L.js";import"./VisuallyHidden-DKygJb-S.js";import"./createLucideIcon-DRoaSoxL.js";import"./chevron-down-2iqEQ-WX.js";import"./check-CSBefesY.js";import"./useFormControl-C6Ri7Uvf.js";import"./triangle-alert-CiNDPgBv.js";import"./circle-x-ZHtYsK7y.js";import"./file-text-gyKzStg0.js";import"./ChatWidget.vue_vue_type_script_setup_true_lang-WPLFtyNK.js";import"./index-CMWG4mbA.js";import"./loader-circle-CjDPupfR.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./user-plus-YLA-lGMT.js";const ee={class:"flex flex-col gap-6 p-4"},se={class:"space-y-4"},te={class:"grid gap-4 md:grid-cols-2"},le={class:"space-y-2"},oe={key:0,class:"text-sm text-red-500"},ae={class:"space-y-2"},ie={key:0,class:"text-sm text-red-500"},re={class:"space-y-2"},de={key:0,class:"text-sm text-red-500"},ne={class:"space-y-2"},ue={key:0,class:"text-sm text-red-500"},pe={class:"space-y-2"},me={key:0,class:"text-sm text-red-500"},fe={class:"space-y-2"},_e={key:0,class:"text-sm text-red-500"},ce={class:"space-y-2"},ge={key:0,class:"text-sm text-red-500"},xe={class:"space-y-2"},ke={key:0,class:"text-sm text-red-500"},ve={class:"space-y-2"},be={key:0,class:"text-sm text-red-500"},ye={class:"space-y-4"},he={class:"grid gap-4 md:grid-cols-2"},Ve={class:"space-y-2"},Pe={class:"space-y-2"},je={key:0,class:"text-sm text-red-500"},we={class:"space-y-2"},ze={class:"space-y-4"},Ke={class:"grid gap-6 md:grid-cols-2"},Ne={class:"space-y-2"},Ue={class:"flex items-center gap-4 rounded-lg border border-dashed p-4"},De={key:0,class:"size-24 overflow-hidden rounded-lg bg-gray-100"},Fe=["src"],Me={class:"flex-1"},$e={class:"flex cursor-pointer flex-col items-center gap-2 text-sm text-gray-500"},Be={key:0,class:"text-sm text-red-500"},Se={class:"space-y-2"},Ce={class:"flex items-center gap-4 rounded-lg border border-dashed p-4"},Le={key:0,class:"size-24 overflow-hidden rounded-lg bg-gray-100"},Te={key:0,class:"flex size-full flex-col items-center justify-center bg-gray-50 text-gray-500"},Ae=["src"],Ge={class:"flex-1"},Je={class:"flex cursor-pointer flex-col items-center gap-2 text-sm text-gray-500"},Ie={key:0,class:"text-sm text-red-500"},Ee={class:"space-y-2"},We={class:"flex items-center gap-4 rounded-lg border border-dashed p-4"},He={key:0,class:"size-24 overflow-hidden rounded-lg bg-gray-100"},Re={key:0,class:"flex size-full flex-col items-center justify-center bg-gray-50 text-gray-500"},qe=["src"],Oe={class:"flex-1"},Qe={class:"flex cursor-pointer flex-col items-center gap-2 text-sm text-gray-500"},Xe={key:0,class:"text-sm text-red-500"},Ye={class:"space-y-2"},Ze={class:"flex items-center gap-4 rounded-lg border border-dashed p-4"},es={key:0,class:"size-24 overflow-hidden rounded-lg bg-gray-100"},ss={key:0,class:"flex size-full flex-col items-center justify-center bg-gray-50 text-gray-500"},ts=["src"],ls={class:"flex-1"},os={class:"flex cursor-pointer flex-col items-center gap-2 text-sm text-gray-500"},as={key:0,class:"text-sm text-red-500"},is={class:"flex justify-end gap-4"},Fs=A({__name:"Edit",props:{biodata:{},activePeriod:{}},setup($){const m=$,l=G({name:m.biodata?.name??"",nik:m.biodata?.nik??"",nisn:m.biodata?.nisn??"",phone:m.biodata?.phone??"",gender:m.biodata?.gender??"",birth_place:m.biodata?.birth_place??"",birth_date:m.biodata?.birth_date??"",religion:m.biodata?.religion??"",address:m.biodata?.address??"",last_education:m.biodata?.last_education??"SMA/SMK",school_origin:m.biodata?.school_origin??"",major:m.biodata?.major??"",photo:null,ktp:null,kk:null,certificate:null}),j=h(m.biodata?.photo_url??null),x=h(m.biodata?.ktp_url??null),k=h(m.biodata?.kk_url??null),v=h(m.biodata?.certificate_url??null),w=g=>g?g.toLowerCase().endsWith(".pdf")||g.startsWith("data:application/pdf"):!1,b=(g,s)=>{const c=g.target;if(c.files&&c.files[0]){const a=c.files[0];l[s]=a;const F=new FileReader;F.onload=T=>{const y=T.target?.result;s==="photo"?j.value=y:s==="ktp"?x.value=y:s==="kk"?k.value=y:s==="certificate"&&(v.value=y)},F.readAsDataURL(a)}},B=["Islam","Kristen","Katolik","Hindu","Buddha","Konghucu"],S=["SMA/SMK Sederajat","Paket C","D3","S1"],C=()=>{l.post("/student/biodata",{forceFormData:!0})},L=[{title:"Dashboard",href:"/student/dashboard"},{title:"Biodata",href:"/student/biodata"},{title:"Edit",href:"/student/biodata/edit"}];return(g,s)=>{const c=J("FileText");return d(),r(z,null,[o(e(I),{title:"Edit Biodata"}),o(Z,{breadcrumbs:L},{default:i(()=>[t("div",ee,[o(e(q),null,{default:i(()=>[o(e(O),null,{default:i(()=>[o(e(Q),null,{default:i(()=>[...s[16]||(s[16]=[n("Edit Biodata",-1)])]),_:1}),o(e(Y),null,{default:i(()=>[n(" Lengkapi data diri Anda untuk proses pendaftaran. Periode: "+u(m.activePeriod.name),1)]),_:1})]),_:1}),o(e(X),null,{default:i(()=>[t("form",{onSubmit:E(C,["prevent"]),class:"space-y-6"},[t("div",se,[s[28]||(s[28]=t("h3",{class:"text-lg font-medium"},"Data Pribadi",-1)),t("div",te,[t("div",le,[o(e(f),{for:"name"},{default:i(()=>[...s[17]||(s[17]=[n("Nama Lengkap *",-1)])]),_:1}),o(e(_),{id:"name",modelValue:e(l).name,"onUpdate:modelValue":s[0]||(s[0]=a=>e(l).name=a),placeholder:"Nama lengkap sesuai KTP"},null,8,["modelValue"]),e(l).errors.name?(d(),r("p",oe,u(e(l).errors.name),1)):p("",!0)]),t("div",ae,[o(e(f),{for:"nik"},{default:i(()=>[...s[18]||(s[18]=[n("NIK *",-1)])]),_:1}),o(e(_),{id:"nik",modelValue:e(l).nik,"onUpdate:modelValue":s[1]||(s[1]=a=>e(l).nik=a),placeholder:"16 digit NIK",maxlength:"16"},null,8,["modelValue"]),e(l).errors.nik?(d(),r("p",ie,u(e(l).errors.nik),1)):p("",!0)]),t("div",re,[o(e(f),{for:"nisn"},{default:i(()=>[...s[19]||(s[19]=[n("NISN",-1)])]),_:1}),o(e(_),{id:"nisn",modelValue:e(l).nisn,"onUpdate:modelValue":s[2]||(s[2]=a=>e(l).nisn=a),placeholder:"Nomor Induk Siswa Nasional"},null,8,["modelValue"]),e(l).errors.nisn?(d(),r("p",de,u(e(l).errors.nisn),1)):p("",!0)]),t("div",ne,[o(e(f),{for:"phone"},{default:i(()=>[...s[20]||(s[20]=[n("No. HP / WhatsApp *",-1)])]),_:1}),o(e(_),{id:"phone",modelValue:e(l).phone,"onUpdate:modelValue":s[3]||(s[3]=a=>e(l).phone=a),placeholder:"08xxxxxxxxxx"},null,8,["modelValue"]),e(l).errors.phone?(d(),r("p",ue,u(e(l).errors.phone),1)):p("",!0)]),t("div",pe,[o(e(f),null,{default:i(()=>[...s[21]||(s[21]=[n("Jenis Kelamin *",-1)])]),_:1}),o(e(K),{modelValue:e(l).gender,"onUpdate:modelValue":s[4]||(s[4]=a=>e(l).gender=a)},{default:i(()=>[o(e(N),{class:"w-full"},{default:i(()=>[o(e(U),{placeholder:"Pilih jenis kelamin"})]),_:1}),o(e(D),null,{default:i(()=>[o(e(V),{value:"Laki-laki"},{default:i(()=>[...s[22]||(s[22]=[n("Laki-laki",-1)])]),_:1}),o(e(V),{value:"Perempuan"},{default:i(()=>[...s[23]||(s[23]=[n("Perempuan",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(l).errors.gender?(d(),r("p",me,u(e(l).errors.gender),1)):p("",!0)]),t("div",fe,[o(e(f),{for:"birth_place"},{default:i(()=>[...s[24]||(s[24]=[n("Tempat Lahir *",-1)])]),_:1}),o(e(_),{id:"birth_place",modelValue:e(l).birth_place,"onUpdate:modelValue":s[5]||(s[5]=a=>e(l).birth_place=a),placeholder:"Kota tempat lahir"},null,8,["modelValue"]),e(l).errors.birth_place?(d(),r("p",_e,u(e(l).errors.birth_place),1)):p("",!0)]),t("div",ce,[o(e(f),{for:"birth_date"},{default:i(()=>[...s[25]||(s[25]=[n("Tanggal Lahir *",-1)])]),_:1}),o(e(_),{id:"birth_date",type:"date",modelValue:e(l).birth_date,"onUpdate:modelValue":s[6]||(s[6]=a=>e(l).birth_date=a)},null,8,["modelValue"]),e(l).errors.birth_date?(d(),r("p",ge,u(e(l).errors.birth_date),1)):p("",!0)]),t("div",xe,[o(e(f),null,{default:i(()=>[...s[26]||(s[26]=[n("Agama *",-1)])]),_:1}),o(e(K),{modelValue:e(l).religion,"onUpdate:modelValue":s[7]||(s[7]=a=>e(l).religion=a)},{default:i(()=>[o(e(N),{class:"w-full"},{default:i(()=>[o(e(U),{placeholder:"Pilih agama"})]),_:1}),o(e(D),null,{default:i(()=>[(d(),r(z,null,M(B,a=>o(e(V),{key:a,value:a},{default:i(()=>[n(u(a),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue"]),e(l).errors.religion?(d(),r("p",ke,u(e(l).errors.religion),1)):p("",!0)])]),t("div",ve,[o(e(f),{for:"address"},{default:i(()=>[...s[27]||(s[27]=[n("Alamat Lengkap *",-1)])]),_:1}),W(t("textarea",{id:"address","onUpdate:modelValue":s[8]||(s[8]=a=>e(l).address=a),rows:"3",class:"flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-xs placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring",placeholder:"Alamat lengkap sesuai KTP"},null,512),[[H,e(l).address]]),e(l).errors.address?(d(),r("p",be,u(e(l).errors.address),1)):p("",!0)])]),t("div",ye,[s[32]||(s[32]=t("h3",{class:"text-lg font-medium"},"Data Pendidikan",-1)),t("div",he,[t("div",Ve,[o(e(f),null,{default:i(()=>[...s[29]||(s[29]=[n("Pendidikan Terakhir",-1)])]),_:1}),o(e(K),{modelValue:e(l).last_education,"onUpdate:modelValue":s[9]||(s[9]=a=>e(l).last_education=a)},{default:i(()=>[o(e(N),{class:"w-full"},{default:i(()=>[o(e(U),{placeholder:"Pilih pendidikan"})]),_:1}),o(e(D),null,{default:i(()=>[(d(),r(z,null,M(S,a=>o(e(V),{key:a,value:a},{default:i(()=>[n(u(a),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue"])]),t("div",Pe,[o(e(f),{for:"school_origin"},{default:i(()=>[...s[30]||(s[30]=[n("Asal Sekolah *",-1)])]),_:1}),o(e(_),{id:"school_origin",modelValue:e(l).school_origin,"onUpdate:modelValue":s[10]||(s[10]=a=>e(l).school_origin=a),placeholder:"Nama sekolah asal"},null,8,["modelValue"]),e(l).errors.school_origin?(d(),r("p",je,u(e(l).errors.school_origin),1)):p("",!0)]),t("div",we,[o(e(f),{for:"major"},{default:i(()=>[...s[31]||(s[31]=[n("Jurusan",-1)])]),_:1}),o(e(_),{id:"major",modelValue:e(l).major,"onUpdate:modelValue":s[11]||(s[11]=a=>e(l).major=a),placeholder:"Jurusan di sekolah"},null,8,["modelValue"])])])]),t("div",ze,[s[48]||(s[48]=t("h3",{class:"text-lg font-medium"},"Upload Dokumen",-1)),t("div",Ke,[t("div",Ne,[o(e(f),null,{default:i(()=>[...s[33]||(s[33]=[n("Pas Foto *",-1)])]),_:1}),t("div",Ue,[j.value?(d(),r("div",De,[t("img",{src:j.value,class:"size-full object-cover"},null,8,Fe)])):p("",!0),t("div",Me,[t("label",$e,[o(e(P),{class:"size-8"}),s[34]||(s[34]=t("span",null,"Klik untuk upload",-1)),s[35]||(s[35]=t("span",{class:"text-xs"},"Max 1MB, format JPG/PNG",-1)),t("input",{type:"file",accept:"image/*",class:"hidden",onChange:s[12]||(s[12]=a=>b(a,"photo"))},null,32)])])]),e(l).errors.photo?(d(),r("p",Be,u(e(l).errors.photo),1)):p("",!0)]),t("div",Se,[o(e(f),null,{default:i(()=>[...s[36]||(s[36]=[n("KTP *",-1)])]),_:1}),t("div",Ce,[x.value?(d(),r("div",Le,[w(x.value)?(d(),r("div",Te,[o(c,{class:"size-8 text-red-500"}),s[37]||(s[37]=t("span",{class:"text-[10px]"},"PDF",-1))])):(d(),r("img",{key:1,src:x.value,class:"size-full object-cover"},null,8,Ae))])):p("",!0),t("div",Ge,[t("label",Je,[o(e(P),{class:"size-8"}),s[38]||(s[38]=t("span",null,"Klik untuk upload",-1)),s[39]||(s[39]=t("span",{class:"text-xs"},"Max 2MB, format JPG/PNG/PDF",-1)),t("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",class:"hidden",onChange:s[13]||(s[13]=a=>b(a,"ktp"))},null,32)])])]),e(l).errors.ktp?(d(),r("p",Ie,u(e(l).errors.ktp),1)):p("",!0)]),t("div",Ee,[o(e(f),null,{default:i(()=>[...s[40]||(s[40]=[n("Kartu Keluarga *",-1)])]),_:1}),t("div",We,[k.value?(d(),r("div",He,[w(k.value)?(d(),r("div",Re,[o(c,{class:"size-8 text-red-500"}),s[41]||(s[41]=t("span",{class:"text-[10px]"},"PDF",-1))])):(d(),r("img",{key:1,src:k.value,class:"size-full object-cover"},null,8,qe))])):p("",!0),t("div",Oe,[t("label",Qe,[o(e(P),{class:"size-8"}),s[42]||(s[42]=t("span",null,"Klik untuk upload",-1)),s[43]||(s[43]=t("span",{class:"text-xs"},"Max 2MB, format JPG/PNG/PDF",-1)),t("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",class:"hidden",onChange:s[14]||(s[14]=a=>b(a,"kk"))},null,32)])])]),e(l).errors.kk?(d(),r("p",Xe,u(e(l).errors.kk),1)):p("",!0)]),t("div",Ye,[o(e(f),null,{default:i(()=>[...s[44]||(s[44]=[n("Ijazah (Opsional)",-1)])]),_:1}),t("div",Ze,[v.value?(d(),r("div",es,[w(v.value)?(d(),r("div",ss,[o(c,{class:"size-8 text-red-500"}),s[45]||(s[45]=t("span",{class:"text-[10px]"},"PDF",-1))])):(d(),r("img",{key:1,src:v.value,class:"size-full object-cover"},null,8,ts))])):p("",!0),t("div",ls,[t("label",os,[o(e(P),{class:"size-8"}),s[46]||(s[46]=t("span",null,"Klik untuk upload",-1)),s[47]||(s[47]=t("span",{class:"text-xs"},"Max 2MB, format JPG/PNG/PDF",-1)),t("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",class:"hidden",onChange:s[15]||(s[15]=a=>b(a,"certificate"))},null,32)])])]),e(l).errors.certificate?(d(),r("p",as,u(e(l).errors.certificate),1)):p("",!0)])])]),t("div",is,[o(e(R),{type:"submit",disabled:e(l).processing,class:"w-full md:w-auto"},{default:i(()=>[n(u(e(l).processing?"Menyimpan...":"Simpan Biodata"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1})])]),_:1})],64)}}});export{Fs as default};
