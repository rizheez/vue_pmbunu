import{d as R,j as W,c as j,x as q,a as _,e as a,u as e,h as O,w as s,b as r,k as c,i as f,o as u,f as n,t as d,n as H,y as Q,F as p,r as g,q as X,z as Y}from"./app-gmhGTYl5.js";import{_ as S,a as w}from"./index-tr8byRV-.js";import{_ as V}from"./AlertTitle.vue_vue_type_script_setup_true_lang-CJjRVWiZ.js";import{a as Z,_ as ee}from"./AppLayout.vue_vue_type_script_setup_true_lang-cHWaO-Sm.js";import{_ as te}from"./index-KfBJ7KwE.js";import{_ as N,a as K,b as B,c as M}from"./CardTitle.vue_vue_type_script_setup_true_lang-D_qVIqQN.js";import{_ as ae}from"./CardDescription.vue_vue_type_script_setup_true_lang-Cb__R7OX.js";import{_ as b}from"./Label.vue_vue_type_script_setup_true_lang-DFk2-whH.js";import{_ as h,a as y,b as v,c as x,d as k}from"./SelectValue.vue_vue_type_script_setup_true_lang-C4YeS5og.js";import{_ as D,a as G}from"./SelectLabel.vue_vue_type_script_setup_true_lang-CkCraHir.js";import{f as T}from"./useFormat-CGBiKtzC.js";import{C as se}from"./file-text-DRi7mvTw.js";import{C as z}from"./circle-alert-mCSs5582.js";import{G as re}from"./user-plus-GOJ5_PN-.js";import"./VisuallyHidden-DZ_ZQekA.js";import"./createLucideIcon-EFwV1tpC.js";import"./index-BvDxRxNY.js";import"./triangle-alert-D-BHXM9O.js";import"./circle-x-VCBQpaaz.js";import"./ChatWidget.vue_vue_type_script_setup_true_lang-Cs9D0H_f.js";import"./index-CMWG4mbA.js";import"./loader-circle-DnO7O9gt.js";import"./useForwardExpose-Du9EeAmE.js";import"./useForwardPropsEmits-DEu5ykyH.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./chevron-down-CobRQiP5.js";import"./check-BUWmv-CV.js";import"./useFormControl-ckJ0RWEs.js";const ie={class:"flex flex-col gap-6 p-4"},le={class:"flex items-center justify-between"},oe={class:"grid gap-4 text-sm md:grid-cols-2"},ne={class:"flex justify-between border-b pb-2"},de={class:"font-mono font-medium"},ue={class:"flex justify-between border-b pb-2"},_e={class:"font-medium"},fe={class:"flex justify-between border-b pb-2"},me={class:"font-medium"},ce={class:"flex justify-between border-b pb-2"},pe={class:"text-right"},ge={class:"block font-medium"},be={key:0,class:"text-xs text-gray-500"},he={class:"flex justify-between border-b pb-2"},ye={class:"font-medium"},ve={class:"flex justify-between border-b pb-2"},xe={class:"font-medium"},ke=["disabled"],Pe={class:"grid gap-4 md:grid-cols-2"},Se={class:"space-y-2"},we={key:0,class:"text-sm text-red-500"},Ve={class:"space-y-2"},$e={key:0,class:"text-sm text-red-500"},Ue={class:"grid gap-4 md:grid-cols-2"},je={class:"space-y-2"},Ce={key:0,class:"space-y-2"},Ne=["placeholder"],Ke={class:"space-y-4"},Be={class:"grid gap-4 md:grid-cols-3"},Me={class:"space-y-2"},De={key:0,class:"text-sm text-red-500"},Ge={key:0,class:"space-y-2"},Te={key:0,class:"text-sm text-red-500"},ze={class:"flex justify-end"},mt=R({__name:"Index",props:{registration:{},activePeriod:{},registrationTypes:{},registrationPaths:{},fakultas:{},programStudi:{}},setup(A){const i=A,F=W(),P=j(()=>F.props.flash),o=q({registration_type_id:i.registration?.registration_type_id?String(i.registration.registration_type_id):"",registration_path_id:i.registration?.registration_path_id?String(i.registration.registration_path_id):"",referral_source:i.registration?.referral_source??"",referral_detail:i.registration?.referral_detail??"",choice_1:i.registration?.choice_1?String(i.registration.choice_1):"",choice_2:i.registration?.choice_2?String(i.registration.choice_2):"",choice_3:i.registration?.choice_3?String(i.registration.choice_3):""}),J=["Dosen/Panitia PMB UNU Kaltim","Media Sosial (Instagram/Facebook/Twitter)","Website Resmi UNU Kaltim","Teman/Keluarga","Sekolah/Guru","Brosur/Spanduk","Event/Pameran Pendidikan","Lainnya"],I=()=>{o.post("/student/pendaftaran")},$=j(()=>!!i.registration),U=j(()=>i.registration?i.registration.status==="submitted":!0),E=[{title:"Dashboard",href:"/student/dashboard"},{title:"Pendaftaran",href:"/student/pendaftaran"}],L=C=>o.choice_1?C?.program_studi?.some(t=>String(t.id)!==o.choice_1):!0;return(C,t)=>(u(),_(p,null,[a(e(O),{title:"Pendaftaran"}),a(ee,{breadcrumbs:E},{default:s(()=>[r("div",ie,[P.value?.success?(u(),c(e(S),{key:0,class:"border-green-500 bg-green-50"},{default:s(()=>[a(e(se),{class:"size-4 text-green-600"}),a(e(V),{class:"text-green-800"},{default:s(()=>[...t[6]||(t[6]=[n("Berhasil",-1)])]),_:1}),a(e(w),{class:"text-green-700"},{default:s(()=>[n(d(P.value.success),1)]),_:1})]),_:1})):f("",!0),P.value?.error?(u(),c(e(S),{key:1,variant:"destructive"},{default:s(()=>[a(e(z),{class:"size-4"}),a(e(V),null,{default:s(()=>[...t[7]||(t[7]=[n("Error",-1)])]),_:1}),a(e(w),null,{default:s(()=>[n(d(P.value.error),1)]),_:1})]),_:1})):f("",!0),a(e(S),{class:"border-blue-500 bg-blue-50"},{default:s(()=>[a(e(re),{class:"size-4 text-blue-600"}),a(e(V),{class:"text-blue-800"},{default:s(()=>[n(d(i.activePeriod.name),1)]),_:1}),a(e(w),{class:"text-blue-700"},{default:s(()=>[n(" Periode: "+d(e(T)(i.activePeriod.start_date))+" - "+d(e(T)(i.activePeriod.end_date)),1)]),_:1})]),_:1}),$.value?(u(),c(e(N),{key:2},{default:s(()=>[a(e(K),null,{default:s(()=>[r("div",le,[a(e(B),null,{default:s(()=>[...t[8]||(t[8]=[n("Status Pendaftaran",-1)])]),_:1}),a(e(Z),{class:H(i.registration?.status_badge_class)},{default:s(()=>[n(d(i.registration?.status_label||i.registration?.status),1)]),_:1},8,["class"])])]),_:1}),a(e(M),{class:"space-y-4"},{default:s(()=>[r("div",oe,[r("div",ne,[t[9]||(t[9]=r("span",{class:"text-gray-500"},"No. Pendaftaran",-1)),r("span",de,d(i.registration?.registration_number||"-"),1)]),r("div",ue,[t[10]||(t[10]=r("span",{class:"text-gray-500"},"Jenis Pendaftaran",-1)),r("span",_e,d(i.registration?.registration_type?.name||"-"),1)]),r("div",fe,[t[11]||(t[11]=r("span",{class:"text-gray-500"},"Jalur",-1)),r("span",me,d(i.registration?.registration_path?.name||"-"),1)]),r("div",ce,[t[12]||(t[12]=r("span",{class:"text-gray-500"},"Sumber Informasi",-1)),r("div",pe,[r("span",ge,d(i.registration?.referral_source||"-"),1),i.registration?.referral_detail?(u(),_("span",be,d(i.registration?.referral_detail),1)):f("",!0)])]),r("div",he,[t[13]||(t[13]=r("span",{class:"text-gray-500"},"Pilihan 1",-1)),r("span",ye,d(i.registration?.program_studi_choice1?.name||"-"),1)]),r("div",ve,[t[14]||(t[14]=r("span",{class:"text-gray-500"},"Pilihan 2",-1)),r("span",xe,d(i.registration?.program_studi_choice2?.name||"-"),1)])])]),_:1})]),_:1})):f("",!0),a(e(N),null,{default:s(()=>[a(e(K),null,{default:s(()=>[a(e(B),null,{default:s(()=>[n(d($.value?"Update Pendaftaran":"Form Pendaftaran"),1)]),_:1}),a(e(ae),null,{default:s(()=>[...t[15]||(t[15]=[n(" Pilih jenis pendaftaran dan program studi yang diinginkan ",-1)])]),_:1})]),_:1}),a(e(M),null,{default:s(()=>[U.value?f("",!0):(u(),c(e(S),{key:0,class:"mb-6 border-yellow-500 bg-yellow-50"},{default:s(()=>[a(e(z),{class:"size-4 text-yellow-600"}),a(e(V),{class:"text-yellow-800"},{default:s(()=>[...t[16]||(t[16]=[n("Form Terkunci",-1)])]),_:1}),a(e(w),{class:"text-yellow-700"},{default:s(()=>[t[17]||(t[17]=n(" Pendaftaran tidak dapat diubah karena status anda saat ini adalah ",-1)),r("strong",null,d(i.registration?.status_label?.toUpperCase()),1)]),_:1})]),_:1})),r("fieldset",{disabled:!U.value,class:"space-y-6"},[r("form",{onSubmit:Q(I,["prevent"]),class:"space-y-6"},[r("div",Pe,[r("div",Se,[a(e(b),{for:"registration_type_id"},{default:s(()=>[...t[18]||(t[18]=[n("Jenis Pendaftaran *",-1)])]),_:1}),a(e(h),{modelValue:e(o).registration_type_id,"onUpdate:modelValue":t[0]||(t[0]=l=>e(o).registration_type_id=l)},{default:s(()=>[a(e(y),{class:"w-full"},{default:s(()=>[a(e(v),{placeholder:"Pilih Jenis"})]),_:1}),a(e(x),null,{default:s(()=>[(u(!0),_(p,null,g(i.registrationTypes,l=>(u(),c(e(k),{key:l.id,value:String(l.id)},{default:s(()=>[n(d(l.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(o).errors.registration_type_id?(u(),_("p",we,d(e(o).errors.registration_type_id),1)):f("",!0)]),r("div",Ve,[a(e(b),{for:"registration_path_id"},{default:s(()=>[...t[19]||(t[19]=[n("Jalur Pendaftaran *",-1)])]),_:1}),a(e(h),{modelValue:e(o).registration_path_id,"onUpdate:modelValue":t[1]||(t[1]=l=>e(o).registration_path_id=l)},{default:s(()=>[a(e(y),{class:"w-full"},{default:s(()=>[a(e(v),{placeholder:"Pilih Jalur"})]),_:1}),a(e(x),null,{default:s(()=>[(u(!0),_(p,null,g(i.registrationPaths,l=>(u(),c(e(k),{key:l.id,value:String(l.id),disabled:l.name==="Kelas Karyawan"},{default:s(()=>[n(d(l.name),1)]),_:2},1032,["value","disabled"]))),128))]),_:1})]),_:1},8,["modelValue"]),t[20]||(t[20]=r("p",{class:"text-xs text-muted-foreground"},[n(" Untuk pendaftaran Kelas Karyawan, silakan kunjungi "),r("a",{href:"https://edunitas.com/kampus/unu-kaltim/",target:"_blank",rel:"noopener noreferrer",class:"text-blue-600 hover:text-blue-800 hover:underline"}," edunitas.com "),n(" atau hubungi (WA) "),r("a",{href:"https://wa.me/6285216013229",target:"_blank",rel:"noopener noreferrer",class:"text-blue-600 hover:text-blue-800 hover:underline"},"+62 852-1601-3229"),n(". ")],-1)),e(o).errors.registration_path_id?(u(),_("p",$e,d(e(o).errors.registration_path_id),1)):f("",!0)])]),r("div",Ue,[r("div",je,[a(e(b),{for:"referral_source"},{default:s(()=>[...t[21]||(t[21]=[n("Sumber Informasi",-1)])]),_:1}),a(e(h),{modelValue:e(o).referral_source,"onUpdate:modelValue":t[2]||(t[2]=l=>e(o).referral_source=l)},{default:s(()=>[a(e(y),{class:"w-full"},{default:s(()=>[a(e(v),{placeholder:"Pilih Sumber"})]),_:1}),a(e(x),null,{default:s(()=>[(u(),_(p,null,g(J,l=>a(e(k),{key:l,value:l},{default:s(()=>[n(d(l),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue"])]),e(o).referral_source==="Lainnya"||e(o).referral_source==="Sekolah/Guru"||e(o).referral_source==="Dosen/Panitia PMB UNU Kaltim"?(u(),_("div",Ce,[a(e(b),{for:"referral_detail"},{default:s(()=>[...t[22]||(t[22]=[n("Detail Sumber Informasi",-1)])]),_:1}),X(r("input",{id:"referral_detail","onUpdate:modelValue":t[3]||(t[3]=l=>e(o).referral_detail=l),type:"text",class:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-xs placeholder:text-muted-foreground focus-visible:ring-1 focus-visible:ring-ring focus-visible:outline-none",placeholder:e(o).referral_source==="Lainnya"||e(o).referral_source==="Dosen/Panitia PMB UNU Kaltim"?"Sebutkan Nama yang Merekomendasikan Anda. Contoh Gilang Suhendra, S.Pd":"Sebutkan Nama Sekolah/Guru. Contoh: Ahmad Galih, S.Pd (SMA Negeri 1 Kaltim)"},null,8,Ne),[[Y,e(o).referral_detail]])])):f("",!0)]),r("div",Ke,[t[25]||(t[25]=r("h3",{class:"text-lg font-medium"}," Pilihan Program Studi ",-1)),r("div",Be,[r("div",Me,[a(e(b),{for:"choice_1"},{default:s(()=>[...t[23]||(t[23]=[n("Pilihan 1 *",-1)])]),_:1}),a(e(h),{modelValue:e(o).choice_1,"onUpdate:modelValue":t[4]||(t[4]=l=>e(o).choice_1=l)},{default:s(()=>[a(e(y),{class:"w-full"},{default:s(()=>[a(e(v),{placeholder:"Pilih Program Studi"})]),_:1}),a(e(x),null,{default:s(()=>[(u(!0),_(p,null,g(i.fakultas,l=>(u(),c(e(D),{key:l.id},{default:s(()=>[a(e(G),null,{default:s(()=>[n(d(l.name),1)]),_:2},1024),(u(!0),_(p,null,g(l.program_studi,m=>(u(),c(e(k),{key:m.id,value:String(m.id)},{default:s(()=>[n(d(m.jenjang)+" - "+d(m.name),1)]),_:2},1032,["value"]))),128))]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"]),e(o).errors.choice_1?(u(),_("p",De,d(e(o).errors.choice_1),1)):f("",!0)]),e(o).choice_1?(u(),_("div",Ge,[a(e(b),{for:"choice_2"},{default:s(()=>[...t[24]||(t[24]=[n("Pilihan 2 *",-1)])]),_:1}),a(e(h),{modelValue:e(o).choice_2,"onUpdate:modelValue":t[5]||(t[5]=l=>e(o).choice_2=l)},{default:s(()=>[a(e(y),{class:"w-full"},{default:s(()=>[a(e(v),{placeholder:"Pilih Program Studi"})]),_:1}),a(e(x),null,{default:s(()=>[(u(!0),_(p,null,g(i.fakultas,l=>(u(),_(p,{key:l.id},[L(l)?(u(),c(e(D),{key:0},{default:s(()=>[a(e(G),null,{default:s(()=>[n(d(l.name),1)]),_:2},1024),(u(!0),_(p,null,g(l.program_studi,m=>(u(),_(p,{key:m.id},[String(m.id)!==e(o).choice_1?(u(),c(e(k),{key:0,value:String(m.id)},{default:s(()=>[n(d(m.jenjang)+" - "+d(m.name),1)]),_:2},1032,["value"])):f("",!0)],64))),128))]),_:2},1024)):f("",!0)],64))),128))]),_:1})]),_:1},8,["modelValue"]),e(o).errors.choice_2?(u(),_("p",Te,d(e(o).errors.choice_2),1)):f("",!0)])):f("",!0)])]),r("div",ze,[a(e(te),{type:"submit",disabled:e(o).processing||!U.value,class:"w-full md:w-auto"},{default:s(()=>[n(d(e(o).processing?"Menyimpan...":$.value?"Update Pendaftaran":"Kirim Pendaftaran"),1)]),_:1},8,["disabled"])])],32)],8,ke)]),_:1})]),_:1})])]),_:1})],64))}});export{mt as default};
