import{d as $,p as v,C as V,a as d,e as r,u as s,h as C,w as i,b as t,f,t as l,i as c,q as w,E as M,B as k,o as n,F as u,r as h,l as D,k as j,n as z,s as B}from"./app-CcuLLWMw.js";import{_ as N}from"./index-D-jME6Ot.js";import{_ as y}from"./index-u_ueQ1j-.js";import{_ as E,a as P,b as U,c as F}from"./CardTitle.vue_vue_type_script_setup_true_lang-DCqfsORM.js";import{_ as H}from"./CardDescription.vue_vue_type_script_setup_true_lang-tK9WvzFR.js";import{_ as L}from"./Input.vue_vue_type_script_setup_true_lang-Bf066nZ2.js";import{_ as A}from"./AppLayout.vue_vue_type_script_setup_true_lang-KrPhG79J.js";import{f as I}from"./useFormat-PUfnQ01r.js";import{S as K}from"./search-D0qsccN3.js";import{E as q}from"./eye-DOycYUQK.js";import"./index-Do2AIBFg.js";import"./VisuallyHidden-BIMyNfP6.js";import"./createLucideIcon-DmmUP9a7.js";import"./triangle-alert-TjeGXdBw.js";import"./circle-x-y3s0yQf6.js";import"./file-text-BuDiMqOG.js";import"./x-CH2z8EwH.js";import"./useForwardExpose-CVoJtl4u.js";import"./useForwardPropsEmits-BYM72Y4V.js";import"./index-BHw9BgFF.js";import"./index-CMWG4mbA.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./user-plus-D9cn_rhc.js";const G={class:"flex flex-col gap-6 p-4"},J={class:"flex items-center justify-between"},O={class:"mb-6 flex flex-wrap gap-4"},Q={class:"flex items-center gap-2"},R=["value"],W={class:"overflow-x-auto rounded-lg border"},X={class:"w-full text-sm"},Y={class:"divide-y"},Z={class:"px-4 py-3 font-mono text-xs"},tt={class:"px-4 py-3 font-medium"},et={class:"px-4 py-3 text-gray-500"},at={class:"px-4 py-3"},st={class:"flex flex-col"},rt={class:"font-medium"},it={key:0,class:"text-xs text-gray-500"},lt={class:"px-4 py-3"},ot={class:"px-4 py-3 text-gray-500"},nt={class:"px-4 py-3"},dt={class:"px-4 py-3"},mt={key:0},pt={key:0,class:"mt-4 flex items-center justify-between"},ut={class:"text-sm text-gray-500"},ft={class:"flex gap-1"},ct=["innerHTML"],Ft=$({__name:"Index",props:{students:{},periods:{},filters:{}},setup(S){const o=S,_=v(o.filters.search||""),m=v(o.filters.status||"all"),p=v(o.filters.period||"all"),x=()=>{B.get("/admin/students",{search:_.value||void 0,status:m.value!=="all"?m.value:void 0,period:p.value!=="all"?p.value:void 0},{preserveState:!0})};V([m,p],()=>x());const g=b=>({draft:{variant:"secondary",label:"Draft"},submitted:{variant:"outline",label:"Terdaftar"},verified:{variant:"default",label:"Terverifikasi"},accepted:{variant:"default",label:"Diterima"},rejected:{variant:"destructive",label:"Ditolak"}})[b||""]||{variant:"secondary",label:"Unknown"},T=[{title:"Admin Dashboard",href:"/admin/dashboard"},{title:"Students",href:"/admin/students"}];return(b,a)=>(n(),d(u,null,[r(s(C),{title:"Manajemen Mahasiswa"}),r(A,{breadcrumbs:T},{default:i(()=>[t("div",G,[r(s(E),null,{default:i(()=>[r(s(P),null,{default:i(()=>[t("div",J,[t("div",null,[r(s(U),null,{default:i(()=>[...a[3]||(a[3]=[f("Manajemen Mahasiswa",-1)])]),_:1}),r(s(H),null,{default:i(()=>[f(" Total: "+l(o.students.total)+" mahasiswa ",1)]),_:1})])])]),_:1}),r(s(F),null,{default:i(()=>[t("div",O,[t("div",Q,[r(s(L),{modelValue:_.value,"onUpdate:modelValue":a[0]||(a[0]=e=>_.value=e),placeholder:"Cari nama, email, no. pendaftaran...",class:"w-64",onKeyup:M(x,["enter"])},null,8,["modelValue"]),r(s(y),{size:"icon",variant:"outline",onClick:x},{default:i(()=>[r(s(K),{class:"size-4"})]),_:1})]),w(t("select",{"onUpdate:modelValue":a[1]||(a[1]=e=>m.value=e),class:"rounded-md border border-input bg-transparent px-3 py-2 text-sm"},[...a[4]||(a[4]=[t("option",{value:"all"},"Semua Status",-1),t("option",{value:"draft"},"Draft",-1),t("option",{value:"submitted"},"Terdaftar",-1),t("option",{value:"verified"},"Terverifikasi",-1),t("option",{value:"accepted"},"Diterima",-1),t("option",{value:"rejected"},"Ditolak",-1)])],512),[[k,m.value]]),w(t("select",{"onUpdate:modelValue":a[2]||(a[2]=e=>p.value=e),class:"rounded-md border border-input bg-transparent px-3 py-2 text-sm"},[a[5]||(a[5]=t("option",{value:"all"},"Semua Periode",-1)),(n(!0),d(u,null,h(o.periods,e=>(n(),d("option",{key:e.id,value:e.id},l(e.name),9,R))),128))],512),[[k,p.value]])]),t("div",W,[t("table",X,[a[8]||(a[8]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"min-w-[140px] px-4 py-3 text-left font-medium"}," No. Pendaftaran "),t("th",{class:"min-w-[200px] px-4 py-3 text-left font-medium"}," Nama "),t("th",{class:"min-w-[200px] px-4 py-3 text-left font-medium"}," Email "),t("th",{class:"min-w-[200px] px-4 py-3 text-left font-medium"}," Sumber Informasi "),t("th",{class:"min-w-[180px] px-4 py-3 text-left font-medium"}," Prodi Pilihan 1 "),t("th",{class:"whitespace-nowrap px-4 py-3 text-left font-medium"}," Tanggal Daftar "),t("th",{class:"px-4 py-3 text-left font-medium"}," Status "),t("th",{class:"px-4 py-3 text-left font-medium"}," Aksi ")])],-1)),t("tbody",Y,[(n(!0),d(u,null,h(o.students.data,e=>(n(),d("tr",{key:e.id,class:"hover:bg-gray-50"},[t("td",Z,l(e.registration?.registration_number||"-"),1),t("td",tt,l(e.student_biodata?.name||e.name),1),t("td",et,l(e.email),1),t("td",at,[t("div",st,[t("span",rt,l(e.registration?.referral_source||"-"),1),e.registration?.referral_detail?(n(),d("span",it,l(e.registration.referral_detail),1)):c("",!0)])]),t("td",lt,l(e.registration?.program_studi_choice1?.name||"-"),1),t("td",ot,l(e.registration?.created_at?s(I)(e.registration.created_at):"-"),1),t("td",nt,[r(s(N),{variant:g(e.registration?.status).variant},{default:i(()=>[f(l(g(e.registration?.status).label),1)]),_:2},1032,["variant"])]),t("td",dt,[r(s(y),{"as-child":"",variant:"ghost",size:"sm"},{default:i(()=>[r(s(D),{href:`/admin/students/${e.id}`},{default:i(()=>[r(s(q),{class:"mr-1 size-4"}),a[6]||(a[6]=f(" Detail ",-1))]),_:1},8,["href"])]),_:2},1024)])]))),128)),o.students.data.length===0?(n(),d("tr",mt,[...a[7]||(a[7]=[t("td",{colspan:"8",class:"px-4 py-8 text-center text-gray-500"}," Tidak ada data mahasiswa ",-1)])])):c("",!0)])])]),o.students.last_page>1?(n(),d("div",pt,[t("p",ut," Halaman "+l(o.students.current_page)+" dari "+l(o.students.last_page),1),t("div",ft,[(n(!0),d(u,null,h(o.students.links,e=>(n(),d(u,{key:e.label},[e.url?(n(),j(s(y),{key:0,"as-child":"",variant:"outline",size:"sm",class:z({"bg-primary text-primary-foreground":e.active})},{default:i(()=>[r(s(D),{href:e.url},{default:i(()=>[t("span",{innerHTML:e.label},null,8,ct)]),_:2},1032,["href"])]),_:2},1032,["class"])):c("",!0)],64))),128))])])):c("",!0)]),_:1})]),_:1})])]),_:1})],64))}});export{Ft as default};
