import{d as R,j as q,c as j,x as O,a as _,e as a,u as e,h as W,w as s,b as r,k as c,i as f,o as d,f as u,t as n,n as Z,y as H,F as p,r as g,q as Q,z as X}from"./app-Cx-YbW0z.js";import{_ as S,a as w}from"./index-BWEKAOo2.js";import{_ as V}from"./AlertTitle.vue_vue_type_script_setup_true_lang-DmhVJJCq.js";import{a as Y,_ as ee}from"./AppLayout.vue_vue_type_script_setup_true_lang-CB5Qh2gb.js";import{_ as te}from"./index-BXHwBiz4.js";import{_ as B,a as N,b as D,c as M}from"./CardTitle.vue_vue_type_script_setup_true_lang-DcjBKxYN.js";import{_ as ae}from"./CardDescription.vue_vue_type_script_setup_true_lang-DbQM9qM8.js";import{_ as b}from"./Label.vue_vue_type_script_setup_true_lang-MkQAhhOS.js";import{_ as y,a as h,b as v,c as x,d as P}from"./SelectValue.vue_vue_type_script_setup_true_lang-1M4Pcude.js";import{_ as K,a as T}from"./SelectLabel.vue_vue_type_script_setup_true_lang-DZz7sNvG.js";import{f as z}from"./useFormat-CGBiKtzC.js";import{C as se}from"./file-text-DVxK8i-9.js";import{C as F}from"./circle-alert-DcAN626K.js";import{G as re}from"./user-plus-ChVF2rQG.js";import"./VisuallyHidden-CU1rIBCY.js";import"./createLucideIcon-L-pjozDK.js";import"./index-DMkMXZII.js";import"./triangle-alert-BnaMgk3K.js";import"./circle-x-DWXyU4y7.js";import"./ChatWidget.vue_vue_type_script_setup_true_lang-BmJz_EHm.js";import"./index-CMWG4mbA.js";import"./loader-circle-D2WxobqY.js";import"./useForwardExpose-DWcEi016.js";import"./useForwardPropsEmits-BahzTpss.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./chevron-down-DWtLgd2G.js";import"./check-Dp8eBK43.js";import"./useFormControl-C5Z3Odjz.js";const ie={class:"flex flex-col gap-6 p-4"},le={class:"flex items-center justify-between"},oe={class:"grid gap-4 text-sm md:grid-cols-2"},ne={class:"flex justify-between border-b pb-2"},de={class:"font-mono font-medium"},ue={class:"flex justify-between border-b pb-2"},_e={class:"font-medium"},fe={class:"flex justify-between border-b pb-2"},me={class:"font-medium"},ce={class:"flex justify-between border-b pb-2"},pe={class:"text-right"},ge={class:"block font-medium"},be={key:0,class:"text-xs text-gray-500"},ye={class:"flex justify-between border-b pb-2"},he={class:"font-medium"},ve={class:"flex justify-between border-b pb-2"},xe={class:"font-medium"},Pe=["disabled"],ke={class:"grid gap-4 md:grid-cols-2"},Se={class:"space-y-2"},we={key:0,class:"text-sm text-red-500"},Ve={class:"space-y-2"},$e={key:0,class:"text-sm text-red-500"},Ue={class:"grid gap-4 md:grid-cols-2"},je={class:"space-y-2"},Ce={key:0,class:"space-y-2"},Be=["placeholder"],Ne={class:"space-y-4"},De={class:"grid gap-4 md:grid-cols-3"},Me={class:"space-y-2"},Ke={key:0,class:"text-sm text-red-500"},Te={key:0,class:"space-y-2"},ze={key:0,class:"text-sm text-red-500"},Fe={class:"flex justify-end"},mt=R({__name:"Index",props:{registration:{},activePeriod:{},registrationTypes:{},registrationPaths:{},fakultas:{},programStudi:{}},setup(G){const i=G,J=q(),k=j(()=>J.props.flash),l=O({registration_type_id:i.registration?.registration_type_id?String(i.registration.registration_type_id):"",registration_path_id:i.registration?.registration_path_id?String(i.registration.registration_path_id):"",referral_source:i.registration?.referral_source??"",referral_detail:i.registration?.referral_detail??"",choice_1:i.registration?.choice_1?String(i.registration.choice_1):"",choice_2:i.registration?.choice_2?String(i.registration.choice_2):"",choice_3:i.registration?.choice_3?String(i.registration.choice_3):""}),A=["Dosen/Panitia PMB UNU Kaltim","Media Sosial (Instagram/Facebook/Twitter)","Website Resmi UNU Kaltim","Teman/Keluarga","Sekolah/Guru","Brosur/Spanduk","Event/Pameran Pendidikan","Lainnya"],I=()=>{l.post("/student/pendaftaran")},$=j(()=>!!i.registration),U=j(()=>i.registration?i.registration.status==="submitted":!0),E=[{title:"Dashboard",href:"/student/dashboard"},{title:"Pendaftaran",href:"/student/pendaftaran"}],L=C=>l.choice_1?C?.program_studi?.some(t=>String(t.id)!==l.choice_1):!0;return(C,t)=>(d(),_(p,null,[a(e(W),{title:"Pendaftaran"}),a(ee,{breadcrumbs:E},{default:s(()=>[r("div",ie,[k.value?.success?(d(),c(e(S),{key:0,class:"border-green-500 bg-green-50"},{default:s(()=>[a(e(se),{class:"size-4 text-green-600"}),a(e(V),{class:"text-green-800"},{default:s(()=>[...t[6]||(t[6]=[u("Berhasil",-1)])]),_:1}),a(e(w),{class:"text-green-700"},{default:s(()=>[u(n(k.value.success),1)]),_:1})]),_:1})):f("",!0),k.value?.error?(d(),c(e(S),{key:1,variant:"destructive"},{default:s(()=>[a(e(F),{class:"size-4"}),a(e(V),null,{default:s(()=>[...t[7]||(t[7]=[u("Error",-1)])]),_:1}),a(e(w),null,{default:s(()=>[u(n(k.value.error),1)]),_:1})]),_:1})):f("",!0),a(e(S),{class:"border-blue-500 bg-blue-50"},{default:s(()=>[a(e(re),{class:"size-4 text-blue-600"}),a(e(V),{class:"text-blue-800"},{default:s(()=>[u(n(i.activePeriod.name),1)]),_:1}),a(e(w),{class:"text-blue-700"},{default:s(()=>[u(" Periode: "+n(e(z)(i.activePeriod.start_date))+" - "+n(e(z)(i.activePeriod.end_date)),1)]),_:1})]),_:1}),$.value?(d(),c(e(B),{key:2},{default:s(()=>[a(e(N),null,{default:s(()=>[r("div",le,[a(e(D),null,{default:s(()=>[...t[8]||(t[8]=[u("Status Pendaftaran",-1)])]),_:1}),a(e(Y),{class:Z(i.registration?.status_badge_class)},{default:s(()=>[u(n(i.registration?.status_label||i.registration?.status),1)]),_:1},8,["class"])])]),_:1}),a(e(M),{class:"space-y-4"},{default:s(()=>[r("div",oe,[r("div",ne,[t[9]||(t[9]=r("span",{class:"text-gray-500"},"No. Pendaftaran",-1)),r("span",de,n(i.registration?.registration_number||"-"),1)]),r("div",ue,[t[10]||(t[10]=r("span",{class:"text-gray-500"},"Jenis Pendaftaran",-1)),r("span",_e,n(i.registration?.registration_type?.name||"-"),1)]),r("div",fe,[t[11]||(t[11]=r("span",{class:"text-gray-500"},"Jalur",-1)),r("span",me,n(i.registration?.registration_path?.name||"-"),1)]),r("div",ce,[t[12]||(t[12]=r("span",{class:"text-gray-500"},"Sumber Informasi",-1)),r("div",pe,[r("span",ge,n(i.registration?.referral_source||"-"),1),i.registration?.referral_detail?(d(),_("span",be,n(i.registration?.referral_detail),1)):f("",!0)])]),r("div",ye,[t[13]||(t[13]=r("span",{class:"text-gray-500"},"Pilihan 1",-1)),r("span",he,n(i.registration?.program_studi_choice1?.name||"-"),1)]),r("div",ve,[t[14]||(t[14]=r("span",{class:"text-gray-500"},"Pilihan 2",-1)),r("span",xe,n(i.registration?.program_studi_choice2?.name||"-"),1)])])]),_:1})]),_:1})):f("",!0),a(e(B),null,{default:s(()=>[a(e(N),null,{default:s(()=>[a(e(D),null,{default:s(()=>[u(n($.value?"Update Pendaftaran":"Form Pendaftaran"),1)]),_:1}),a(e(ae),null,{default:s(()=>[...t[15]||(t[15]=[u(" Pilih jenis pendaftaran dan program studi yang diinginkan ",-1)])]),_:1})]),_:1}),a(e(M),null,{default:s(()=>[U.value?f("",!0):(d(),c(e(S),{key:0,class:"mb-6 border-yellow-500 bg-yellow-50"},{default:s(()=>[a(e(F),{class:"size-4 text-yellow-600"}),a(e(V),{class:"text-yellow-800"},{default:s(()=>[...t[16]||(t[16]=[u("Form Terkunci",-1)])]),_:1}),a(e(w),{class:"text-yellow-700"},{default:s(()=>[t[17]||(t[17]=u(" Pendaftaran tidak dapat diubah karena status anda saat ini adalah ",-1)),r("strong",null,n(i.registration?.status_label?.toUpperCase()),1)]),_:1})]),_:1})),r("fieldset",{disabled:!U.value,class:"space-y-6"},[r("form",{onSubmit:H(I,["prevent"]),class:"space-y-6"},[r("div",ke,[r("div",Se,[a(e(b),{for:"registration_type_id"},{default:s(()=>[...t[18]||(t[18]=[u("Jenis Pendaftaran *",-1)])]),_:1}),a(e(y),{modelValue:e(l).registration_type_id,"onUpdate:modelValue":t[0]||(t[0]=o=>e(l).registration_type_id=o)},{default:s(()=>[a(e(h),{class:"w-full"},{default:s(()=>[a(e(v),{placeholder:"Pilih Jenis"})]),_:1}),a(e(x),null,{default:s(()=>[(d(!0),_(p,null,g(i.registrationTypes,o=>(d(),c(e(P),{key:o.id,value:String(o.id)},{default:s(()=>[u(n(o.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(l).errors.registration_type_id?(d(),_("p",we,n(e(l).errors.registration_type_id),1)):f("",!0)]),r("div",Ve,[a(e(b),{for:"registration_path_id"},{default:s(()=>[...t[19]||(t[19]=[u("Jalur Pendaftaran *",-1)])]),_:1}),a(e(y),{modelValue:e(l).registration_path_id,"onUpdate:modelValue":t[1]||(t[1]=o=>e(l).registration_path_id=o)},{default:s(()=>[a(e(h),{class:"w-full"},{default:s(()=>[a(e(v),{placeholder:"Pilih Jalur"})]),_:1}),a(e(x),null,{default:s(()=>[(d(!0),_(p,null,g(i.registrationPaths,o=>(d(),c(e(P),{key:o.id,value:String(o.id)},{default:s(()=>[u(n(o.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(l).errors.registration_path_id?(d(),_("p",$e,n(e(l).errors.registration_path_id),1)):f("",!0)])]),r("div",Ue,[r("div",je,[a(e(b),{for:"referral_source"},{default:s(()=>[...t[20]||(t[20]=[u("Sumber Informasi",-1)])]),_:1}),a(e(y),{modelValue:e(l).referral_source,"onUpdate:modelValue":t[2]||(t[2]=o=>e(l).referral_source=o)},{default:s(()=>[a(e(h),{class:"w-full"},{default:s(()=>[a(e(v),{placeholder:"Pilih Sumber"})]),_:1}),a(e(x),null,{default:s(()=>[(d(),_(p,null,g(A,o=>a(e(P),{key:o,value:o},{default:s(()=>[u(n(o),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue"])]),e(l).referral_source==="Lainnya"||e(l).referral_source==="Sekolah/Guru"||e(l).referral_source==="Dosen/Panitia PMB UNU Kaltim"?(d(),_("div",Ce,[a(e(b),{for:"referral_detail"},{default:s(()=>[...t[21]||(t[21]=[u("Detail Sumber Informasi",-1)])]),_:1}),Q(r("input",{id:"referral_detail","onUpdate:modelValue":t[3]||(t[3]=o=>e(l).referral_detail=o),type:"text",class:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-xs placeholder:text-muted-foreground focus-visible:ring-1 focus-visible:ring-ring focus-visible:outline-none",placeholder:e(l).referral_source==="Dosen/Panitia PMB UNU Kaltim"?"Dr. Ahmad Zulkifi, M.Pd (081234567890)":e(l).referral_source==="Sekolah/Guru"?"Ahmad Galih, S.Pd - SMA Negeri 1 Kaltim (081234567890)":"Sebutkan sumber informasi lainnya"},null,8,Be),[[X,e(l).referral_detail]]),t[22]||(t[22]=r("p",{class:"text-xs text-muted-foreground"}," Cantumkan nama lengkap dan nomor telepon yang dapat dihubungi ",-1))])):f("",!0)]),r("div",Ne,[t[25]||(t[25]=r("h3",{class:"text-lg font-medium"}," Pilihan Program Studi ",-1)),r("div",De,[r("div",Me,[a(e(b),{for:"choice_1"},{default:s(()=>[...t[23]||(t[23]=[u("Pilihan 1 *",-1)])]),_:1}),a(e(y),{modelValue:e(l).choice_1,"onUpdate:modelValue":t[4]||(t[4]=o=>e(l).choice_1=o)},{default:s(()=>[a(e(h),{class:"w-full"},{default:s(()=>[a(e(v),{placeholder:"Pilih Program Studi"})]),_:1}),a(e(x),null,{default:s(()=>[(d(!0),_(p,null,g(i.fakultas,o=>(d(),c(e(K),{key:o.id},{default:s(()=>[a(e(T),null,{default:s(()=>[u(n(o.name),1)]),_:2},1024),(d(!0),_(p,null,g(o.program_studi,m=>(d(),c(e(P),{key:m.id,value:String(m.id)},{default:s(()=>[u(n(m.jenjang)+" - "+n(m.name),1)]),_:2},1032,["value"]))),128))]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"]),e(l).errors.choice_1?(d(),_("p",Ke,n(e(l).errors.choice_1),1)):f("",!0)]),e(l).choice_1?(d(),_("div",Te,[a(e(b),{for:"choice_2"},{default:s(()=>[...t[24]||(t[24]=[u("Pilihan 2 *",-1)])]),_:1}),a(e(y),{modelValue:e(l).choice_2,"onUpdate:modelValue":t[5]||(t[5]=o=>e(l).choice_2=o)},{default:s(()=>[a(e(h),{class:"w-full"},{default:s(()=>[a(e(v),{placeholder:"Pilih Program Studi"})]),_:1}),a(e(x),null,{default:s(()=>[(d(!0),_(p,null,g(i.fakultas,o=>(d(),_(p,{key:o.id},[L(o)?(d(),c(e(K),{key:0},{default:s(()=>[a(e(T),null,{default:s(()=>[u(n(o.name),1)]),_:2},1024),(d(!0),_(p,null,g(o.program_studi,m=>(d(),_(p,{key:m.id},[String(m.id)!==e(l).choice_1?(d(),c(e(P),{key:0,value:String(m.id)},{default:s(()=>[u(n(m.jenjang)+" - "+n(m.name),1)]),_:2},1032,["value"])):f("",!0)],64))),128))]),_:2},1024)):f("",!0)],64))),128))]),_:1})]),_:1},8,["modelValue"]),e(l).errors.choice_2?(d(),_("p",ze,n(e(l).errors.choice_2),1)):f("",!0)])):f("",!0)])]),r("div",Fe,[a(e(te),{type:"submit",disabled:e(l).processing||!U.value,class:"w-full md:w-auto"},{default:s(()=>[u(n(e(l).processing?"Menyimpan...":$.value?"Update Pendaftaran":"Kirim Pendaftaran"),1)]),_:1},8,["disabled"])])],32)],8,Pe)]),_:1})]),_:1})])]),_:1})],64))}});export{mt as default};
