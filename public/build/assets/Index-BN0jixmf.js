import{d as E,j as L,c as j,x as R,a as _,e as a,u as e,h as q,w as s,b as r,k as f,i as m,o as u,f as o,t as n,n as W,y as H,F as p,r as g,q as O,z as Q}from"./app-767X-9Ou.js";import{_ as S,a as w}from"./index-DneHHB6o.js";import{_ as V}from"./AlertTitle.vue_vue_type_script_setup_true_lang-Dd-KmiSG.js";import{_ as X}from"./index-Dskz3aIa.js";import{_ as Y}from"./index-DnVacoDu.js";import{f as C}from"./useFormat-PUfnQ01r.js";import{_ as N,a as K,b as B,c as M}from"./CardTitle.vue_vue_type_script_setup_true_lang--vGccXjG.js";import{_ as Z}from"./CardDescription.vue_vue_type_script_setup_true_lang-CjPw03J9.js";import{_ as b}from"./Label.vue_vue_type_script_setup_true_lang-DIPkyDD9.js";import{_ as y,a as h,b as x,c as v,d as P}from"./SelectValue.vue_vue_type_script_setup_true_lang-er4Ja8dZ.js";import{_ as D,a as G}from"./SelectLabel.vue_vue_type_script_setup_true_lang-DNB5XnpT.js";import{_ as ee}from"./AppLayout.vue_vue_type_script_setup_true_lang-j0PylFLu.js";import{C as te}from"./file-text-gyKzStg0.js";import{C as T}from"./circle-alert-CdVoVy_v.js";import{G as ae}from"./user-plus-YLA-lGMT.js";import"./index-C4DPWyXj.js";import"./useForwardExpose-CWd--3TW.js";import"./useForwardPropsEmits-Dw4cAQ9L.js";import"./VisuallyHidden-DKygJb-S.js";import"./createLucideIcon-DRoaSoxL.js";import"./chevron-down-2iqEQ-WX.js";import"./check-CSBefesY.js";import"./useFormControl-C6Ri7Uvf.js";import"./triangle-alert-CiNDPgBv.js";import"./circle-x-ZHtYsK7y.js";import"./ChatWidget.vue_vue_type_script_setup_true_lang-WPLFtyNK.js";import"./index-CMWG4mbA.js";import"./loader-circle-CjDPupfR.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const se={class:"flex flex-col gap-6 p-4"},re={class:"flex items-center justify-between"},ie={class:"grid gap-4 text-sm md:grid-cols-2"},le={class:"flex justify-between border-b pb-2"},oe={class:"font-mono font-medium"},ne={class:"flex justify-between border-b pb-2"},de={class:"font-medium"},ue={class:"flex justify-between border-b pb-2"},_e={class:"font-medium"},fe={class:"flex justify-between border-b pb-2"},me={class:"text-right"},ce={class:"block font-medium"},pe={key:0,class:"text-xs text-gray-500"},ge={class:"flex justify-between border-b pb-2"},be={class:"font-medium"},ye={class:"flex justify-between border-b pb-2"},he={class:"font-medium"},xe=["disabled"],ve={class:"grid gap-4 md:grid-cols-2"},Pe={class:"space-y-2"},ke={key:0,class:"text-sm text-red-500"},Se={class:"space-y-2"},we={key:0,class:"text-sm text-red-500"},Ve={class:"grid gap-4 md:grid-cols-2"},$e={class:"space-y-2"},Ue={key:0,class:"space-y-2"},je=["placeholder"],Ce={class:"space-y-4"},Ne={class:"grid gap-4 md:grid-cols-3"},Ke={class:"space-y-2"},Be={key:0,class:"text-sm text-red-500"},Me={class:"space-y-2"},De={key:0,class:"text-sm text-red-500"},Ge={class:"flex justify-end"},mt=E({__name:"Index",props:{registration:{},activePeriod:{},registrationTypes:{},registrationPaths:{},fakultas:{},programStudi:{}},setup(z){const i=z,F=L(),k=j(()=>F.props.flash),d=R({registration_type_id:i.registration?.registration_type_id?String(i.registration.registration_type_id):"",registration_path_id:i.registration?.registration_path_id?String(i.registration.registration_path_id):"",referral_source:i.registration?.referral_source??"",referral_detail:i.registration?.referral_detail??"",choice_1:i.registration?.choice_1?String(i.registration.choice_1):"",choice_2:i.registration?.choice_2?String(i.registration.choice_2):"",choice_3:i.registration?.choice_3?String(i.registration.choice_3):""}),J=["Dosen/Panitia PMB UNU Kaltim","Media Sosial (Instagram/Facebook/Twitter)","Website Resmi UNU Kaltim","Teman/Keluarga","Sekolah/Guru","Brosur/Spanduk","Event/Pameran Pendidikan","Lainnya"],I=()=>{d.post("/student/pendaftaran")},$=j(()=>!!i.registration),U=j(()=>i.registration?i.registration.status==="submitted":!0),A=[{title:"Dashboard",href:"/student/dashboard"},{title:"Pendaftaran",href:"/student/pendaftaran"}];return(Te,t)=>(u(),_(p,null,[a(e(q),{title:"Pendaftaran"}),a(ee,{breadcrumbs:A},{default:s(()=>[r("div",se,[k.value?.success?(u(),f(e(S),{key:0,class:"border-green-500 bg-green-50"},{default:s(()=>[a(e(te),{class:"size-4 text-green-600"}),a(e(V),{class:"text-green-800"},{default:s(()=>[...t[6]||(t[6]=[o("Berhasil",-1)])]),_:1}),a(e(w),{class:"text-green-700"},{default:s(()=>[o(n(k.value.success),1)]),_:1})]),_:1})):m("",!0),k.value?.error?(u(),f(e(S),{key:1,variant:"destructive"},{default:s(()=>[a(e(T),{class:"size-4"}),a(e(V),null,{default:s(()=>[...t[7]||(t[7]=[o("Error",-1)])]),_:1}),a(e(w),null,{default:s(()=>[o(n(k.value.error),1)]),_:1})]),_:1})):m("",!0),a(e(S),{class:"border-blue-500 bg-blue-50"},{default:s(()=>[a(e(ae),{class:"size-4 text-blue-600"}),a(e(V),{class:"text-blue-800"},{default:s(()=>[o(n(i.activePeriod.name),1)]),_:1}),a(e(w),{class:"text-blue-700"},{default:s(()=>[o(" Periode: "+n(e(C)(i.activePeriod.start_date))+" - "+n(e(C)(i.activePeriod.end_date)),1)]),_:1})]),_:1}),$.value?(u(),f(e(N),{key:2},{default:s(()=>[a(e(K),null,{default:s(()=>[r("div",re,[a(e(B),null,{default:s(()=>[...t[8]||(t[8]=[o("Status Pendaftaran",-1)])]),_:1}),a(e(X),{class:W(i.registration?.status_badge_class)},{default:s(()=>[o(n(i.registration?.status_label||i.registration?.status),1)]),_:1},8,["class"])])]),_:1}),a(e(M),{class:"space-y-4"},{default:s(()=>[r("div",ie,[r("div",le,[t[9]||(t[9]=r("span",{class:"text-gray-500"},"No. Pendaftaran",-1)),r("span",oe,n(i.registration?.registration_number||"-"),1)]),r("div",ne,[t[10]||(t[10]=r("span",{class:"text-gray-500"},"Jenis Pendaftaran",-1)),r("span",de,n(i.registration?.registration_type?.name||"-"),1)]),r("div",ue,[t[11]||(t[11]=r("span",{class:"text-gray-500"},"Jalur",-1)),r("span",_e,n(i.registration?.registration_path?.name||"-"),1)]),r("div",fe,[t[12]||(t[12]=r("span",{class:"text-gray-500"},"Sumber Informasi",-1)),r("div",me,[r("span",ce,n(i.registration?.referral_source||"-"),1),i.registration?.referral_detail?(u(),_("span",pe,n(i.registration?.referral_detail),1)):m("",!0)])]),r("div",ge,[t[13]||(t[13]=r("span",{class:"text-gray-500"},"Pilihan 1",-1)),r("span",be,n(i.registration?.program_studi_choice1?.name||"-"),1)]),r("div",ye,[t[14]||(t[14]=r("span",{class:"text-gray-500"},"Pilihan 2",-1)),r("span",he,n(i.registration?.program_studi_choice2?.name||"-"),1)])])]),_:1})]),_:1})):m("",!0),a(e(N),null,{default:s(()=>[a(e(K),null,{default:s(()=>[a(e(B),null,{default:s(()=>[o(n($.value?"Update Pendaftaran":"Form Pendaftaran"),1)]),_:1}),a(e(Z),null,{default:s(()=>[...t[15]||(t[15]=[o(" Pilih jenis pendaftaran dan program studi yang diinginkan ",-1)])]),_:1})]),_:1}),a(e(M),null,{default:s(()=>[U.value?m("",!0):(u(),f(e(S),{key:0,class:"mb-6 border-yellow-500 bg-yellow-50"},{default:s(()=>[a(e(T),{class:"size-4 text-yellow-600"}),a(e(V),{class:"text-yellow-800"},{default:s(()=>[...t[16]||(t[16]=[o("Form Terkunci",-1)])]),_:1}),a(e(w),{class:"text-yellow-700"},{default:s(()=>[t[17]||(t[17]=o(" Pendaftaran tidak dapat diubah karena status saat ini adalah ",-1)),r("strong",null,n(i.registration?.status),1),t[18]||(t[18]=o(". ",-1))]),_:1})]),_:1})),r("fieldset",{disabled:!U.value,class:"space-y-6"},[r("form",{onSubmit:H(I,["prevent"]),class:"space-y-6"},[r("div",ve,[r("div",Pe,[a(e(b),{for:"registration_type_id"},{default:s(()=>[...t[19]||(t[19]=[o("Jenis Pendaftaran *",-1)])]),_:1}),a(e(y),{modelValue:e(d).registration_type_id,"onUpdate:modelValue":t[0]||(t[0]=l=>e(d).registration_type_id=l)},{default:s(()=>[a(e(h),{class:"w-full"},{default:s(()=>[a(e(x),{placeholder:"Pilih Jenis"})]),_:1}),a(e(v),null,{default:s(()=>[(u(!0),_(p,null,g(i.registrationTypes,l=>(u(),f(e(P),{key:l.id,value:String(l.id)},{default:s(()=>[o(n(l.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(d).errors.registration_type_id?(u(),_("p",ke,n(e(d).errors.registration_type_id),1)):m("",!0)]),r("div",Se,[a(e(b),{for:"registration_path_id"},{default:s(()=>[...t[20]||(t[20]=[o("Jalur Pendaftaran *",-1)])]),_:1}),a(e(y),{modelValue:e(d).registration_path_id,"onUpdate:modelValue":t[1]||(t[1]=l=>e(d).registration_path_id=l)},{default:s(()=>[a(e(h),{class:"w-full"},{default:s(()=>[a(e(x),{placeholder:"Pilih Jalur"})]),_:1}),a(e(v),null,{default:s(()=>[(u(!0),_(p,null,g(i.registrationPaths,l=>(u(),f(e(P),{key:l.id,value:String(l.id),disabled:l.name==="Kelas Karyawan"},{default:s(()=>[o(n(l.name),1)]),_:2},1032,["value","disabled"]))),128))]),_:1})]),_:1},8,["modelValue"]),t[21]||(t[21]=r("p",{class:"text-xs text-muted-foreground"},[o(" Untuk pendaftaran Kelas Karyawan, silakan kunjungi "),r("a",{href:"https://edunitas.com/kampus/unu-kaltim/",target:"_blank",rel:"noopener noreferrer",class:"text-blue-600 hover:text-blue-800 hover:underline"}," edunitas.com "),o(". ")],-1)),e(d).errors.registration_path_id?(u(),_("p",we,n(e(d).errors.registration_path_id),1)):m("",!0)])]),r("div",Ve,[r("div",$e,[a(e(b),{for:"referral_source"},{default:s(()=>[...t[22]||(t[22]=[o("Sumber Informasi",-1)])]),_:1}),a(e(y),{modelValue:e(d).referral_source,"onUpdate:modelValue":t[2]||(t[2]=l=>e(d).referral_source=l)},{default:s(()=>[a(e(h),{class:"w-full"},{default:s(()=>[a(e(x),{placeholder:"Pilih Sumber"})]),_:1}),a(e(v),null,{default:s(()=>[(u(),_(p,null,g(J,l=>a(e(P),{key:l,value:l},{default:s(()=>[o(n(l),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue"])]),e(d).referral_source==="Lainnya"||e(d).referral_source==="Sekolah/Guru"||e(d).referral_source==="Dosen/Panitia PMB UNU Kaltim"?(u(),_("div",Ue,[a(e(b),{for:"referral_detail"},{default:s(()=>[...t[23]||(t[23]=[o("Detail Sumber Informasi",-1)])]),_:1}),O(r("input",{id:"referral_detail","onUpdate:modelValue":t[3]||(t[3]=l=>e(d).referral_detail=l),type:"text",class:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-xs placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring",placeholder:e(d).referral_source==="Lainnya"||e(d).referral_source==="Dosen/Panitia PMB UNU Kaltim"?"Sebutkan Nama yang Merekomendasikan Anda. Contoh Gilang Suhendra, S.Pd":"Sebutkan Nama Sekolah/Guru. Contoh: Ahmad Galih, S.Pd (SMA Negeri 1 Kaltim)"},null,8,je),[[Q,e(d).referral_detail]])])):m("",!0)]),r("div",Ce,[t[26]||(t[26]=r("h3",{class:"text-lg font-medium"}," Pilihan Program Studi ",-1)),r("div",Ne,[r("div",Ke,[a(e(b),{for:"choice_1"},{default:s(()=>[...t[24]||(t[24]=[o("Pilihan 1 *",-1)])]),_:1}),a(e(y),{modelValue:e(d).choice_1,"onUpdate:modelValue":t[4]||(t[4]=l=>e(d).choice_1=l)},{default:s(()=>[a(e(h),{class:"w-full"},{default:s(()=>[a(e(x),{placeholder:"Pilih Program Studi"})]),_:1}),a(e(v),null,{default:s(()=>[(u(!0),_(p,null,g(i.fakultas,l=>(u(),f(e(D),{key:l.id},{default:s(()=>[a(e(G),null,{default:s(()=>[o(n(l.name),1)]),_:2},1024),(u(!0),_(p,null,g(l.program_studi,c=>(u(),f(e(P),{key:c.id,value:String(c.id)},{default:s(()=>[o(n(c.jenjang)+" - "+n(c.name),1)]),_:2},1032,["value"]))),128))]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"]),e(d).errors.choice_1?(u(),_("p",Be,n(e(d).errors.choice_1),1)):m("",!0)]),r("div",Me,[a(e(b),{for:"choice_2"},{default:s(()=>[...t[25]||(t[25]=[o("Pilihan 2 *",-1)])]),_:1}),a(e(y),{modelValue:e(d).choice_2,"onUpdate:modelValue":t[5]||(t[5]=l=>e(d).choice_2=l)},{default:s(()=>[a(e(h),{class:"w-full"},{default:s(()=>[a(e(x),{placeholder:"Pilih Program Studi"})]),_:1}),a(e(v),null,{default:s(()=>[(u(!0),_(p,null,g(i.fakultas,l=>(u(),f(e(D),{key:l.id},{default:s(()=>[a(e(G),null,{default:s(()=>[o(n(l.name),1)]),_:2},1024),(u(!0),_(p,null,g(l.program_studi,c=>(u(),f(e(P),{key:c.id,value:String(c.id)},{default:s(()=>[o(n(c.jenjang)+" - "+n(c.name),1)]),_:2},1032,["value"]))),128))]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"]),e(d).errors.choice_2?(u(),_("p",De,n(e(d).errors.choice_2),1)):m("",!0)])])]),r("div",Ge,[a(e(Y),{type:"submit",disabled:e(d).processing||!U.value,class:"w-full md:w-auto"},{default:s(()=>[o(n(e(d).processing?"Menyimpan...":$.value?"Update Pendaftaran":"Kirim Pendaftaran"),1)]),_:1},8,["disabled"])])],32)],8,xe)]),_:1})]),_:1})])]),_:1})],64))}});export{mt as default};
