import{d as V,p as h,C as z,a as d,e as r,u as s,h as C,w as i,b as t,f as c,t as l,i as u,q as w,E as M,B as k,o,F as f,r as y,k as D,l as S,n as P,s as j}from"./app-a_JNxkuX.js";import{_ as B}from"./index-DlyPHZhN.js";import{_}from"./index-DkNXzqhL.js";import{_ as N,a as E,b as U,c as F}from"./CardTitle.vue_vue_type_script_setup_true_lang-C56yUcD1.js";import{_ as H}from"./CardDescription.vue_vue_type_script_setup_true_lang-CQJ9FPHq.js";import{_ as K}from"./Input.vue_vue_type_script_setup_true_lang-9Z8D8KFm.js";import{_ as L}from"./AppLayout.vue_vue_type_script_setup_true_lang-CPFOZpyb.js";import{f as A}from"./useFormat-PUfnQ01r.js";import{S as I}from"./search-By7e5yWb.js";import{E as q}from"./eye-1ZveOyso.js";import{P as G}from"./printer-B5G-ILVN.js";import"./index-B5sWHF31.js";import"./VisuallyHidden-BvzRWZrN.js";import"./createLucideIcon-BRkaUgj2.js";import"./triangle-alert-GTjR6kJ7.js";import"./circle-x-B8abL9RA.js";import"./file-text-CtwpzGlH.js";import"./x-BPwXaGNU.js";import"./useForwardExpose-CKa8YYMh.js";import"./useForwardPropsEmits-D4FARgIt.js";import"./index-BHw9BgFF.js";import"./index-CMWG4mbA.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./user-plus-DS3Omp-a.js";const J={class:"flex flex-col gap-6 p-4"},O={class:"flex items-center justify-between"},Q={class:"mb-6 flex flex-wrap gap-4"},R={class:"flex items-center gap-2"},W=["value"],X={class:"overflow-x-auto rounded-lg border"},Y={class:"w-full text-sm"},Z={class:"divide-y"},tt={class:"px-4 py-3 font-mono text-xs"},et={class:"px-4 py-3 font-medium"},at={class:"px-4 py-3 text-gray-500"},st={class:"px-4 py-3"},rt={class:"flex flex-col"},it={class:"font-medium"},lt={key:0,class:"text-xs text-gray-500"},ot={class:"px-4 py-3"},nt={class:"px-4 py-3 text-gray-500"},dt={class:"px-4 py-3"},mt={class:"px-4 py-3"},pt={class:"flex gap-1"},ut=["href"],ft={key:0},ct={key:0,class:"mt-4 flex items-center justify-between"},_t={class:"text-sm text-gray-500"},xt={class:"flex gap-1"},vt=["innerHTML"],At=V({__name:"Index",props:{students:{},periods:{},filters:{}},setup($){const n=$,x=h(n.filters.search||""),m=h(n.filters.status||"all"),p=h(n.filters.period||"all"),v=()=>{j.get("/admin/students",{search:x.value||void 0,status:m.value!=="all"?m.value:void 0,period:p.value!=="all"?p.value:void 0},{preserveState:!0})};z([m,p],()=>v());const g=b=>({draft:{variant:"secondary",label:"Draft"},submitted:{variant:"outline",label:"Terdaftar"},verified:{variant:"default",label:"Terverifikasi"},accepted:{variant:"default",label:"Diterima"},rejected:{variant:"destructive",label:"Ditolak"}})[b||""]||{variant:"secondary",label:"Unknown"},T=[{title:"Admin Dashboard",href:"/admin/dashboard"},{title:"Students",href:"/admin/students"}];return(b,a)=>(o(),d(f,null,[r(s(C),{title:"Manajemen Mahasiswa"}),r(L,{breadcrumbs:T},{default:i(()=>[t("div",J,[r(s(N),null,{default:i(()=>[r(s(E),null,{default:i(()=>[t("div",O,[t("div",null,[r(s(U),null,{default:i(()=>[...a[3]||(a[3]=[c("Manajemen Mahasiswa",-1)])]),_:1}),r(s(H),null,{default:i(()=>[c(" Total: "+l(n.students.total)+" mahasiswa ",1)]),_:1})])])]),_:1}),r(s(F),null,{default:i(()=>[t("div",Q,[t("div",R,[r(s(K),{modelValue:x.value,"onUpdate:modelValue":a[0]||(a[0]=e=>x.value=e),placeholder:"Cari nama, email, no. pendaftaran...",class:"w-64",onKeyup:M(v,["enter"])},null,8,["modelValue"]),r(s(_),{size:"icon",variant:"outline",onClick:v},{default:i(()=>[r(s(I),{class:"size-4"})]),_:1})]),w(t("select",{"onUpdate:modelValue":a[1]||(a[1]=e=>m.value=e),class:"rounded-md border border-input bg-transparent px-3 py-2 text-sm"},[...a[4]||(a[4]=[t("option",{value:"all"},"Semua Status",-1),t("option",{value:"draft"},"Draft",-1),t("option",{value:"submitted"},"Terdaftar",-1),t("option",{value:"verified"},"Terverifikasi",-1),t("option",{value:"accepted"},"Diterima",-1),t("option",{value:"rejected"},"Ditolak",-1)])],512),[[k,m.value]]),w(t("select",{"onUpdate:modelValue":a[2]||(a[2]=e=>p.value=e),class:"rounded-md border border-input bg-transparent px-3 py-2 text-sm"},[a[5]||(a[5]=t("option",{value:"all"},"Semua Periode",-1)),(o(!0),d(f,null,y(n.periods,e=>(o(),d("option",{key:e.id,value:e.id},l(e.name),9,W))),128))],512),[[k,p.value]])]),t("div",X,[t("table",Y,[a[8]||(a[8]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"min-w-[140px] px-4 py-3 text-left font-medium"}," No. Pendaftaran "),t("th",{class:"min-w-[200px] px-4 py-3 text-left font-medium"}," Nama "),t("th",{class:"min-w-[200px] px-4 py-3 text-left font-medium"}," Email "),t("th",{class:"min-w-[200px] px-4 py-3 text-left font-medium"}," Sumber Informasi "),t("th",{class:"min-w-[180px] px-4 py-3 text-left font-medium"}," Prodi Pilihan 1 "),t("th",{class:"whitespace-nowrap px-4 py-3 text-left font-medium"}," Tanggal Daftar "),t("th",{class:"px-4 py-3 text-left font-medium"}," Status "),t("th",{class:"px-4 py-3 text-left font-medium"}," Aksi ")])],-1)),t("tbody",Z,[(o(!0),d(f,null,y(n.students.data,e=>(o(),d("tr",{key:e.id,class:"hover:bg-gray-50"},[t("td",tt,l(e.registration?.registration_number||"-"),1),t("td",et,l(e.student_biodata?.name||e.name),1),t("td",at,l(e.email),1),t("td",st,[t("div",rt,[t("span",it,l(e.registration?.referral_source||"-"),1),e.registration?.referral_detail?(o(),d("span",lt,l(e.registration.referral_detail),1)):u("",!0)])]),t("td",ot,l(e.registration?.program_studi_choice1?.name||"-"),1),t("td",nt,l(e.registration?.created_at?s(A)(e.registration.created_at):"-"),1),t("td",dt,[r(s(B),{variant:g(e.registration?.status).variant},{default:i(()=>[c(l(g(e.registration?.status).label),1)]),_:2},1032,["variant"])]),t("td",mt,[t("div",pt,[r(s(_),{"as-child":"",variant:"ghost",size:"sm"},{default:i(()=>[r(s(S),{href:`/admin/students/${e.id}`},{default:i(()=>[r(s(q),{class:"mr-1 size-4"}),a[6]||(a[6]=c(" Detail ",-1))]),_:1},8,["href"])]),_:2},1024),e.registration?(o(),D(s(_),{key:0,"as-child":"",variant:"ghost",size:"icon",title:"Cetak Kartu Peserta"},{default:i(()=>[t("a",{href:`/admin/students/${e.id}/registration-card`,target:"_blank"},[r(s(G),{class:"size-4"})],8,ut)]),_:2},1024)):u("",!0)])])]))),128)),n.students.data.length===0?(o(),d("tr",ft,[...a[7]||(a[7]=[t("td",{colspan:"8",class:"px-4 py-8 text-center text-gray-500"}," Tidak ada data mahasiswa ",-1)])])):u("",!0)])])]),n.students.last_page>1?(o(),d("div",ct,[t("p",_t," Halaman "+l(n.students.current_page)+" dari "+l(n.students.last_page),1),t("div",xt,[(o(!0),d(f,null,y(n.students.links,e=>(o(),d(f,{key:e.label},[e.url?(o(),D(s(_),{key:0,"as-child":"",variant:"outline",size:"sm",class:P({"bg-primary text-primary-foreground":e.active})},{default:i(()=>[r(s(S),{href:e.url},{default:i(()=>[t("span",{innerHTML:e.label},null,8,vt)]),_:2},1032,["href"])]),_:2},1032,["class"])):u("",!0)],64))),128))])])):u("",!0)]),_:1})]),_:1})])]),_:1})],64))}});export{At as default};
