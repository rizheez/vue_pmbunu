import{d as L,j as R,c as U,x as q,a as _,e as a,u as e,h as A,w as s,b as r,k as m,i as f,o as u,f as n,t as o,y as W,F as p,r as g,q as H,z as O}from"./app-BvkMj4-F.js";import{_ as w,a as S}from"./index-BPQtWMom.js";import{_ as V}from"./AlertTitle.vue_vue_type_script_setup_true_lang-BBBfK5Rz.js";import{_ as Q}from"./index-D2l3Pcwn.js";import{_ as X}from"./index-MlcjGLtN.js";import{f as B}from"./useFormat-PUfnQ01r.js";import{_ as C,a as N,b as D,c as K}from"./CardTitle.vue_vue_type_script_setup_true_lang-C7Wvf5BJ.js";import{_ as Y}from"./CardDescription.vue_vue_type_script_setup_true_lang-Buva6ww6.js";import{_ as b}from"./Label.vue_vue_type_script_setup_true_lang-qmueQV-t.js";import{_ as y,a as x,b as v,c as h,d as P}from"./SelectValue.vue_vue_type_script_setup_true_lang-CH8-8rGR.js";import{_ as T,a as F}from"./SelectLabel.vue_vue_type_script_setup_true_lang-7L5Q2ThB.js";import{_ as Z}from"./AppLayout.vue_vue_type_script_setup_true_lang-CS0_RWNX.js";import{C as ee}from"./file-text-O4Ei2LhW.js";import{C as J}from"./circle-alert-C-3yhwGK.js";import{G as te}from"./user-plus-WTRAzdIT.js";import"./index-BQajbDa3.js";import"./useForwardExpose-BKrzG8D3.js";import"./useForwardPropsEmits-Bnkafg18.js";import"./VisuallyHidden-z-LB16s1.js";import"./createLucideIcon-C9ErEy5p.js";import"./chevron-down-B0M53jfW.js";import"./check-Cti1ODfB.js";import"./useFormControl-BQuo8DuA.js";import"./triangle-alert-CapbUlF2.js";import"./circle-x-CSLpUmHv.js";import"./x-BWe9cEwd.js";import"./index-BHw9BgFF.js";import"./index-CMWG4mbA.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const ae={class:"flex flex-col gap-6 p-4"},se={class:"flex items-center justify-between"},re={class:"grid gap-4 text-sm md:grid-cols-2"},ie={class:"flex justify-between border-b pb-2"},le={class:"font-mono font-medium"},oe={class:"flex justify-between border-b pb-2"},ne={class:"font-medium"},de={class:"flex justify-between border-b pb-2"},ue={class:"font-medium"},_e={class:"flex justify-between border-b pb-2"},fe={class:"text-right"},me={class:"block font-medium"},ce={key:0,class:"text-xs text-gray-500"},pe={class:"flex justify-between border-b pb-2"},ge={class:"font-medium"},be={class:"flex justify-between border-b pb-2"},ye={class:"font-medium"},xe={key:0,class:"flex justify-between border-b pb-2"},ve={class:"font-medium"},he=["disabled"],Pe={class:"grid gap-4 md:grid-cols-2"},ke={class:"space-y-2"},we={key:0,class:"text-sm text-red-500"},Se={class:"space-y-2"},Ve={key:0,class:"text-sm text-red-500"},$e={class:"grid gap-4 md:grid-cols-2"},je={class:"space-y-2"},Ue={key:0,class:"space-y-2"},Be={class:"space-y-4"},Ce={class:"grid gap-4 md:grid-cols-3"},Ne={class:"space-y-2"},De={key:0,class:"text-sm text-red-500"},Ke={class:"space-y-2"},Te={key:0,class:"text-sm text-red-500"},Fe={class:"flex justify-end"},mt=L({__name:"Index",props:{registration:{},activePeriod:{},registrationTypes:{},registrationPaths:{},fakultas:{},programStudi:{}},setup(M){const i=M,z=R(),k=U(()=>z.props.flash),d=q({registration_type_id:i.registration?.registration_type_id?String(i.registration.registration_type_id):"",registration_path_id:i.registration?.registration_path_id?String(i.registration.registration_path_id):"",referral_source:i.registration?.referral_source??"",referral_detail:i.registration?.referral_detail??"",choice_1:i.registration?.choice_1?String(i.registration.choice_1):"",choice_2:i.registration?.choice_2?String(i.registration.choice_2):"",choice_3:i.registration?.choice_3?String(i.registration.choice_3):""}),E=["Dosen/Panitia PMB UNU Kaltim","Media Sosial (Instagram/Facebook/Twitter)","Website Resmi UNU Kaltim","Teman/Keluarga","Sekolah/Guru","Brosur/Spanduk","Event/Pameran Pendidikan","Lainnya"],I=()=>{d.post("/student/pendaftaran")},$=U(()=>!!i.registration),j=U(()=>i.registration?i.registration.status==="submitted":!0),G=[{title:"Dashboard",href:"/student/dashboard"},{title:"Pendaftaran",href:"/student/pendaftaran"}];return(Je,t)=>(u(),_(p,null,[a(e(A),{title:"Pendaftaran"}),a(Z,{breadcrumbs:G},{default:s(()=>[r("div",ae,[k.value?.success?(u(),m(e(w),{key:0,class:"border-green-500 bg-green-50"},{default:s(()=>[a(e(ee),{class:"size-4 text-green-600"}),a(e(V),{class:"text-green-800"},{default:s(()=>[...t[6]||(t[6]=[n("Berhasil",-1)])]),_:1}),a(e(S),{class:"text-green-700"},{default:s(()=>[n(o(k.value.success),1)]),_:1})]),_:1})):f("",!0),k.value?.error?(u(),m(e(w),{key:1,variant:"destructive"},{default:s(()=>[a(e(J),{class:"size-4"}),a(e(V),null,{default:s(()=>[...t[7]||(t[7]=[n("Error",-1)])]),_:1}),a(e(S),null,{default:s(()=>[n(o(k.value.error),1)]),_:1})]),_:1})):f("",!0),a(e(w),{class:"border-blue-500 bg-blue-50"},{default:s(()=>[a(e(te),{class:"size-4 text-blue-600"}),a(e(V),{class:"text-blue-800"},{default:s(()=>[n(o(i.activePeriod.name),1)]),_:1}),a(e(S),{class:"text-blue-700"},{default:s(()=>[n(" Periode: "+o(e(B)(i.activePeriod.start_date))+" - "+o(e(B)(i.activePeriod.end_date)),1)]),_:1})]),_:1}),$.value?(u(),m(e(C),{key:2},{default:s(()=>[a(e(N),null,{default:s(()=>[r("div",se,[a(e(D),null,{default:s(()=>[...t[8]||(t[8]=[n("Status Pendaftaran",-1)])]),_:1}),a(e(Q),null,{default:s(()=>[n(o(i.registration?.status),1)]),_:1})])]),_:1}),a(e(K),{class:"space-y-4"},{default:s(()=>[r("div",re,[r("div",ie,[t[9]||(t[9]=r("span",{class:"text-gray-500"},"No. Pendaftaran",-1)),r("span",le,o(i.registration?.registration_number||"-"),1)]),r("div",oe,[t[10]||(t[10]=r("span",{class:"text-gray-500"},"Jenis Pendaftaran",-1)),r("span",ne,o(i.registration?.registration_type?.name||"-"),1)]),r("div",de,[t[11]||(t[11]=r("span",{class:"text-gray-500"},"Jalur",-1)),r("span",ue,o(i.registration?.registration_path?.name||"-"),1)]),r("div",_e,[t[12]||(t[12]=r("span",{class:"text-gray-500"},"Sumber Informasi",-1)),r("div",fe,[r("span",me,o(i.registration?.referral_source||"-"),1),i.registration?.referral_detail?(u(),_("span",ce,o(i.registration?.referral_detail),1)):f("",!0)])]),r("div",pe,[t[13]||(t[13]=r("span",{class:"text-gray-500"},"Pilihan 1",-1)),r("span",ge,o(i.registration?.program_studi_choice1?.name||"-"),1)]),r("div",be,[t[14]||(t[14]=r("span",{class:"text-gray-500"},"Pilihan 2",-1)),r("span",ye,o(i.registration?.program_studi_choice2?.name||"-"),1)]),i.registration?.choice_3?(u(),_("div",xe,[t[15]||(t[15]=r("span",{class:"text-gray-500"},"Pilihan 3",-1)),r("span",ve,o(i.registration?.program_studi_choice3?.name||"-"),1)])):f("",!0)])]),_:1})]),_:1})):f("",!0),a(e(C),null,{default:s(()=>[a(e(N),null,{default:s(()=>[a(e(D),null,{default:s(()=>[n(o($.value?"Update Pendaftaran":"Form Pendaftaran"),1)]),_:1}),a(e(Y),null,{default:s(()=>[...t[16]||(t[16]=[n(" Pilih jenis pendaftaran dan program studi yang diinginkan ",-1)])]),_:1})]),_:1}),a(e(K),null,{default:s(()=>[j.value?f("",!0):(u(),m(e(w),{key:0,class:"mb-6 border-yellow-500 bg-yellow-50"},{default:s(()=>[a(e(J),{class:"size-4 text-yellow-600"}),a(e(V),{class:"text-yellow-800"},{default:s(()=>[...t[17]||(t[17]=[n("Form Terkunci",-1)])]),_:1}),a(e(S),{class:"text-yellow-700"},{default:s(()=>[t[18]||(t[18]=n(" Pendaftaran tidak dapat diubah karena status saat ini adalah ",-1)),r("strong",null,o(i.registration?.status),1),t[19]||(t[19]=n(". ",-1))]),_:1})]),_:1})),r("fieldset",{disabled:!j.value,class:"space-y-6"},[r("form",{onSubmit:W(I,["prevent"]),class:"space-y-6"},[r("div",Pe,[r("div",ke,[a(e(b),{for:"registration_type_id"},{default:s(()=>[...t[20]||(t[20]=[n("Jenis Pendaftaran *",-1)])]),_:1}),a(e(y),{modelValue:e(d).registration_type_id,"onUpdate:modelValue":t[0]||(t[0]=l=>e(d).registration_type_id=l)},{default:s(()=>[a(e(x),{class:"w-full"},{default:s(()=>[a(e(v),{placeholder:"Pilih Jenis"})]),_:1}),a(e(h),null,{default:s(()=>[(u(!0),_(p,null,g(i.registrationTypes,l=>(u(),m(e(P),{key:l.id,value:String(l.id)},{default:s(()=>[n(o(l.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(d).errors.registration_type_id?(u(),_("p",we,o(e(d).errors.registration_type_id),1)):f("",!0)]),r("div",Se,[a(e(b),{for:"registration_path_id"},{default:s(()=>[...t[21]||(t[21]=[n("Jalur Pendaftaran *",-1)])]),_:1}),a(e(y),{modelValue:e(d).registration_path_id,"onUpdate:modelValue":t[1]||(t[1]=l=>e(d).registration_path_id=l)},{default:s(()=>[a(e(x),{class:"w-full"},{default:s(()=>[a(e(v),{placeholder:"Pilih Jalur"})]),_:1}),a(e(h),null,{default:s(()=>[(u(!0),_(p,null,g(i.registrationPaths,l=>(u(),m(e(P),{key:l.id,value:String(l.id),disabled:l.name==="Kelas Karyawan"},{default:s(()=>[n(o(l.name),1)]),_:2},1032,["value","disabled"]))),128))]),_:1})]),_:1},8,["modelValue"]),t[22]||(t[22]=r("p",{class:"text-xs text-muted-foreground"},[n(" Untuk pendaftaran kelas karyawan, kunjungi "),r("a",{href:"https://edunitas.com/kampus/unu-kaltim/",target:"_blank",class:"text-blue-600 underline hover:text-blue-800"},"edunitas.com")],-1)),e(d).errors.registration_path_id?(u(),_("p",Ve,o(e(d).errors.registration_path_id),1)):f("",!0)])]),r("div",$e,[r("div",je,[a(e(b),{for:"referral_source"},{default:s(()=>[...t[23]||(t[23]=[n("Sumber Informasi",-1)])]),_:1}),a(e(y),{modelValue:e(d).referral_source,"onUpdate:modelValue":t[2]||(t[2]=l=>e(d).referral_source=l)},{default:s(()=>[a(e(x),{class:"w-full"},{default:s(()=>[a(e(v),{placeholder:"Pilih Sumber"})]),_:1}),a(e(h),null,{default:s(()=>[(u(),_(p,null,g(E,l=>a(e(P),{key:l,value:l},{default:s(()=>[n(o(l),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue"])]),e(d).referral_source==="Lainnya"||e(d).referral_source==="Dosen/Panitia PMB UNU Kaltim"?(u(),_("div",Ue,[a(e(b),{for:"referral_detail"},{default:s(()=>[...t[24]||(t[24]=[n("Detail",-1)])]),_:1}),H(r("input",{id:"referral_detail","onUpdate:modelValue":t[3]||(t[3]=l=>e(d).referral_detail=l),type:"text",class:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-xs placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring",placeholder:"Nama referensi"},null,512),[[O,e(d).referral_detail]])])):f("",!0)]),r("div",Be,[t[27]||(t[27]=r("h3",{class:"text-lg font-medium"}," Pilihan Program Studi ",-1)),r("div",Ce,[r("div",Ne,[a(e(b),{for:"choice_1"},{default:s(()=>[...t[25]||(t[25]=[n("Pilihan 1 *",-1)])]),_:1}),a(e(y),{modelValue:e(d).choice_1,"onUpdate:modelValue":t[4]||(t[4]=l=>e(d).choice_1=l)},{default:s(()=>[a(e(x),{class:"w-full"},{default:s(()=>[a(e(v),{placeholder:"Pilih Program Studi"})]),_:1}),a(e(h),null,{default:s(()=>[(u(!0),_(p,null,g(i.fakultas,l=>(u(),m(e(T),{key:l.id},{default:s(()=>[a(e(F),null,{default:s(()=>[n(o(l.name),1)]),_:2},1024),(u(!0),_(p,null,g(l.program_studi,c=>(u(),m(e(P),{key:c.id,value:String(c.id)},{default:s(()=>[n(o(c.jenjang)+" - "+o(c.name),1)]),_:2},1032,["value"]))),128))]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"]),e(d).errors.choice_1?(u(),_("p",De,o(e(d).errors.choice_1),1)):f("",!0)]),r("div",Ke,[a(e(b),{for:"choice_2"},{default:s(()=>[...t[26]||(t[26]=[n("Pilihan 2 *",-1)])]),_:1}),a(e(y),{modelValue:e(d).choice_2,"onUpdate:modelValue":t[5]||(t[5]=l=>e(d).choice_2=l)},{default:s(()=>[a(e(x),{class:"w-full"},{default:s(()=>[a(e(v),{placeholder:"Pilih Program Studi"})]),_:1}),a(e(h),null,{default:s(()=>[(u(!0),_(p,null,g(i.fakultas,l=>(u(),m(e(T),{key:l.id},{default:s(()=>[a(e(F),null,{default:s(()=>[n(o(l.name),1)]),_:2},1024),(u(!0),_(p,null,g(l.program_studi,c=>(u(),m(e(P),{key:c.id,value:String(c.id)},{default:s(()=>[n(o(c.jenjang)+" - "+o(c.name),1)]),_:2},1032,["value"]))),128))]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"]),e(d).errors.choice_2?(u(),_("p",Te,o(e(d).errors.choice_2),1)):f("",!0)])])]),r("div",Fe,[a(e(X),{type:"submit",disabled:e(d).processing||!j.value,class:"w-full md:w-auto"},{default:s(()=>[n(o(e(d).processing?"Menyimpan...":$.value?"Update Pendaftaran":"Kirim Pendaftaran"),1)]),_:1},8,["disabled"])])],32)],8,he)]),_:1})]),_:1})])]),_:1})],64))}});export{mt as default};
