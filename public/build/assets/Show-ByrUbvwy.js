import{d as at,j as nt,c as J,p,a as d,e as n,u as a,h as ot,w as o,b as e,k as f,i as m,o as i,f as l,t as r,l as it,q as P,G as L,z as R,F as lt,s as G}from"./app-767X-9Ou.js";import{_ as q,a as W}from"./index-DneHHB6o.js";import{_ as X}from"./AlertTitle.vue_vue_type_script_setup_true_lang-Dd-KmiSG.js";import{_ as rt}from"./index-Dskz3aIa.js";import{_}from"./index-DnVacoDu.js";import{_ as F,a as I,b as K,c as k}from"./CardTitle.vue_vue_type_script_setup_true_lang--vGccXjG.js";import{_ as N,a as S,b as U,c as V}from"./DialogTitle.vue_vue_type_script_setup_true_lang-DRiG8iKj.js";import{_ as H}from"./DialogDescription.vue_vue_type_script_setup_true_lang-BAbRSG33.js";import{_ as O}from"./DialogFooter.vue_vue_type_script_setup_true_lang-CC9kO0u2.js";import{_ as A}from"./Label.vue_vue_type_script_setup_true_lang-DIPkyDD9.js";import{_ as dt}from"./AppLayout.vue_vue_type_script_setup_true_lang-j0PylFLu.js";import{C as Q,F as C}from"./file-text-gyKzStg0.js";import{C as ut}from"./circle-alert-CdVoVy_v.js";import{c as mt}from"./createLucideIcon-DRoaSoxL.js";import{P as ft}from"./printer-CxPe_izq.js";import{C as pt}from"./circle-x-ZHtYsK7y.js";import{G as _t}from"./user-plus-YLA-lGMT.js";import{b as ct}from"./ChatWidget.vue_vue_type_script_setup_true_lang-WPLFtyNK.js";import{E as z}from"./eye-DxtoQpe6.js";import"./index-C4DPWyXj.js";import"./useForwardPropsEmits-Dw4cAQ9L.js";import"./useForwardExpose-CWd--3TW.js";import"./VisuallyHidden-DKygJb-S.js";import"./triangle-alert-CiNDPgBv.js";import"./index-CMWG4mbA.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./loader-circle-CjDPupfR.js";const gt=mt("PencilIcon",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),vt={class:"flex flex-col gap-6 p-4"},bt={class:"flex items-center justify-between"},yt={class:"text-2xl font-bold"},xt={class:"flex gap-2"},kt=["href"],ht={class:"grid gap-6 lg:grid-cols-2"},wt={class:"grid gap-3 text-sm"},jt={class:"flex justify-between border-b pb-2"},$t={class:"font-mono font-medium"},Pt={class:"flex justify-between border-b pb-2"},Ct={class:"flex justify-between border-b pb-2"},zt={class:"font-medium"},Dt={class:"flex justify-between border-b pb-2"},Tt={class:"font-medium"},Bt={class:"flex justify-between border-b pb-2"},Ft={class:"font-medium"},It={class:"flex justify-between border-b pb-2"},Kt={class:"text-right"},Nt={class:"block font-medium"},St={key:0,class:"text-xs text-gray-500"},Ut={class:"mt-4 space-y-2"},Vt={class:"rounded-lg border p-3"},At={class:"text-sm"},Et={key:0,class:"text-gray-500"},Mt={key:0,class:"mt-1 text-sm"},Jt={key:0,class:"text-gray-500"},Lt={key:1,class:"mt-1 text-sm"},Rt={key:0,class:"mt-4 rounded-lg border border-green-200 bg-green-50 p-4"},Gt={class:"text-lg font-bold text-green-900"},qt={key:1,class:"mt-4 rounded-lg border border-red-200 bg-red-50 p-4"},Wt={class:"text-red-900"},Xt={class:"grid gap-3 text-sm"},Ht={class:"flex justify-between border-b pb-2"},Ot={class:"font-mono font-medium"},Qt={class:"flex justify-between border-b pb-2"},Yt={class:"font-medium"},Zt={class:"flex justify-between border-b pb-2"},te={class:"font-medium"},ee={class:"flex justify-between border-b pb-2"},se={class:"font-medium"},ae={class:"flex justify-between border-b pb-2"},ne={class:"font-medium"},oe={class:"flex justify-between border-b pb-2"},ie={class:"font-medium"},le={class:"flex justify-between"},re={class:"font-medium"},de={class:"flex items-center justify-between"},ue=["href"],me={class:"grid gap-4 md:grid-cols-4"},fe={class:"rounded-lg border p-3"},pe=["src"],_e={class:"absolute inset-0 flex items-center justify-center rounded-lg bg-black/50 opacity-0 transition hover:opacity-100"},ce={key:1,class:"text-sm text-gray-400"},ge={class:"rounded-lg border p-3"},ve={key:0,class:"flex aspect-video flex-col items-center justify-center gap-2 rounded-lg bg-gray-50 text-gray-500 hover:bg-gray-100"},be=["src"],ye={class:"absolute inset-0 flex items-center justify-center rounded-lg bg-black/50 opacity-0 transition hover:opacity-100"},xe={key:1,class:"text-sm text-gray-400"},ke={class:"rounded-lg border p-3"},he={key:0,class:"flex aspect-video flex-col items-center justify-center gap-2 rounded-lg bg-gray-50 text-gray-500 hover:bg-gray-100"},we=["src"],je={class:"absolute inset-0 flex items-center justify-center rounded-lg bg-black/50 opacity-0 transition hover:opacity-100"},$e={key:1,class:"text-sm text-gray-400"},Pe={class:"rounded-lg border p-3"},Ce={key:0,class:"flex aspect-video flex-col items-center justify-center gap-2 rounded-lg bg-gray-50 text-gray-500 hover:bg-gray-100"},ze=["src"],De={class:"absolute inset-0 flex items-center justify-center rounded-lg bg-black/50 opacity-0 transition hover:opacity-100"},Te={key:1,class:"text-sm text-gray-400"},Be={class:"space-y-4 py-4"},Fe={class:"space-y-2"},Ie={class:"space-y-2"},Ke={key:0,class:"flex items-center gap-2"},Ne=["value"],Se={key:1,class:"flex items-center gap-2"},Ue=["value"],Ve={class:"space-y-2"},Ae={class:"space-y-4 py-4"},Ee={class:"space-y-2"},Me={class:"flex-1 min-h-0 overflow-auto rounded-lg bg-gray-100 mt-2"},Je=["src"],Le=["src","alt"],vs=at({__name:"Show",props:{student:{}},setup(Y){const s=Y,Z=nt(),h=J(()=>Z.props.flash),b=p(!1),y=p(!1),D=p(!1),w=p(""),T=p(""),g=p(null),B=p(""),x=p(""),v=p(!1),j=(c,t)=>{w.value=c,T.value=t,D.value=!0},tt=[{title:"Admin Dashboard",href:"/admin/dashboard"},{title:"Calon Mahasiswa",href:"/admin/students"},{title:s.student.student_biodata?.name||s.student.name,href:"#"}],E=J(()=>s.student.registration?.status==="verified"),et=()=>{g.value&&(v.value=!0,G.post(`/admin/students/${s.student.id}/accept`,{program_studi_id:g.value,notes:B.value},{onFinish:()=>{v.value=!1,b.value=!1}}))},st=()=>{x.value&&(v.value=!0,G.post(`/admin/students/${s.student.id}/reject`,{reason:x.value},{onFinish:()=>{v.value=!1,y.value=!1}}))},M=c=>({draft:{variant:"secondary",label:"Draft"},submitted:{variant:"secondary",label:"Terdaftar"},verified:{variant:"default",label:"Terverifikasi"},accepted:{variant:"default",label:"Diterima"},rejected:{variant:"destructive",label:"Ditolak"}})[c||""]||{variant:"secondary",label:"Unknown"},$=c=>c?c.toLowerCase().endsWith(".pdf")||c.startsWith("data:application/pdf"):!1;return(c,t)=>(i(),d(lt,null,[n(a(ot),{title:s.student.student_biodata?.name||s.student.name},null,8,["title"]),n(dt,{breadcrumbs:tt},{default:o(()=>[e("div",vt,[h.value?.success?(i(),f(a(q),{key:0,class:"border-green-500 bg-green-50"},{default:o(()=>[n(a(Q),{class:"size-4 text-green-600"}),n(a(X),{class:"text-green-800"},{default:o(()=>[...t[15]||(t[15]=[l("Berhasil",-1)])]),_:1}),n(a(W),{class:"text-green-700"},{default:o(()=>[l(r(h.value.success),1)]),_:1})]),_:1})):m("",!0),h.value?.error?(i(),f(a(q),{key:1,variant:"destructive"},{default:o(()=>[n(a(ut),{class:"size-4"}),n(a(X),null,{default:o(()=>[...t[16]||(t[16]=[l("Error",-1)])]),_:1}),n(a(W),null,{default:o(()=>[l(r(h.value.error),1)]),_:1})]),_:1})):m("",!0),e("div",bt,[e("h1",yt,r(s.student.student_biodata?.name||s.student.name),1),e("div",xt,[n(a(_),{variant:"outline","as-child":""},{default:o(()=>[n(a(it),{href:`/admin/students/${s.student.id}/edit`},{default:o(()=>[n(a(gt),{class:"mr-2 size-4"}),t[17]||(t[17]=l(" Edit ",-1))]),_:1},8,["href"])]),_:1}),s.student.registration?(i(),f(a(_),{key:0,variant:"outline","as-child":""},{default:o(()=>[e("a",{href:`/admin/students/${s.student.id}/registration-card`,target:"_blank"},[n(a(ft),{class:"mr-2 size-4"}),t[18]||(t[18]=l(" Cetak Kartu ",-1))],8,kt)]),_:1})):m("",!0),E.value?(i(),f(a(_),{key:1,onClick:t[0]||(t[0]=u=>b.value=!0),class:"bg-green-600 hover:bg-green-700"},{default:o(()=>[n(a(Q),{class:"mr-2 size-4"}),t[19]||(t[19]=l(" Terima ",-1))]),_:1})):m("",!0),E.value?(i(),f(a(_),{key:2,variant:"destructive",onClick:t[1]||(t[1]=u=>y.value=!0)},{default:o(()=>[n(a(pt),{class:"mr-2 size-4"}),t[20]||(t[20]=l(" Tolak ",-1))]),_:1})):m("",!0)])]),e("div",ht,[n(a(F),null,{default:o(()=>[n(a(I),null,{default:o(()=>[n(a(K),{class:"flex items-center gap-2"},{default:o(()=>[n(a(_t),{class:"size-5"}),t[21]||(t[21]=l(" Informasi Pendaftaran ",-1))]),_:1})]),_:1}),s.student.registration?(i(),f(a(k),{key:0,class:"space-y-4"},{default:o(()=>[e("div",wt,[e("div",jt,[t[22]||(t[22]=e("span",{class:"text-gray-500"},"No. Pendaftaran",-1)),e("span",$t,r(s.student.registration.registration_number),1)]),e("div",Pt,[t[23]||(t[23]=e("span",{class:"text-gray-500"},"Status",-1)),n(a(rt),{variant:M(s.student.registration.status).variant},{default:o(()=>[l(r(M(s.student.registration.status).label),1)]),_:1},8,["variant"])]),e("div",Ct,[t[24]||(t[24]=e("span",{class:"text-gray-500"},"Jenis Pendaftaran",-1)),e("span",zt,r(s.student.registration.registration_type?.name||"-"),1)]),e("div",Dt,[t[25]||(t[25]=e("span",{class:"text-gray-500"},"Jalur",-1)),e("span",Tt,r(s.student.registration.registration_path?.name||"-"),1)]),e("div",Bt,[t[26]||(t[26]=e("span",{class:"text-gray-500"},"Periode",-1)),e("span",Ft,r(s.student.registration.registration_period?.name||"-"),1)]),e("div",It,[t[27]||(t[27]=e("span",{class:"text-gray-500"},"Sumber Informasi",-1)),e("div",Kt,[e("span",Nt,r(s.student.registration.referral_source||"-"),1),s.student.registration.referral_detail?(i(),d("span",St,r(s.student.registration.referral_detail),1)):m("",!0)])])]),e("div",Ut,[t[31]||(t[31]=e("h4",{class:"font-medium"},"Pilihan Program Studi",-1)),e("div",Vt,[e("p",At,[t[28]||(t[28]=e("strong",null,"1.",-1)),l(" "+r(s.student.registration.program_studi_choice1?.name||"-")+" ",1),s.student.registration.program_studi_choice1?.fakultas?(i(),d("span",Et," ("+r(s.student.registration.program_studi_choice1.fakultas.name)+") ",1)):m("",!0)]),s.student.registration.program_studi_choice2?(i(),d("p",Mt,[t[29]||(t[29]=e("strong",null,"2.",-1)),l(" "+r(s.student.registration.program_studi_choice2?.name||"-")+" ",1),s.student.registration.program_studi_choice2?.fakultas?(i(),d("span",Jt," ("+r(s.student.registration.program_studi_choice2.fakultas.name)+") ",1)):m("",!0)])):m("",!0),s.student.registration.program_studi_choice3?(i(),d("p",Lt,[t[30]||(t[30]=e("strong",null,"3.",-1)),l(" "+r(s.student.registration.program_studi_choice3?.name||"-"),1)])):m("",!0)])]),s.student.registration.status==="accepted"?(i(),d("div",Rt,[t[32]||(t[32]=e("p",{class:"font-medium text-green-800"},"Diterima di:",-1)),e("p",Gt,r(s.student.registration.accepted_program_studi?.name),1)])):m("",!0),s.student.registration.status==="rejected"?(i(),d("div",qt,[t[33]||(t[33]=e("p",{class:"font-medium text-red-800"},"Alasan Penolakan:",-1)),e("p",Wt,r(s.student.registration.rejection_reason),1)])):m("",!0)]),_:1})):(i(),f(a(k),{key:1},{default:o(()=>[...t[34]||(t[34]=[e("p",{class:"text-gray-500"},"Belum mendaftar",-1)])]),_:1}))]),_:1}),n(a(F),null,{default:o(()=>[n(a(I),null,{default:o(()=>[n(a(K),{class:"flex items-center gap-2"},{default:o(()=>[n(a(ct),{class:"size-5"}),t[35]||(t[35]=l(" Data Pribadi ",-1))]),_:1})]),_:1}),s.student.student_biodata?(i(),f(a(k),{key:0,class:"space-y-4"},{default:o(()=>[e("div",Xt,[e("div",Ht,[t[36]||(t[36]=e("span",{class:"text-gray-500"},"NIK",-1)),e("span",Ot,r(s.student.student_biodata.nik),1)]),e("div",Qt,[t[37]||(t[37]=e("span",{class:"text-gray-500"},"NISN",-1)),e("span",Yt,r(s.student.student_biodata.nisn||"-"),1)]),e("div",Zt,[t[38]||(t[38]=e("span",{class:"text-gray-500"},"TTL",-1)),e("span",te,r(s.student.student_biodata.birth_place)+", "+r(s.student.student_biodata.birth_date),1)]),e("div",ee,[t[39]||(t[39]=e("span",{class:"text-gray-500"},"Jenis Kelamin",-1)),e("span",se,r(s.student.student_biodata.gender),1)]),e("div",ae,[t[40]||(t[40]=e("span",{class:"text-gray-500"},"Agama",-1)),e("span",ne,r(s.student.student_biodata.religion),1)]),e("div",oe,[t[41]||(t[41]=e("span",{class:"text-gray-500"},"Telepon",-1)),e("span",ie,r(s.student.student_biodata.phone),1)]),e("div",le,[t[42]||(t[42]=e("span",{class:"text-gray-500"},"Asal Sekolah",-1)),e("span",re,r(s.student.student_biodata.school_origin),1)])])]),_:1})):(i(),f(a(k),{key:1},{default:o(()=>[...t[43]||(t[43]=[e("p",{class:"text-gray-500"},"Biodata belum diisi",-1)])]),_:1}))]),_:1}),n(a(F),{class:"lg:col-span-2"},{default:o(()=>[n(a(I),null,{default:o(()=>[e("div",de,[n(a(K),{class:"flex items-center gap-2"},{default:o(()=>[n(a(C),{class:"size-5"}),t[44]||(t[44]=l(" Dokumen ",-1))]),_:1}),n(a(_),{variant:"outline",size:"sm","as-child":""},{default:o(()=>[e("a",{href:`/admin/students/${s.student.id}/documents`}," Verifikasi Dokumen ",8,ue)]),_:1})])]),_:1}),s.student.student_biodata?(i(),f(a(k),{key:0},{default:o(()=>[e("div",me,[e("div",fe,[t[45]||(t[45]=e("p",{class:"mb-2 text-sm font-medium"},"Pas Foto",-1)),s.student.student_biodata.photo_url?(i(),d("div",{key:0,class:"relative cursor-pointer",onClick:t[2]||(t[2]=u=>j(s.student.student_biodata.photo_url,"Pas Foto"))},[e("img",{src:s.student.student_biodata.photo_url,class:"aspect-square rounded-lg object-cover"},null,8,pe),e("div",_e,[n(a(z),{class:"size-6 text-white"})])])):(i(),d("p",ce,"Belum upload"))]),e("div",ge,[t[47]||(t[47]=e("p",{class:"mb-2 text-sm font-medium"},"KTP",-1)),s.student.student_biodata.ktp_url?(i(),d("div",{key:0,class:"relative cursor-pointer",onClick:t[3]||(t[3]=u=>j(s.student.student_biodata.ktp_url,"KTP"))},[$(s.student.student_biodata.ktp_url)?(i(),d("div",ve,[n(a(C),{class:"size-8 text-red-500"}),t[46]||(t[46]=e("span",{class:"text-xs"},"PDF Document",-1))])):(i(),d("img",{key:1,src:s.student.student_biodata.ktp_url,class:"aspect-video rounded-lg object-cover"},null,8,be)),e("div",ye,[n(a(z),{class:"size-6 text-white"})])])):(i(),d("p",xe,"Belum upload"))]),e("div",ke,[t[49]||(t[49]=e("p",{class:"mb-2 text-sm font-medium"},"KK",-1)),s.student.student_biodata.kk_url?(i(),d("div",{key:0,class:"relative cursor-pointer",onClick:t[4]||(t[4]=u=>j(s.student.student_biodata.kk_url,"Kartu Keluarga"))},[$(s.student.student_biodata.kk_url)?(i(),d("div",he,[n(a(C),{class:"size-8 text-red-500"}),t[48]||(t[48]=e("span",{class:"text-xs"},"PDF Document",-1))])):(i(),d("img",{key:1,src:s.student.student_biodata.kk_url,class:"aspect-video rounded-lg object-cover"},null,8,we)),e("div",je,[n(a(z),{class:"size-6 text-white"})])])):(i(),d("p",$e,"Belum upload"))]),e("div",Pe,[t[51]||(t[51]=e("p",{class:"mb-2 text-sm font-medium"},"Ijazah",-1)),s.student.student_biodata.certificate_url?(i(),d("div",{key:0,class:"relative cursor-pointer",onClick:t[5]||(t[5]=u=>j(s.student.student_biodata.certificate_url,"Ijazah"))},[$(s.student.student_biodata.certificate_url)?(i(),d("div",Ce,[n(a(C),{class:"size-8 text-red-500"}),t[50]||(t[50]=e("span",{class:"text-xs"},"PDF Document",-1))])):(i(),d("img",{key:1,src:s.student.student_biodata.certificate_url,class:"aspect-video rounded-lg object-cover"},null,8,ze)),e("div",De,[n(a(z),{class:"size-6 text-white"})])])):(i(),d("p",Te,"Belum upload"))])])]),_:1})):m("",!0)]),_:1})])]),n(a(N),{open:b.value,"onUpdate:open":t[10]||(t[10]=u=>b.value=u)},{default:o(()=>[n(a(S),null,{default:o(()=>[n(a(U),null,{default:o(()=>[n(a(V),null,{default:o(()=>[...t[52]||(t[52]=[l("Terima Mahasiswa",-1)])]),_:1}),n(a(H),null,{default:o(()=>[...t[53]||(t[53]=[l(" Pilih program studi yang akan diterima ",-1)])]),_:1})]),_:1}),e("div",Be,[e("div",Fe,[n(a(A),null,{default:o(()=>[...t[54]||(t[54]=[l("Program Studi",-1)])]),_:1}),e("div",Ie,[s.student.registration?.choice_1?(i(),d("label",Ke,[P(e("input",{type:"radio",value:s.student.registration.choice_1,"onUpdate:modelValue":t[6]||(t[6]=u=>g.value=u)},null,8,Ne),[[L,g.value]]),l(" "+r(s.student.registration.program_studi_choice1?.name),1)])):m("",!0),s.student.registration?.choice_2?(i(),d("label",Se,[P(e("input",{type:"radio",value:s.student.registration.choice_2,"onUpdate:modelValue":t[7]||(t[7]=u=>g.value=u)},null,8,Ue),[[L,g.value]]),l(" "+r(s.student.registration.program_studi_choice2?.name),1)])):m("",!0)])]),e("div",Ve,[n(a(A),null,{default:o(()=>[...t[55]||(t[55]=[l("Catatan (opsional)",-1)])]),_:1}),P(e("textarea",{"onUpdate:modelValue":t[8]||(t[8]=u=>B.value=u),class:"w-full rounded-md border p-2 text-sm",rows:"2"},null,512),[[R,B.value]])])]),n(a(O),null,{default:o(()=>[n(a(_),{variant:"outline",onClick:t[9]||(t[9]=u=>b.value=!1)},{default:o(()=>[...t[56]||(t[56]=[l(" Batal ",-1)])]),_:1}),n(a(_),{onClick:et,disabled:!g.value||v.value,class:"bg-green-600 hover:bg-green-700"},{default:o(()=>[...t[57]||(t[57]=[l(" Terima ",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]),n(a(N),{open:y.value,"onUpdate:open":t[13]||(t[13]=u=>y.value=u)},{default:o(()=>[n(a(S),null,{default:o(()=>[n(a(U),null,{default:o(()=>[n(a(V),null,{default:o(()=>[...t[58]||(t[58]=[l("Tolak Pendaftaran",-1)])]),_:1}),n(a(H),null,{default:o(()=>[...t[59]||(t[59]=[l(" Berikan alasan penolakan ",-1)])]),_:1})]),_:1}),e("div",Ae,[e("div",Ee,[n(a(A),null,{default:o(()=>[...t[60]||(t[60]=[l("Alasan Penolakan *",-1)])]),_:1}),P(e("textarea",{"onUpdate:modelValue":t[11]||(t[11]=u=>x.value=u),class:"w-full rounded-md border p-2 text-sm",rows:"3",placeholder:"Jelaskan alasan penolakan..."},null,512),[[R,x.value]])])]),n(a(O),null,{default:o(()=>[n(a(_),{variant:"outline",onClick:t[12]||(t[12]=u=>y.value=!1)},{default:o(()=>[...t[61]||(t[61]=[l(" Batal ",-1)])]),_:1}),n(a(_),{variant:"destructive",onClick:st,disabled:!x.value||v.value},{default:o(()=>[...t[62]||(t[62]=[l(" Tolak ",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]),n(a(N),{open:D.value,"onUpdate:open":t[14]||(t[14]=u=>D.value=u)},{default:o(()=>[n(a(S),{class:"min-w-[80vw] max-w-4xl h-[80vh] sm:h-[85vh] flex flex-col p-4"},{default:o(()=>[n(a(U),null,{default:o(()=>[n(a(V),null,{default:o(()=>[l(r(T.value),1)]),_:1})]),_:1}),e("div",Me,[$(w.value)?(i(),d("iframe",{key:0,src:w.value,class:"w-full h-full min-h-[60vh]",frameborder:"0"},null,8,Je)):(i(),d("img",{key:1,src:w.value,alt:T.value,class:"w-full h-auto max-h-full object-contain"},null,8,Le))])]),_:1})]),_:1},8,["open"])]),_:1})],64))}});export{vs as default};
