import{d as Q,j as W,c as D,p as g,a as r,e as n,u as a,h as Y,w as o,b as s,k as _,i as m,o as i,f as d,t as l,l as Z,q as j,G as N,z as S,F as tt,s as U}from"./app-CcuLLWMw.js";import{_ as V,a as A}from"./index-DEk99djT.js";import{_ as F}from"./AlertTitle.vue_vue_type_script_setup_true_lang-DO8JEUAp.js";import{_ as st}from"./index-D-jME6Ot.js";import{_ as p}from"./index-u_ueQ1j-.js";import{_ as $,a as h,b as C,c as x}from"./CardTitle.vue_vue_type_script_setup_true_lang-DCqfsORM.js";import{_ as I,a as K,b as M,c as J}from"./DialogTitle.vue_vue_type_script_setup_true_lang-BX0-wLck.js";import{_ as R}from"./DialogDescription.vue_vue_type_script_setup_true_lang-fOxdRM7C.js";import{_ as E}from"./DialogFooter.vue_vue_type_script_setup_true_lang-CUO2Cvgm.js";import{_ as P}from"./Label.vue_vue_type_script_setup_true_lang-kEpqXKDX.js";import{_ as et}from"./AppLayout.vue_vue_type_script_setup_true_lang-KrPhG79J.js";import{C as G,F as at}from"./file-text-BuDiMqOG.js";import{C as nt}from"./circle-alert-NcTBRFdR.js";import{c as ot}from"./createLucideIcon-DmmUP9a7.js";import{C as it}from"./circle-x-y3s0yQf6.js";import{G as dt}from"./user-plus-D9cn_rhc.js";import{U as lt}from"./user-DAiMo9OF.js";import"./index-Do2AIBFg.js";import"./useForwardPropsEmits-BYM72Y4V.js";import"./x-CH2z8EwH.js";import"./useForwardExpose-CVoJtl4u.js";import"./VisuallyHidden-BIMyNfP6.js";import"./triangle-alert-TjeGXdBw.js";import"./index-BHw9BgFF.js";import"./index-CMWG4mbA.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const rt=ot("PencilIcon",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),ut={class:"flex flex-col gap-6 p-4"},mt={class:"flex items-center justify-between"},_t={class:"text-2xl font-bold"},pt={class:"flex gap-2"},ft={class:"grid gap-6 lg:grid-cols-2"},ct={class:"grid gap-3 text-sm"},gt={class:"flex justify-between border-b pb-2"},bt={class:"font-mono font-medium"},vt={class:"flex justify-between border-b pb-2"},yt={class:"flex justify-between border-b pb-2"},xt={class:"font-medium"},kt={class:"flex justify-between border-b pb-2"},jt={class:"font-medium"},wt={class:"flex justify-between border-b pb-2"},$t={class:"font-medium"},ht={class:"flex justify-between border-b pb-2"},Ct={class:"text-right"},Pt={class:"block font-medium"},Bt={key:0,class:"text-xs text-gray-500"},Tt={class:"mt-4 space-y-2"},zt={class:"rounded-lg border p-3"},Dt={class:"text-sm"},Nt={key:0,class:"text-gray-500"},St={key:0,class:"mt-1 text-sm"},Ut={key:0,class:"text-gray-500"},Vt={key:1,class:"mt-1 text-sm"},At={key:0,class:"mt-4 rounded-lg border border-green-200 bg-green-50 p-4"},Ft={class:"text-lg font-bold text-green-900"},It={key:1,class:"mt-4 rounded-lg border border-red-200 bg-red-50 p-4"},Kt={class:"text-red-900"},Mt={class:"grid gap-3 text-sm"},Jt={class:"flex justify-between border-b pb-2"},Rt={class:"font-mono font-medium"},Et={class:"flex justify-between border-b pb-2"},Gt={class:"font-medium"},Lt={class:"flex justify-between border-b pb-2"},qt={class:"font-medium"},Xt={class:"flex justify-between border-b pb-2"},Ht={class:"font-medium"},Ot={class:"flex justify-between border-b pb-2"},Qt={class:"font-medium"},Wt={class:"flex justify-between border-b pb-2"},Yt={class:"font-medium"},Zt={class:"flex justify-between"},ts={class:"font-medium"},ss={class:"flex items-center justify-between"},es=["href"],as={class:"grid gap-4 md:grid-cols-4"},ns={class:"rounded-lg border p-3"},os=["src"],is={key:1,class:"text-sm text-gray-400"},ds={class:"rounded-lg border p-3"},ls=["src"],rs={key:1,class:"text-sm text-gray-400"},us={class:"rounded-lg border p-3"},ms=["src"],_s={key:1,class:"text-sm text-gray-400"},ps={class:"rounded-lg border p-3"},fs=["src"],cs={key:1,class:"text-sm text-gray-400"},gs={class:"space-y-4 py-4"},bs={class:"space-y-2"},vs={class:"space-y-2"},ys={key:0,class:"flex items-center gap-2"},xs=["value"],ks={key:1,class:"flex items-center gap-2"},js=["value"],ws={class:"space-y-2"},$s={class:"space-y-4 py-4"},hs={class:"space-y-2"},Ys=Q({__name:"Show",props:{student:{}},setup(L){const e=L,q=W(),k=D(()=>q.props.flash),b=g(!1),v=g(!1),f=g(null),w=g(""),y=g(""),c=g(!1),X=[{title:"Admin Dashboard",href:"/admin/dashboard"},{title:"Calon Mahasiswa",href:"/admin/students"},{title:e.student.student_biodata?.name||e.student.name,href:"#"}],B=D(()=>e.student.registration?.status==="verified"),H=()=>{f.value&&(c.value=!0,U.post(`/admin/students/${e.student.id}/accept`,{program_studi_id:f.value,notes:w.value},{onFinish:()=>{c.value=!1,b.value=!1}}))},O=()=>{y.value&&(c.value=!0,U.post(`/admin/students/${e.student.id}/reject`,{reason:y.value},{onFinish:()=>{c.value=!1,v.value=!1}}))},T=z=>({draft:{variant:"secondary",label:"Draft"},submitted:{variant:"secondary",label:"Terdaftar"},verified:{variant:"default",label:"Terverifikasi"},accepted:{variant:"default",label:"Diterima"},rejected:{variant:"destructive",label:"Ditolak"}})[z||""]||{variant:"secondary",label:"Unknown"};return(z,t)=>(i(),r(tt,null,[n(a(Y),{title:e.student.student_biodata?.name||e.student.name},null,8,["title"]),n(et,{breadcrumbs:X},{default:o(()=>[s("div",ut,[k.value?.success?(i(),_(a(V),{key:0,class:"border-green-500 bg-green-50"},{default:o(()=>[n(a(G),{class:"size-4 text-green-600"}),n(a(F),{class:"text-green-800"},{default:o(()=>[...t[10]||(t[10]=[d("Berhasil",-1)])]),_:1}),n(a(A),{class:"text-green-700"},{default:o(()=>[d(l(k.value.success),1)]),_:1})]),_:1})):m("",!0),k.value?.error?(i(),_(a(V),{key:1,variant:"destructive"},{default:o(()=>[n(a(nt),{class:"size-4"}),n(a(F),null,{default:o(()=>[...t[11]||(t[11]=[d("Error",-1)])]),_:1}),n(a(A),null,{default:o(()=>[d(l(k.value.error),1)]),_:1})]),_:1})):m("",!0),s("div",mt,[s("h1",_t,l(e.student.student_biodata?.name||e.student.name),1),s("div",pt,[n(a(p),{variant:"outline","as-child":""},{default:o(()=>[n(a(Z),{href:`/admin/students/${e.student.id}/edit`},{default:o(()=>[n(a(rt),{class:"mr-2 size-4"}),t[12]||(t[12]=d(" Edit ",-1))]),_:1},8,["href"])]),_:1}),B.value?(i(),_(a(p),{key:0,onClick:t[0]||(t[0]=u=>b.value=!0),class:"bg-green-600 hover:bg-green-700"},{default:o(()=>[n(a(G),{class:"mr-2 size-4"}),t[13]||(t[13]=d(" Terima ",-1))]),_:1})):m("",!0),B.value?(i(),_(a(p),{key:1,variant:"destructive",onClick:t[1]||(t[1]=u=>v.value=!0)},{default:o(()=>[n(a(it),{class:"mr-2 size-4"}),t[14]||(t[14]=d(" Tolak ",-1))]),_:1})):m("",!0)])]),s("div",ft,[n(a($),null,{default:o(()=>[n(a(h),null,{default:o(()=>[n(a(C),{class:"flex items-center gap-2"},{default:o(()=>[n(a(dt),{class:"size-5"}),t[15]||(t[15]=d(" Informasi Pendaftaran ",-1))]),_:1})]),_:1}),e.student.registration?(i(),_(a(x),{key:0,class:"space-y-4"},{default:o(()=>[s("div",ct,[s("div",gt,[t[16]||(t[16]=s("span",{class:"text-gray-500"},"No. Pendaftaran",-1)),s("span",bt,l(e.student.registration.registration_number),1)]),s("div",vt,[t[17]||(t[17]=s("span",{class:"text-gray-500"},"Status",-1)),n(a(st),{variant:T(e.student.registration.status).variant},{default:o(()=>[d(l(T(e.student.registration.status).label),1)]),_:1},8,["variant"])]),s("div",yt,[t[18]||(t[18]=s("span",{class:"text-gray-500"},"Jenis Pendaftaran",-1)),s("span",xt,l(e.student.registration.registration_type?.name||"-"),1)]),s("div",kt,[t[19]||(t[19]=s("span",{class:"text-gray-500"},"Jalur",-1)),s("span",jt,l(e.student.registration.registration_path?.name||"-"),1)]),s("div",wt,[t[20]||(t[20]=s("span",{class:"text-gray-500"},"Periode",-1)),s("span",$t,l(e.student.registration.registration_period?.name||"-"),1)]),s("div",ht,[t[21]||(t[21]=s("span",{class:"text-gray-500"},"Sumber Informasi",-1)),s("div",Ct,[s("span",Pt,l(e.student.registration.referral_source||"-"),1),e.student.registration.referral_detail?(i(),r("span",Bt,l(e.student.registration.referral_detail),1)):m("",!0)])])]),s("div",Tt,[t[25]||(t[25]=s("h4",{class:"font-medium"},"Pilihan Program Studi",-1)),s("div",zt,[s("p",Dt,[t[22]||(t[22]=s("strong",null,"1.",-1)),d(" "+l(e.student.registration.program_studi_choice1?.name||"-")+" ",1),e.student.registration.program_studi_choice1?.fakultas?(i(),r("span",Nt," ("+l(e.student.registration.program_studi_choice1.fakultas.name)+") ",1)):m("",!0)]),e.student.registration.program_studi_choice2?(i(),r("p",St,[t[23]||(t[23]=s("strong",null,"2.",-1)),d(" "+l(e.student.registration.program_studi_choice2?.name||"-")+" ",1),e.student.registration.program_studi_choice2?.fakultas?(i(),r("span",Ut," ("+l(e.student.registration.program_studi_choice2.fakultas.name)+") ",1)):m("",!0)])):m("",!0),e.student.registration.program_studi_choice3?(i(),r("p",Vt,[t[24]||(t[24]=s("strong",null,"3.",-1)),d(" "+l(e.student.registration.program_studi_choice3?.name||"-"),1)])):m("",!0)])]),e.student.registration.status==="accepted"?(i(),r("div",At,[t[26]||(t[26]=s("p",{class:"font-medium text-green-800"},"Diterima di:",-1)),s("p",Ft,l(e.student.registration.accepted_program_studi?.name),1)])):m("",!0),e.student.registration.status==="rejected"?(i(),r("div",It,[t[27]||(t[27]=s("p",{class:"font-medium text-red-800"},"Alasan Penolakan:",-1)),s("p",Kt,l(e.student.registration.rejection_reason),1)])):m("",!0)]),_:1})):(i(),_(a(x),{key:1},{default:o(()=>[...t[28]||(t[28]=[s("p",{class:"text-gray-500"},"Belum mendaftar",-1)])]),_:1}))]),_:1}),n(a($),null,{default:o(()=>[n(a(h),null,{default:o(()=>[n(a(C),{class:"flex items-center gap-2"},{default:o(()=>[n(a(lt),{class:"size-5"}),t[29]||(t[29]=d(" Data Pribadi ",-1))]),_:1})]),_:1}),e.student.student_biodata?(i(),_(a(x),{key:0,class:"space-y-4"},{default:o(()=>[s("div",Mt,[s("div",Jt,[t[30]||(t[30]=s("span",{class:"text-gray-500"},"NIK",-1)),s("span",Rt,l(e.student.student_biodata.nik),1)]),s("div",Et,[t[31]||(t[31]=s("span",{class:"text-gray-500"},"NISN",-1)),s("span",Gt,l(e.student.student_biodata.nisn||"-"),1)]),s("div",Lt,[t[32]||(t[32]=s("span",{class:"text-gray-500"},"TTL",-1)),s("span",qt,l(e.student.student_biodata.birth_place)+", "+l(e.student.student_biodata.birth_date),1)]),s("div",Xt,[t[33]||(t[33]=s("span",{class:"text-gray-500"},"Jenis Kelamin",-1)),s("span",Ht,l(e.student.student_biodata.gender),1)]),s("div",Ot,[t[34]||(t[34]=s("span",{class:"text-gray-500"},"Agama",-1)),s("span",Qt,l(e.student.student_biodata.religion),1)]),s("div",Wt,[t[35]||(t[35]=s("span",{class:"text-gray-500"},"Telepon",-1)),s("span",Yt,l(e.student.student_biodata.phone),1)]),s("div",Zt,[t[36]||(t[36]=s("span",{class:"text-gray-500"},"Asal Sekolah",-1)),s("span",ts,l(e.student.student_biodata.school_origin),1)])])]),_:1})):(i(),_(a(x),{key:1},{default:o(()=>[...t[37]||(t[37]=[s("p",{class:"text-gray-500"},"Biodata belum diisi",-1)])]),_:1}))]),_:1}),n(a($),{class:"lg:col-span-2"},{default:o(()=>[n(a(h),null,{default:o(()=>[s("div",ss,[n(a(C),{class:"flex items-center gap-2"},{default:o(()=>[n(a(at),{class:"size-5"}),t[38]||(t[38]=d(" Dokumen ",-1))]),_:1}),n(a(p),{variant:"outline",size:"sm","as-child":""},{default:o(()=>[s("a",{href:`/admin/students/${e.student.id}/documents`}," Verifikasi Dokumen ",8,es)]),_:1})])]),_:1}),e.student.student_biodata?(i(),_(a(x),{key:0},{default:o(()=>[s("div",as,[s("div",ns,[t[39]||(t[39]=s("p",{class:"mb-2 text-sm font-medium"},"Pas Foto",-1)),e.student.student_biodata.photo_url?(i(),r("img",{key:0,src:e.student.student_biodata.photo_url,class:"aspect-square rounded-lg object-cover"},null,8,os)):(i(),r("p",is,"Belum upload"))]),s("div",ds,[t[40]||(t[40]=s("p",{class:"mb-2 text-sm font-medium"},"KTP",-1)),e.student.student_biodata.ktp_url?(i(),r("img",{key:0,src:e.student.student_biodata.ktp_url,class:"aspect-video rounded-lg object-cover"},null,8,ls)):(i(),r("p",rs,"Belum upload"))]),s("div",us,[t[41]||(t[41]=s("p",{class:"mb-2 text-sm font-medium"},"KK",-1)),e.student.student_biodata.kk_url?(i(),r("img",{key:0,src:e.student.student_biodata.kk_url,class:"aspect-video rounded-lg object-cover"},null,8,ms)):(i(),r("p",_s,"Belum upload"))]),s("div",ps,[t[42]||(t[42]=s("p",{class:"mb-2 text-sm font-medium"},"Ijazah",-1)),e.student.student_biodata.certificate_url?(i(),r("img",{key:0,src:e.student.student_biodata.certificate_url,class:"aspect-video rounded-lg object-cover"},null,8,fs)):(i(),r("p",cs,"Belum upload"))])])]),_:1})):m("",!0)]),_:1})])]),n(a(I),{open:b.value,"onUpdate:open":t[6]||(t[6]=u=>b.value=u)},{default:o(()=>[n(a(K),null,{default:o(()=>[n(a(M),null,{default:o(()=>[n(a(J),null,{default:o(()=>[...t[43]||(t[43]=[d("Terima Mahasiswa",-1)])]),_:1}),n(a(R),null,{default:o(()=>[...t[44]||(t[44]=[d(" Pilih program studi yang akan diterima ",-1)])]),_:1})]),_:1}),s("div",gs,[s("div",bs,[n(a(P),null,{default:o(()=>[...t[45]||(t[45]=[d("Program Studi",-1)])]),_:1}),s("div",vs,[e.student.registration?.choice_1?(i(),r("label",ys,[j(s("input",{type:"radio",value:e.student.registration.choice_1,"onUpdate:modelValue":t[2]||(t[2]=u=>f.value=u)},null,8,xs),[[N,f.value]]),d(" "+l(e.student.registration.program_studi_choice1?.name),1)])):m("",!0),e.student.registration?.choice_2?(i(),r("label",ks,[j(s("input",{type:"radio",value:e.student.registration.choice_2,"onUpdate:modelValue":t[3]||(t[3]=u=>f.value=u)},null,8,js),[[N,f.value]]),d(" "+l(e.student.registration.program_studi_choice2?.name),1)])):m("",!0)])]),s("div",ws,[n(a(P),null,{default:o(()=>[...t[46]||(t[46]=[d("Catatan (opsional)",-1)])]),_:1}),j(s("textarea",{"onUpdate:modelValue":t[4]||(t[4]=u=>w.value=u),class:"w-full rounded-md border p-2 text-sm",rows:"2"},null,512),[[S,w.value]])])]),n(a(E),null,{default:o(()=>[n(a(p),{variant:"outline",onClick:t[5]||(t[5]=u=>b.value=!1)},{default:o(()=>[...t[47]||(t[47]=[d(" Batal ",-1)])]),_:1}),n(a(p),{onClick:H,disabled:!f.value||c.value,class:"bg-green-600 hover:bg-green-700"},{default:o(()=>[...t[48]||(t[48]=[d(" Terima ",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]),n(a(I),{open:v.value,"onUpdate:open":t[9]||(t[9]=u=>v.value=u)},{default:o(()=>[n(a(K),null,{default:o(()=>[n(a(M),null,{default:o(()=>[n(a(J),null,{default:o(()=>[...t[49]||(t[49]=[d("Tolak Pendaftaran",-1)])]),_:1}),n(a(R),null,{default:o(()=>[...t[50]||(t[50]=[d(" Berikan alasan penolakan ",-1)])]),_:1})]),_:1}),s("div",$s,[s("div",hs,[n(a(P),null,{default:o(()=>[...t[51]||(t[51]=[d("Alasan Penolakan *",-1)])]),_:1}),j(s("textarea",{"onUpdate:modelValue":t[7]||(t[7]=u=>y.value=u),class:"w-full rounded-md border p-2 text-sm",rows:"3",placeholder:"Jelaskan alasan penolakan..."},null,512),[[S,y.value]])])]),n(a(E),null,{default:o(()=>[n(a(p),{variant:"outline",onClick:t[8]||(t[8]=u=>v.value=!1)},{default:o(()=>[...t[52]||(t[52]=[d(" Batal ",-1)])]),_:1}),n(a(p),{variant:"destructive",onClick:O,disabled:!y.value||c.value},{default:o(()=>[...t[53]||(t[53]=[d(" Tolak ",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])]),_:1})],64))}});export{Ys as default};
