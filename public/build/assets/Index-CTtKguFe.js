import{d as N,j as T,c as z,p as b,x as F,a as p,e as a,u as t,h as U,w as o,b as s,k as A,i as M,o as m,f as n,t as d,F as v,r as k,y as E,q as g,B as S,A as I,s as q}from"./app-D0FZ-RXW.js";import{_ as J,a as K}from"./index-CVqEW1ia.js";import{_ as H}from"./AlertTitle.vue_vue_type_script_setup_true_lang-BQK4nFD4.js";import{_ as L}from"./index-r17I8etV.js";import{_}from"./index-ntS6y-K9.js";import{_ as G,a as O,b as Q,c as R}from"./CardTitle.vue_vue_type_script_setup_true_lang-B7cxi9YZ.js";import{_ as W,a as X,b as Y,c as Z}from"./DialogTitle.vue_vue_type_script_setup_true_lang-C5ITCo0l.js";import{_ as tt}from"./DialogFooter.vue_vue_type_script_setup_true_lang-DadL-Yz7.js";import{_ as $}from"./Input.vue_vue_type_script_setup_true_lang-NkBITKZp.js";import{_ as c}from"./Label.vue_vue_type_script_setup_true_lang-CDdkuwpF.js";import{_ as et}from"./AppLayout.vue_vue_type_script_setup_true_lang-ojFBQnKn.js";import{C as st}from"./file-text-ChD_cXFy.js";import{P as at,T as lt}from"./trash-CtBPiwrt.js";import{S as ot}from"./square-pen-BeDizuXu.js";import"./index-D-RoflrU.js";import"./useForwardPropsEmits-CSEVW0b5.js";import"./x-CcT1fs-9.js";import"./createLucideIcon-BgRl5MK8.js";import"./useForwardExpose-BW_BnP7N.js";import"./VisuallyHidden-bFoKfZTq.js";import"./triangle-alert-ChMWsPsg.js";import"./circle-x-DlKZx7FR.js";import"./index-BHw9BgFF.js";import"./index-CMWG4mbA.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./user-plus-BtRC70MT.js";const it={class:"flex flex-col gap-6 p-4"},nt={class:"overflow-x-auto rounded-lg border"},rt={class:"w-full text-sm"},dt={class:"divide-y"},ut={class:"px-4 py-3 font-mono"},mt={class:"px-4 py-3 font-medium"},ft={class:"px-4 py-3"},pt={class:"px-4 py-3"},_t={class:"px-4 py-3"},ct={class:"px-4 py-3"},vt={class:"flex gap-2"},gt={class:"grid grid-cols-2 gap-4"},xt={class:"space-y-2"},yt={class:"space-y-2"},bt={class:"space-y-2"},kt={class:"space-y-2"},St=["value"],$t={class:"flex items-center gap-2"},Wt=N({__name:"Index",props:{programStudi:{},fakultas:{}},setup(j){const x=j,h=T(),y=z(()=>h.props.flash),u=b(!1),f=b(null),i=F({name:"",code:"",jenjang:"S1",fakultas_id:"",is_active:!0}),C=()=>{f.value=null,i.reset(),i.jenjang="S1",i.is_active=!0,u.value=!0},P=r=>{f.value=r,i.name=r.name,i.code=r.code,i.jenjang=r.jenjang,i.fakultas_id=String(r.fakultas_id),i.is_active=r.is_active,u.value=!0},V=()=>{f.value?i.put(`/admin/program-studi/${f.value.id}`,{onSuccess:()=>u.value=!1}):i.post("/admin/program-studi",{onSuccess:()=>u.value=!1})},w=r=>{confirm("Hapus program studi ini?")&&q.delete(`/admin/program-studi/${r}`)},B=[{title:"Admin Dashboard",href:"/admin/dashboard"},{title:"Program Studi",href:"/admin/program-studi"}];return(r,e)=>(m(),p(v,null,[a(t(U),{title:"Program Studi"}),a(et,{breadcrumbs:B},{default:o(()=>[s("div",it,[y.value?.success?(m(),A(t(J),{key:0,class:"border-green-500 bg-green-50"},{default:o(()=>[a(t(st),{class:"size-4 text-green-600"}),a(t(H),{class:"text-green-800"},{default:o(()=>[...e[7]||(e[7]=[n("Berhasil",-1)])]),_:1}),a(t(K),{class:"text-green-700"},{default:o(()=>[n(d(y.value.success),1)]),_:1})]),_:1})):M("",!0),a(t(G),null,{default:o(()=>[a(t(O),{class:"flex flex-row items-center justify-between"},{default:o(()=>[a(t(Q),null,{default:o(()=>[...e[8]||(e[8]=[n("Manajemen Program Studi",-1)])]),_:1}),a(t(_),{onClick:C},{default:o(()=>[a(t(at),{class:"mr-2 size-4"}),e[9]||(e[9]=n(" Tambah Prodi ",-1))]),_:1})]),_:1}),a(t(R),null,{default:o(()=>[s("div",nt,[s("table",rt,[e[10]||(e[10]=s("thead",{class:"bg-gray-50"},[s("tr",null,[s("th",{class:"px-4 py-3 text-left"},"Kode"),s("th",{class:"px-4 py-3 text-left"},"Nama"),s("th",{class:"px-4 py-3 text-left"},"Jenjang"),s("th",{class:"px-4 py-3 text-left"},"Fakultas"),s("th",{class:"px-4 py-3 text-left"},"Status"),s("th",{class:"px-4 py-3 text-left"},"Aksi")])],-1)),s("tbody",dt,[(m(!0),p(v,null,k(x.programStudi,l=>(m(),p("tr",{key:l.id,class:"hover:bg-gray-50"},[s("td",ut,d(l.code),1),s("td",mt,d(l.name),1),s("td",ft,d(l.jenjang),1),s("td",pt,d(l.fakultas?.name||"-"),1),s("td",_t,[a(t(L),{variant:l.is_active?"default":"secondary"},{default:o(()=>[n(d(l.is_active?"Aktif":"Nonaktif"),1)]),_:2},1032,["variant"])]),s("td",ct,[s("div",vt,[a(t(_),{size:"sm",variant:"ghost",onClick:D=>P(l)},{default:o(()=>[a(t(ot),{class:"size-4"})]),_:1},8,["onClick"]),a(t(_),{size:"sm",variant:"ghost",onClick:D=>w(l.id)},{default:o(()=>[a(t(lt),{class:"size-4 text-red-500"})]),_:1},8,["onClick"])])])]))),128))])])])]),_:1})]),_:1})]),a(t(W),{open:u.value,"onUpdate:open":e[6]||(e[6]=l=>u.value=l)},{default:o(()=>[a(t(X),null,{default:o(()=>[a(t(Y),null,{default:o(()=>[a(t(Z),null,{default:o(()=>[n(d(f.value?"Edit Program Studi":"Tambah Program Studi"),1)]),_:1})]),_:1}),s("form",{onSubmit:E(V,["prevent"]),class:"space-y-4"},[s("div",gt,[s("div",xt,[a(t(c),null,{default:o(()=>[...e[11]||(e[11]=[n("Kode",-1)])]),_:1}),a(t($),{modelValue:t(i).code,"onUpdate:modelValue":e[0]||(e[0]=l=>t(i).code=l),placeholder:"TI"},null,8,["modelValue"])]),s("div",yt,[a(t(c),null,{default:o(()=>[...e[12]||(e[12]=[n("Jenjang",-1)])]),_:1}),g(s("select",{"onUpdate:modelValue":e[1]||(e[1]=l=>t(i).jenjang=l),class:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm"},[...e[13]||(e[13]=[s("option",{value:"D3"},"D3",-1),s("option",{value:"D4"},"D4",-1),s("option",{value:"S1"},"S1",-1),s("option",{value:"S2"},"S2",-1),s("option",{value:"S3"},"S3",-1)])],512),[[S,t(i).jenjang]])])]),s("div",bt,[a(t(c),null,{default:o(()=>[...e[14]||(e[14]=[n("Nama Program Studi",-1)])]),_:1}),a(t($),{modelValue:t(i).name,"onUpdate:modelValue":e[2]||(e[2]=l=>t(i).name=l),placeholder:"Teknik Informatika"},null,8,["modelValue"])]),s("div",kt,[a(t(c),null,{default:o(()=>[...e[15]||(e[15]=[n("Fakultas",-1)])]),_:1}),g(s("select",{"onUpdate:modelValue":e[3]||(e[3]=l=>t(i).fakultas_id=l),class:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm"},[e[16]||(e[16]=s("option",{value:""},"Pilih Fakultas",-1)),(m(!0),p(v,null,k(x.fakultas,l=>(m(),p("option",{key:l.id,value:l.id},d(l.name),9,St))),128))],512),[[S,t(i).fakultas_id]])]),s("div",$t,[g(s("input",{type:"checkbox",id:"is_active","onUpdate:modelValue":e[4]||(e[4]=l=>t(i).is_active=l)},null,512),[[I,t(i).is_active]]),a(t(c),{for:"is_active"},{default:o(()=>[...e[17]||(e[17]=[n("Aktif",-1)])]),_:1})]),a(t(tt),null,{default:o(()=>[a(t(_),{type:"button",variant:"outline",onClick:e[5]||(e[5]=l=>u.value=!1)},{default:o(()=>[...e[18]||(e[18]=[n("Batal",-1)])]),_:1}),a(t(_),{type:"submit",disabled:t(i).processing},{default:o(()=>[...e[19]||(e[19]=[n("Simpan",-1)])]),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"])]),_:1})],64))}});export{Wt as default};
