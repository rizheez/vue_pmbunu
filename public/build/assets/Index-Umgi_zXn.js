import{d as z,j as S,c as A,p as v,x as T,a as _,e as t,u as e,h as N,w as a,b as i,k as j,i as x,o as f,f as o,t as r,F as $,r as D,y as U,q as E,z as F,s as M}from"./app-BvkMj4-F.js";import{_ as q,a as I}from"./index-BPQtWMom.js";import{_ as J}from"./AlertTitle.vue_vue_type_script_setup_true_lang-BBBfK5Rz.js";import{_ as H}from"./index-D2l3Pcwn.js";import{_ as p}from"./index-MlcjGLtN.js";import{_ as K}from"./Checkbox.vue_vue_type_script_setup_true_lang-BlAJsU4v.js";import{_ as L,a as G,b as O,c as Q}from"./CardTitle.vue_vue_type_script_setup_true_lang-C7Wvf5BJ.js";import{_ as R,a as W,b as X,c as Y}from"./DialogTitle.vue_vue_type_script_setup_true_lang-DhnmqUd0.js";import{_ as Z}from"./DialogFooter.vue_vue_type_script_setup_true_lang-DlqIMERc.js";import{_ as ee}from"./Input.vue_vue_type_script_setup_true_lang-BPSpG4I4.js";import{_ as c}from"./Label.vue_vue_type_script_setup_true_lang-qmueQV-t.js";import{_ as te}from"./AppLayout.vue_vue_type_script_setup_true_lang-CS0_RWNX.js";import{C as se}from"./file-text-O4Ei2LhW.js";import{P as ae,T as ne}from"./trash-CdAqgf9a.js";import{S as le}from"./square-pen-B_HVV9P4.js";import"./index-BQajbDa3.js";import"./useForwardPropsEmits-Bnkafg18.js";import"./VisuallyHidden-z-LB16s1.js";import"./createLucideIcon-C9ErEy5p.js";import"./useFormControl-BQuo8DuA.js";import"./useForwardExpose-BKrzG8D3.js";import"./check-Cti1ODfB.js";import"./x-BWe9cEwd.js";import"./triangle-alert-CapbUlF2.js";import"./circle-x-CSLpUmHv.js";import"./index-BHw9BgFF.js";import"./index-CMWG4mbA.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./user-plus-WTRAzdIT.js";const ie={class:"flex flex-col gap-6 p-4"},oe={class:"space-y-4"},ue={class:"flex-1"},me={class:"flex items-center gap-2"},re={class:"font-medium"},de={class:"mt-1 text-sm text-gray-600"},fe={class:"mt-2 text-xs text-gray-400"},pe={class:"flex gap-2"},_e={key:0,class:"text-center text-gray-500"},ce={class:"space-y-2"},ge={class:"space-y-2"},be={class:"flex items-center gap-2"},Oe=z({__name:"Index",props:{announcements:{}},setup(h){const g=h,y=S(),b=A(()=>y.props.flash),u=v(!1),d=v(null),l=T({title:"",content:"",is_published:!0}),k=()=>{d.value=null,l.reset(),l.is_published=!0,u.value=!0},C=m=>{d.value=m,l.title=m.title,l.content=m.content,l.is_published=m.is_published,u.value=!0},V=()=>{d.value?l.put(`/admin/announcements/${d.value.id}`,{onSuccess:()=>u.value=!1}):l.post("/admin/announcements",{onSuccess:()=>u.value=!1})},w=m=>{confirm("Hapus pengumuman ini?")&&M.delete(`/admin/announcements/${m}`)},P=[{title:"Admin Dashboard",href:"/admin/dashboard"},{title:"Announcements",href:"/admin/announcements"}];return(m,s)=>(f(),_($,null,[t(e(N),{title:"Pengumuman"}),t(te,{breadcrumbs:P},{default:a(()=>[i("div",ie,[b.value?.success?(f(),j(e(q),{key:0,class:"border-green-500 bg-green-50"},{default:a(()=>[t(e(se),{class:"size-4 text-green-600"}),t(e(J),{class:"text-green-800"},{default:a(()=>[...s[5]||(s[5]=[o("Berhasil",-1)])]),_:1}),t(e(I),{class:"text-green-700"},{default:a(()=>[o(r(b.value.success),1)]),_:1})]),_:1})):x("",!0),t(e(L),null,{default:a(()=>[t(e(G),{class:"flex flex-row items-center justify-between"},{default:a(()=>[t(e(O),null,{default:a(()=>[...s[6]||(s[6]=[o("Manajemen Pengumuman",-1)])]),_:1}),t(e(p),{onClick:k},{default:a(()=>[t(e(ae),{class:"mr-2 size-4"}),s[7]||(s[7]=o(" Tambah Pengumuman ",-1))]),_:1})]),_:1}),t(e(Q),null,{default:a(()=>[i("div",oe,[(f(!0),_($,null,D(g.announcements,n=>(f(),_("div",{key:n.id,class:"flex items-start justify-between rounded-lg border p-4"},[i("div",ue,[i("div",me,[i("h3",re,r(n.title),1),t(e(H),{variant:n.is_published?"default":"secondary"},{default:a(()=>[o(r(n.is_published?"Aktif":"Nonaktif"),1)]),_:2},1032,["variant"])]),i("p",de,r(n.content),1),i("p",fe,r(n.created_at),1)]),i("div",pe,[t(e(p),{size:"sm",variant:"ghost",onClick:B=>C(n)},{default:a(()=>[t(e(le),{class:"size-4"})]),_:1},8,["onClick"]),t(e(p),{size:"sm",variant:"ghost",onClick:B=>w(n.id)},{default:a(()=>[t(e(ne),{class:"size-4 text-red-500"})]),_:1},8,["onClick"])])]))),128)),g.announcements.length===0?(f(),_("p",_e," Belum ada pengumuman ")):x("",!0)])]),_:1})]),_:1})]),t(e(R),{open:u.value,"onUpdate:open":s[4]||(s[4]=n=>u.value=n)},{default:a(()=>[t(e(W),null,{default:a(()=>[t(e(X),null,{default:a(()=>[t(e(Y),null,{default:a(()=>[o(r(d.value?"Edit Pengumuman":"Tambah Pengumuman"),1)]),_:1})]),_:1}),i("form",{onSubmit:U(V,["prevent"]),class:"space-y-4"},[i("div",ce,[t(e(c),null,{default:a(()=>[...s[8]||(s[8]=[o("Judul",-1)])]),_:1}),t(e(ee),{modelValue:e(l).title,"onUpdate:modelValue":s[0]||(s[0]=n=>e(l).title=n),placeholder:"Judul pengumuman"},null,8,["modelValue"])]),i("div",ge,[t(e(c),null,{default:a(()=>[...s[9]||(s[9]=[o("Konten",-1)])]),_:1}),E(i("textarea",{"onUpdate:modelValue":s[1]||(s[1]=n=>e(l).content=n),rows:"4",class:"flex min-h-[80px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm",placeholder:"Isi pengumuman..."},null,512),[[F,e(l).content]])]),i("div",be,[t(e(K),{id:"is_published",modelValue:e(l).is_published,"onUpdate:modelValue":s[2]||(s[2]=n=>e(l).is_published=n)},null,8,["modelValue"]),t(e(c),{for:"is_published"},{default:a(()=>[...s[10]||(s[10]=[o("Aktif",-1)])]),_:1})]),t(e(Z),null,{default:a(()=>[t(e(p),{type:"button",variant:"outline",onClick:s[3]||(s[3]=n=>u.value=!1)},{default:a(()=>[...s[11]||(s[11]=[o("Batal",-1)])]),_:1}),t(e(p),{type:"submit",disabled:e(l).processing},{default:a(()=>[...s[12]||(s[12]=[o("Simpan",-1)])]),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"])]),_:1})],64))}});export{Oe as default};
