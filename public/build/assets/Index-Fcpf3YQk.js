import{d as z,p as g,C as M,c as P,a as d,e as r,u as s,h as j,w as l,b as e,f as c,t as o,i as _,q as b,E,B as w,o as n,F as v,r as k,k as S,l as $,n as U,s as B}from"./app-B9gYG--T.js";import{_ as N}from"./index-zVL5Bixl.js";import{_ as x}from"./index-BQ81Y14P.js";import{_ as L,a as H,b as I,c as F}from"./CardTitle.vue_vue_type_script_setup_true_lang-CH_Kzig9.js";import{_ as K}from"./CardDescription.vue_vue_type_script_setup_true_lang-C7Lui36h.js";import{_ as q}from"./Input.vue_vue_type_script_setup_true_lang-Cf1NcIc6.js";import{_ as A}from"./AppLayout.vue_vue_type_script_setup_true_lang-DFI1XeTh.js";import{f as R}from"./useFormat-PUfnQ01r.js";import{c as G}from"./createLucideIcon-BVJllyOa.js";import{S as J}from"./search-B7JyA10g.js";import{E as O}from"./eye-DPgJbhXV.js";import{P as Q}from"./printer-DColuC2V.js";import"./index-CKmmVohp.js";import"./VisuallyHidden-CH79_1Ru.js";import"./triangle-alert-Cobwd-G5.js";import"./circle-x-DlWK32G6.js";import"./file-text-DfpK2bZa.js";import"./x-C2AjD3gg.js";import"./useForwardExpose-gZP2b35j.js";import"./useForwardPropsEmits-CXbLQmjH.js";import"./index-CMWG4mbA.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./user-plus-Pt6vROc6.js";const W=G("DownloadIcon",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),X={class:"flex flex-col gap-6 p-4"},Y={class:"flex items-center justify-between"},Z=["href"],ee={class:"mb-6 flex flex-wrap gap-4"},te={class:"flex items-center gap-2"},ae=["value"],se={class:"overflow-x-auto rounded-lg border"},re={class:"w-full text-sm"},le={class:"divide-y"},ie={class:"px-4 py-3 font-mono text-xs"},oe={class:"px-4 py-3 font-medium"},ne={class:"px-4 py-3 text-gray-500"},de={class:"px-4 py-3"},pe={class:"flex flex-col"},me={class:"font-medium"},ue={key:0,class:"text-xs text-gray-500"},fe={class:"px-4 py-3"},ce={class:"px-4 py-3 text-gray-500"},_e={class:"px-4 py-3"},ve={class:"px-4 py-3"},xe={class:"flex gap-1"},he=["href"],ge={key:0},ye={key:0,class:"mt-4 flex items-center justify-between"},be={class:"text-sm text-gray-500"},we={class:"flex gap-1"},ke=["innerHTML"],Je=z({__name:"Index",props:{students:{},periods:{},filters:{}},setup(C){const i=C,f=g(i.filters.search||""),p=g(i.filters.status||"all"),m=g(i.filters.period||"all"),h=g(i.students.per_page||10),y=()=>{B.get("/admin/students",{search:f.value||void 0,status:p.value!=="all"?p.value:void 0,period:m.value!=="all"?m.value:void 0,per_page:h.value},{preserveState:!0})};M([p,m,h],()=>y());const D=u=>({draft:{variant:"secondary",label:"Draft"},submitted:{variant:"outline",label:"Terdaftar"},verified:{variant:"default",label:"Terverifikasi"},accepted:{variant:"default",label:"Diterima"},rejected:{variant:"destructive",label:"Ditolak"}})[u||""]||{variant:"secondary",label:"Unknown"},T=[{title:"Admin Dashboard",href:"/admin/dashboard"},{title:"Calon Mahasiswa",href:"/admin/students"}],V=P(()=>{const u=new URLSearchParams;return f.value&&u.append("search",f.value),p.value!=="all"&&u.append("status",p.value),m.value!=="all"&&u.append("period",m.value),`/admin/students-export?${u.toString()}`});return(u,a)=>(n(),d(v,null,[r(s(j),{title:"Manajemen Calon Mahasiswa"}),r(A,{breadcrumbs:T},{default:l(()=>[e("div",X,[r(s(L),null,{default:l(()=>[r(s(H),null,{default:l(()=>[e("div",Y,[e("div",null,[r(s(I),null,{default:l(()=>[...a[4]||(a[4]=[c("Manajemen Calon Mahasiswa",-1)])]),_:1}),r(s(K),null,{default:l(()=>[c(" Total: "+o(i.students.total)+" calon mahasiswa ",1)]),_:1})]),r(s(x),{"as-child":"",class:"gap-2 bg-emerald-600 text-white hover:bg-emerald-700"},{default:l(()=>[e("a",{href:V.value,download:""},[r(s(W),{class:"size-4"}),a[5]||(a[5]=c(" Export Excel ",-1))],8,Z)]),_:1})])]),_:1}),r(s(F),null,{default:l(()=>[e("div",ee,[e("div",te,[r(s(q),{modelValue:f.value,"onUpdate:modelValue":a[0]||(a[0]=t=>f.value=t),placeholder:"Cari nama, email, no. pendaftaran...",class:"w-64",onKeyup:E(y,["enter"])},null,8,["modelValue"]),r(s(x),{size:"icon",variant:"outline",onClick:y},{default:l(()=>[r(s(J),{class:"size-4"})]),_:1})]),b(e("select",{"onUpdate:modelValue":a[1]||(a[1]=t=>p.value=t),class:"rounded-md border border-input bg-transparent px-3 py-2 text-sm"},[...a[6]||(a[6]=[e("option",{value:"all"},"Semua Status",-1),e("option",{value:"draft"},"Draft",-1),e("option",{value:"submitted"},"Terdaftar",-1),e("option",{value:"verified"},"Terverifikasi",-1),e("option",{value:"accepted"},"Diterima",-1),e("option",{value:"rejected"},"Ditolak",-1)])],512),[[w,p.value]]),b(e("select",{"onUpdate:modelValue":a[2]||(a[2]=t=>m.value=t),class:"rounded-md border border-input bg-transparent px-3 py-2 text-sm"},[a[7]||(a[7]=e("option",{value:"all"},"Semua Periode",-1)),(n(!0),d(v,null,k(i.periods,t=>(n(),d("option",{key:t.id,value:t.id},o(t.name),9,ae))),128))],512),[[w,m.value]]),b(e("select",{"onUpdate:modelValue":a[3]||(a[3]=t=>h.value=t),class:"rounded-md border border-input bg-transparent px-3 py-2 text-sm"},[...a[8]||(a[8]=[e("option",{value:10},"10 per halaman",-1),e("option",{value:25},"25 per halaman",-1),e("option",{value:50},"50 per halaman",-1),e("option",{value:100},"100 per halaman",-1)])],512),[[w,h.value]])]),e("div",se,[e("table",re,[a[11]||(a[11]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"min-w-[140px] px-4 py-3 text-left font-medium"}," No. Pendaftaran "),e("th",{class:"min-w-[200px] px-4 py-3 text-left font-medium"}," Nama "),e("th",{class:"min-w-[200px] px-4 py-3 text-left font-medium"}," Email "),e("th",{class:"min-w-[200px] px-4 py-3 text-left font-medium"}," Sumber Informasi "),e("th",{class:"min-w-[180px] px-4 py-3 text-left font-medium"}," Prodi Pilihan 1 "),e("th",{class:"whitespace-nowrap px-4 py-3 text-left font-medium"}," Tanggal Daftar "),e("th",{class:"px-4 py-3 text-left font-medium"}," Status "),e("th",{class:"px-4 py-3 text-left font-medium"}," Aksi ")])],-1)),e("tbody",le,[(n(!0),d(v,null,k(i.students.data,t=>(n(),d("tr",{key:t.id,class:"hover:bg-gray-50"},[e("td",ie,o(t.registration?.registration_number||"-"),1),e("td",oe,o(t.student_biodata?.name||t.name),1),e("td",ne,o(t.email),1),e("td",de,[e("div",pe,[e("span",me,o(t.registration?.referral_source||"-"),1),t.registration?.referral_detail?(n(),d("span",ue,o(t.registration.referral_detail),1)):_("",!0)])]),e("td",fe,o(t.registration?.program_studi_choice1?.name||"-"),1),e("td",ce,o(t.registration?.created_at?s(R)(t.registration.created_at):"-"),1),e("td",_e,[r(s(N),{variant:D(t.registration?.status).variant},{default:l(()=>[c(o(D(t.registration?.status).label),1)]),_:2},1032,["variant"])]),e("td",ve,[e("div",xe,[r(s(x),{"as-child":"",variant:"ghost",size:"sm"},{default:l(()=>[r(s($),{href:`/admin/students/${t.id}`},{default:l(()=>[r(s(O),{class:"mr-1 size-4"}),a[9]||(a[9]=c(" Detail ",-1))]),_:1},8,["href"])]),_:2},1024),t.registration?(n(),S(s(x),{key:0,"as-child":"",variant:"ghost",size:"icon",title:"Cetak Kartu Peserta"},{default:l(()=>[e("a",{href:`/admin/students/${t.id}/registration-card`,target:"_blank"},[r(s(Q),{class:"size-4"})],8,he)]),_:2},1024)):_("",!0)])])]))),128)),i.students.data.length===0?(n(),d("tr",ge,[...a[10]||(a[10]=[e("td",{colspan:"8",class:"px-4 py-8 text-center text-gray-500"}," Tidak ada data mahasiswa ",-1)])])):_("",!0)])])]),i.students.last_page>1?(n(),d("div",ye,[e("p",be," Halaman "+o(i.students.current_page)+" dari "+o(i.students.last_page),1),e("div",we,[(n(!0),d(v,null,k(i.students.links,t=>(n(),d(v,{key:t.label},[t.url?(n(),S(s(x),{key:0,"as-child":"",variant:"outline",size:"sm",class:U({"bg-primary text-primary-foreground":t.active})},{default:l(()=>[r(s($),{href:t.url},{default:l(()=>[e("span",{innerHTML:t.label},null,8,ke)]),_:2},1032,["href"])]),_:2},1032,["class"])):_("",!0)],64))),128))])])):_("",!0)]),_:1})]),_:1})])]),_:1})],64))}});export{Je as default};
