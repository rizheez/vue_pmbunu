import{d as B,j as T,c as U,p as k,x as z,a as _,e as a,u as e,h as F,w as o,b as s,k as M,i as I,o as m,f as n,t as r,F as g,r as S,y as A,q as v,D as $,B as K,s as E}from"./app-a-VEhmjC.js";import{_ as q,a as J}from"./index-CEpZ3XAy.js";import{_ as H}from"./AlertTitle.vue_vue_type_script_setup_true_lang-BAlRMnPg.js";import{_ as L}from"./index-C0QnW9Bj.js";import{_ as c}from"./index-yL7gYrqA.js";import{_ as G,a as O,b as Q,c as R}from"./CardTitle.vue_vue_type_script_setup_true_lang-DwA0GjL8.js";import{_ as W,a as X,b as Y,c as Z}from"./DialogTitle.vue_vue_type_script_setup_true_lang-DZVrJXOs.js";import{_ as ee}from"./DialogFooter.vue_vue_type_script_setup_true_lang-BALKcZkq.js";import{_ as x}from"./Input.vue_vue_type_script_setup_true_lang-mhtrR-GO.js";import{_ as f}from"./Label.vue_vue_type_script_setup_true_lang-DxNkhq_X.js";import{_ as te}from"./AppLayout.vue_vue_type_script_setup_true_lang-DnCJ7c_z.js";import{C as se}from"./file-text-Dtz2EMTw.js";import{P as ae}from"./plus-C7gr4Hok.js";import{S as le}from"./square-pen-D5dg2HqE.js";import{T as oe}from"./trash-BKR3rCU0.js";import"./index-DVdEoLo_.js";import"./useForwardPropsEmits-D1pLRAed.js";import"./ChatWidget.vue_vue_type_script_setup_true_lang-Dvq1GNmk.js";import"./createLucideIcon-Bd519bqh.js";import"./index-CMWG4mbA.js";import"./loader-circle-CkWoqG8V.js";import"./useForwardExpose-CbCDyoq-.js";import"./VisuallyHidden-JCLByn2L.js";import"./triangle-alert-DWVwjR5_.js";import"./circle-x-Djj0TPju.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./user-plus-D0fCPCx7.js";const ie={class:"flex flex-col gap-6 p-4"},ne={class:"overflow-x-auto rounded-lg border"},de={class:"w-full text-sm"},re={class:"divide-y"},ue={class:"px-4 py-3 font-mono"},me={class:"px-4 py-3 font-mono text-primary"},fe={class:"px-4 py-3 font-medium"},pe={class:"px-4 py-3"},_e={class:"px-4 py-3"},ce={class:"px-4 py-3"},ge={class:"px-4 py-3"},ve={class:"flex gap-2"},xe={class:"grid grid-cols-2 gap-4"},ye={class:"space-y-2"},be={class:"space-y-2"},ke={class:"grid grid-cols-2 gap-4"},Se={class:"space-y-2"},$e={class:"space-y-2"},je={class:"space-y-2"},he=["value"],Ve={class:"flex items-center gap-2"},et=B({__name:"Index",props:{programStudi:{},fakultas:{}},setup(j){const y=j,h=T(),b=U(()=>h.props.flash),u=k(!1),p=k(null),i=z({name:"",code:"",nim_code:"",jenjang:"S1",fakultas_id:"",is_active:!0}),V=()=>{p.value=null,i.reset(),i.jenjang="S1",i.is_active=!0,u.value=!0},C=d=>{p.value=d,i.name=d.name,i.code=d.code,i.nim_code=d.nim_code||"",i.jenjang=d.jenjang,i.fakultas_id=String(d.fakultas_id),i.is_active=d.is_active,u.value=!0},P=()=>{p.value?i.put(`/admin/program-studi/${p.value.id}`,{onSuccess:()=>u.value=!1}):i.post("/admin/program-studi",{onSuccess:()=>u.value=!1})},w=d=>{confirm("Hapus program studi ini?")&&E.delete(`/admin/program-studi/${d}`)},D=[{title:"Admin Dashboard",href:"/admin/dashboard"},{title:"Program Studi",href:"/admin/program-studi"}];return(d,t)=>(m(),_(g,null,[a(e(F),{title:"Program Studi"}),a(te,{breadcrumbs:D},{default:o(()=>[s("div",ie,[b.value?.success?(m(),M(e(q),{key:0,class:"border-green-500 bg-green-50"},{default:o(()=>[a(e(se),{class:"size-4 text-green-600"}),a(e(H),{class:"text-green-800"},{default:o(()=>[...t[8]||(t[8]=[n("Berhasil",-1)])]),_:1}),a(e(J),{class:"text-green-700"},{default:o(()=>[n(r(b.value.success),1)]),_:1})]),_:1})):I("",!0),a(e(G),null,{default:o(()=>[a(e(O),{class:"flex flex-row items-center justify-between"},{default:o(()=>[a(e(Q),null,{default:o(()=>[...t[9]||(t[9]=[n("Manajemen Program Studi",-1)])]),_:1}),a(e(c),{onClick:V},{default:o(()=>[a(e(ae),{class:"mr-2 size-4"}),t[10]||(t[10]=n(" Tambah Prodi ",-1))]),_:1})]),_:1}),a(e(R),null,{default:o(()=>[s("div",ne,[s("table",de,[t[11]||(t[11]=s("thead",{class:"bg-gray-50"},[s("tr",null,[s("th",{class:"px-4 py-3 text-left"},"Kode"),s("th",{class:"px-4 py-3 text-left"},"Kode NIM"),s("th",{class:"px-4 py-3 text-left"},"Nama"),s("th",{class:"px-4 py-3 text-left"},"Jenjang"),s("th",{class:"px-4 py-3 text-left"},"Fakultas"),s("th",{class:"px-4 py-3 text-left"},"Status"),s("th",{class:"px-4 py-3 text-left"},"Aksi")])],-1)),s("tbody",re,[(m(!0),_(g,null,S(y.programStudi,l=>(m(),_("tr",{key:l.id,class:"hover:bg-gray-50"},[s("td",ue,r(l.code),1),s("td",me,r(l.nim_code||"-"),1),s("td",fe,r(l.name),1),s("td",pe,r(l.jenjang),1),s("td",_e,r(l.fakultas?.name||"-"),1),s("td",ce,[a(e(L),{variant:l.is_active?"default":"secondary"},{default:o(()=>[n(r(l.is_active?"Aktif":"Nonaktif"),1)]),_:2},1032,["variant"])]),s("td",ge,[s("div",ve,[a(e(c),{size:"sm",variant:"ghost",onClick:N=>C(l)},{default:o(()=>[a(e(le),{class:"size-4"})]),_:1},8,["onClick"]),a(e(c),{size:"sm",variant:"ghost",onClick:N=>w(l.id)},{default:o(()=>[a(e(oe),{class:"size-4 text-red-500"})]),_:1},8,["onClick"])])])]))),128))])])])]),_:1})]),_:1})]),a(e(W),{open:u.value,"onUpdate:open":t[7]||(t[7]=l=>u.value=l)},{default:o(()=>[a(e(X),null,{default:o(()=>[a(e(Y),null,{default:o(()=>[a(e(Z),null,{default:o(()=>[n(r(p.value?"Edit Program Studi":"Tambah Program Studi"),1)]),_:1})]),_:1}),s("form",{onSubmit:A(P,["prevent"]),class:"space-y-4"},[s("div",xe,[s("div",ye,[a(e(f),null,{default:o(()=>[...t[12]||(t[12]=[n("Kode",-1)])]),_:1}),a(e(x),{modelValue:e(i).code,"onUpdate:modelValue":t[0]||(t[0]=l=>e(i).code=l),placeholder:"TI"},null,8,["modelValue"])]),s("div",be,[a(e(f),null,{default:o(()=>[...t[13]||(t[13]=[n("Kode NIM (4 digit)",-1)])]),_:1}),a(e(x),{modelValue:e(i).nim_code,"onUpdate:modelValue":t[1]||(t[1]=l=>e(i).nim_code=l),placeholder:"0105",maxlength:"4"},null,8,["modelValue"])])]),s("div",ke,[s("div",Se,[a(e(f),null,{default:o(()=>[...t[14]||(t[14]=[n("Nama Program Studi",-1)])]),_:1}),a(e(x),{modelValue:e(i).name,"onUpdate:modelValue":t[2]||(t[2]=l=>e(i).name=l),placeholder:"Teknik Informatika"},null,8,["modelValue"])]),s("div",$e,[a(e(f),null,{default:o(()=>[...t[15]||(t[15]=[n("Jenjang",-1)])]),_:1}),v(s("select",{"onUpdate:modelValue":t[3]||(t[3]=l=>e(i).jenjang=l),class:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm"},[...t[16]||(t[16]=[s("option",{value:"D3"},"D3",-1),s("option",{value:"D4"},"D4",-1),s("option",{value:"S1"},"S1",-1),s("option",{value:"S2"},"S2",-1),s("option",{value:"S3"},"S3",-1)])],512),[[$,e(i).jenjang]])])]),s("div",je,[a(e(f),null,{default:o(()=>[...t[17]||(t[17]=[n("Fakultas",-1)])]),_:1}),v(s("select",{"onUpdate:modelValue":t[4]||(t[4]=l=>e(i).fakultas_id=l),class:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm"},[t[18]||(t[18]=s("option",{value:""},"Pilih Fakultas",-1)),(m(!0),_(g,null,S(y.fakultas,l=>(m(),_("option",{key:l.id,value:l.id},r(l.name),9,he))),128))],512),[[$,e(i).fakultas_id]])]),s("div",Ve,[v(s("input",{type:"checkbox",id:"is_active","onUpdate:modelValue":t[5]||(t[5]=l=>e(i).is_active=l)},null,512),[[K,e(i).is_active]]),a(e(f),{for:"is_active"},{default:o(()=>[...t[19]||(t[19]=[n("Aktif",-1)])]),_:1})]),a(e(ee),null,{default:o(()=>[a(e(c),{type:"button",variant:"outline",onClick:t[6]||(t[6]=l=>u.value=!1)},{default:o(()=>[...t[20]||(t[20]=[n("Batal",-1)])]),_:1}),a(e(c),{type:"submit",disabled:e(i).processing},{default:o(()=>[...t[21]||(t[21]=[n("Simpan",-1)])]),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"])]),_:1})],64))}});export{et as default};
