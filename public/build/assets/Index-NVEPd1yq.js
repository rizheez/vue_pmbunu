import{d as R,j as q,c as j,x as O,a as _,e as t,u as e,h as W,w as a,b as r,k as c,i as f,o as d,f as u,t as n,n as H,y as Q,F as p,r as g,q as X,z as Y}from"./app-B0h9vrpP.js";import{_ as S,a as w}from"./index-BrARxRMN.js";import{_ as V}from"./AlertTitle.vue_vue_type_script_setup_true_lang-D3pO3iJw.js";import{a as Z,_ as ee}from"./AppLayout.vue_vue_type_script_setup_true_lang-Bj4ayEwV.js";import{_ as te}from"./index-D6r1RkZ_.js";import{_ as N,a as B,b as M,c as D}from"./CardTitle.vue_vue_type_script_setup_true_lang-BmKwuO0D.js";import{_ as ae}from"./CardDescription.vue_vue_type_script_setup_true_lang-HVCToRBP.js";import{_ as b}from"./Label.vue_vue_type_script_setup_true_lang-BPZohMV_.js";import{_ as y,a as h,b as v,c as x,d as P}from"./SelectValue.vue_vue_type_script_setup_true_lang-BXCBsTkz.js";import{_ as G,a as K}from"./SelectLabel.vue_vue_type_script_setup_true_lang-BBYxuXPd.js";import{f as T}from"./useFormat-CGBiKtzC.js";import{C as se}from"./file-text-grNgiSCR.js";import{C as z}from"./circle-alert-CwzXajQx.js";import{G as re}from"./user-plus-pImha-m-.js";import"./VisuallyHidden-BOENPQ0n.js";import"./createLucideIcon-Bg8iYENi.js";import"./index-B8Tmgq9C.js";import"./triangle-alert-DyNUt9_v.js";import"./circle-x-8p-q06kl.js";import"./ChatWidget.vue_vue_type_script_setup_true_lang-CeB2Blbk.js";import"./index-CMWG4mbA.js";import"./loader-circle-C_RD1hNO.js";import"./useForwardExpose-nr6JhVc6.js";import"./useForwardPropsEmits-B5Vqgun0.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./chevron-down-DA-BRvNk.js";import"./check-CMWRARbW.js";import"./useFormControl-DHa-ksBs.js";const ie={class:"flex flex-col gap-6 p-4"},le={class:"flex items-center justify-between"},oe={class:"grid gap-4 text-sm md:grid-cols-2"},ne={class:"flex justify-between border-b pb-2"},de={class:"font-mono font-medium"},ue={class:"flex justify-between border-b pb-2"},_e={class:"font-medium"},fe={class:"flex justify-between border-b pb-2"},me={class:"font-medium"},ce={class:"flex justify-between border-b pb-2"},pe={class:"text-right"},ge={class:"block font-medium"},be={key:0,class:"text-xs text-gray-500"},ye={class:"flex justify-between border-b pb-2"},he={class:"font-medium"},ve={class:"flex justify-between border-b pb-2"},xe={class:"font-medium"},Pe=["disabled"],ke={class:"grid gap-4 md:grid-cols-2"},Se={class:"space-y-2"},we={key:0,class:"text-sm text-red-500"},Ve={class:"space-y-2"},$e={key:0,class:"text-sm text-red-500"},Ue={class:"grid gap-4 md:grid-cols-2"},je={class:"space-y-2"},Ce={key:0,class:"space-y-2"},Ne=["placeholder"],Be={class:"space-y-4"},Me={class:"grid gap-4 md:grid-cols-3"},De={class:"space-y-2"},Ge={key:0,class:"text-sm text-red-500"},Ke={key:0,class:"space-y-2"},Te={key:0,class:"text-sm text-red-500"},ze={class:"flex justify-end"},mt=R({__name:"Index",props:{registration:{},activePeriod:{},registrationTypes:{},registrationPaths:{},fakultas:{},programStudi:{}},setup(F){const i=F,J=q(),k=j(()=>J.props.flash),l=O({registration_type_id:i.registration?.registration_type_id?String(i.registration.registration_type_id):"",registration_path_id:i.registration?.registration_path_id?String(i.registration.registration_path_id):"",referral_source:i.registration?.referral_source??"",referral_detail:i.registration?.referral_detail??"",choice_1:i.registration?.choice_1?String(i.registration.choice_1):"",choice_2:i.registration?.choice_2?String(i.registration.choice_2):"",choice_3:i.registration?.choice_3?String(i.registration.choice_3):""}),A=["Dosen/Panitia PMB UNU Kaltim","Media Sosial (Instagram/Facebook/Twitter)","Website Resmi UNU Kaltim","Teman/Keluarga","Sekolah/Guru","Brosur/Spanduk","Event/Pameran Pendidikan","Lainnya"],I=()=>{l.post("/student/pendaftaran")},$=j(()=>!!i.registration),U=j(()=>i.registration?i.registration.status==="submitted":!0),E=[{title:"Dashboard",href:"/student/dashboard"},{title:"Pendaftaran",href:"/student/pendaftaran"}],L=C=>l.choice_1?C?.program_studi?.some(s=>String(s.id)!==l.choice_1):!0;return(C,s)=>(d(),_(p,null,[t(e(W),{title:"Pendaftaran"}),t(ee,{breadcrumbs:E},{default:a(()=>[r("div",ie,[k.value?.success?(d(),c(e(S),{key:0,class:"border-green-500 bg-green-50"},{default:a(()=>[t(e(se),{class:"size-4 text-green-600"}),t(e(V),{class:"text-green-800"},{default:a(()=>[...s[6]||(s[6]=[u("Berhasil",-1)])]),_:1}),t(e(w),{class:"text-green-700"},{default:a(()=>[u(n(k.value.success),1)]),_:1})]),_:1})):f("",!0),k.value?.error?(d(),c(e(S),{key:1,variant:"destructive"},{default:a(()=>[t(e(z),{class:"size-4"}),t(e(V),null,{default:a(()=>[...s[7]||(s[7]=[u("Error",-1)])]),_:1}),t(e(w),null,{default:a(()=>[u(n(k.value.error),1)]),_:1})]),_:1})):f("",!0),t(e(S),{class:"border-blue-500 bg-blue-50"},{default:a(()=>[t(e(re),{class:"size-4 text-blue-600"}),t(e(V),{class:"text-blue-800"},{default:a(()=>[u(n(i.activePeriod.name),1)]),_:1}),t(e(w),{class:"text-blue-700"},{default:a(()=>[u(" Periode: "+n(e(T)(i.activePeriod.start_date))+" - "+n(e(T)(i.activePeriod.end_date)),1)]),_:1})]),_:1}),$.value?(d(),c(e(N),{key:2},{default:a(()=>[t(e(B),null,{default:a(()=>[r("div",le,[t(e(M),null,{default:a(()=>[...s[8]||(s[8]=[u("Status Pendaftaran",-1)])]),_:1}),t(e(Z),{class:H(i.registration?.status_badge_class)},{default:a(()=>[u(n(i.registration?.status_label||i.registration?.status),1)]),_:1},8,["class"])])]),_:1}),t(e(D),{class:"space-y-4"},{default:a(()=>[r("div",oe,[r("div",ne,[s[9]||(s[9]=r("span",{class:"text-gray-500"},"No. Pendaftaran",-1)),r("span",de,n(i.registration?.registration_number||"-"),1)]),r("div",ue,[s[10]||(s[10]=r("span",{class:"text-gray-500"},"Jenis Pendaftaran",-1)),r("span",_e,n(i.registration?.registration_type?.name||"-"),1)]),r("div",fe,[s[11]||(s[11]=r("span",{class:"text-gray-500"},"Jalur",-1)),r("span",me,n(i.registration?.registration_path?.name||"-"),1)]),r("div",ce,[s[12]||(s[12]=r("span",{class:"text-gray-500"},"Sumber Informasi",-1)),r("div",pe,[r("span",ge,n(i.registration?.referral_source||"-"),1),i.registration?.referral_detail?(d(),_("span",be,n(i.registration?.referral_detail),1)):f("",!0)])]),r("div",ye,[s[13]||(s[13]=r("span",{class:"text-gray-500"},"Pilihan 1",-1)),r("span",he,n(i.registration?.program_studi_choice1?.name||"-"),1)]),r("div",ve,[s[14]||(s[14]=r("span",{class:"text-gray-500"},"Pilihan 2",-1)),r("span",xe,n(i.registration?.program_studi_choice2?.name||"-"),1)])])]),_:1})]),_:1})):f("",!0),t(e(N),null,{default:a(()=>[t(e(B),null,{default:a(()=>[t(e(M),null,{default:a(()=>[u(n($.value?"Update Pendaftaran":"Form Pendaftaran"),1)]),_:1}),t(e(ae),null,{default:a(()=>[...s[15]||(s[15]=[u(" Pilih jenis pendaftaran dan program studi yang diinginkan ",-1)])]),_:1})]),_:1}),t(e(D),null,{default:a(()=>[U.value?f("",!0):(d(),c(e(S),{key:0,class:"mb-6 border-yellow-500 bg-yellow-50"},{default:a(()=>[t(e(z),{class:"size-4 text-yellow-600"}),t(e(V),{class:"text-yellow-800"},{default:a(()=>[...s[16]||(s[16]=[u("Form Terkunci",-1)])]),_:1}),t(e(w),{class:"text-yellow-700"},{default:a(()=>[s[17]||(s[17]=u(" Pendaftaran tidak dapat diubah karena status anda saat ini adalah ",-1)),r("strong",null,n(i.registration?.status_label?.toUpperCase()),1)]),_:1})]),_:1})),r("fieldset",{disabled:!U.value,class:"space-y-6"},[r("form",{onSubmit:Q(I,["prevent"]),class:"space-y-6"},[r("div",ke,[r("div",Se,[t(e(b),{for:"registration_type_id"},{default:a(()=>[...s[18]||(s[18]=[u("Jenis Pendaftaran *",-1)])]),_:1}),t(e(y),{modelValue:e(l).registration_type_id,"onUpdate:modelValue":s[0]||(s[0]=o=>e(l).registration_type_id=o)},{default:a(()=>[t(e(h),{class:"w-full"},{default:a(()=>[t(e(v),{placeholder:"Pilih Jenis"})]),_:1}),t(e(x),null,{default:a(()=>[(d(!0),_(p,null,g(i.registrationTypes,o=>(d(),c(e(P),{key:o.id,value:String(o.id)},{default:a(()=>[u(n(o.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(l).errors.registration_type_id?(d(),_("p",we,n(e(l).errors.registration_type_id),1)):f("",!0)]),r("div",Ve,[t(e(b),{for:"registration_path_id"},{default:a(()=>[...s[19]||(s[19]=[u("Jalur Pendaftaran *",-1)])]),_:1}),t(e(y),{modelValue:e(l).registration_path_id,"onUpdate:modelValue":s[1]||(s[1]=o=>e(l).registration_path_id=o)},{default:a(()=>[t(e(h),{class:"w-full"},{default:a(()=>[t(e(v),{placeholder:"Pilih Jalur"})]),_:1}),t(e(x),null,{default:a(()=>[(d(!0),_(p,null,g(i.registrationPaths,o=>(d(),c(e(P),{key:o.id,value:String(o.id)},{default:a(()=>[u(n(o.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(l).errors.registration_path_id?(d(),_("p",$e,n(e(l).errors.registration_path_id),1)):f("",!0)])]),r("div",Ue,[r("div",je,[t(e(b),{for:"referral_source"},{default:a(()=>[...s[20]||(s[20]=[u("Sumber Informasi",-1)])]),_:1}),t(e(y),{modelValue:e(l).referral_source,"onUpdate:modelValue":s[2]||(s[2]=o=>e(l).referral_source=o)},{default:a(()=>[t(e(h),{class:"w-full"},{default:a(()=>[t(e(v),{placeholder:"Pilih Sumber"})]),_:1}),t(e(x),null,{default:a(()=>[(d(),_(p,null,g(A,o=>t(e(P),{key:o,value:o},{default:a(()=>[u(n(o),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue"])]),e(l).referral_source==="Lainnya"||e(l).referral_source==="Sekolah/Guru"||e(l).referral_source==="Dosen/Panitia PMB UNU Kaltim"?(d(),_("div",Ce,[t(e(b),{for:"referral_detail"},{default:a(()=>[...s[21]||(s[21]=[u("Detail Sumber Informasi",-1)])]),_:1}),X(r("input",{id:"referral_detail","onUpdate:modelValue":s[3]||(s[3]=o=>e(l).referral_detail=o),type:"text",class:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-xs placeholder:text-muted-foreground focus-visible:ring-1 focus-visible:ring-ring focus-visible:outline-none",placeholder:e(l).referral_source==="Lainnya"||e(l).referral_source==="Dosen/Panitia PMB UNU Kaltim"?"Sebutkan Nama yang Merekomendasikan Anda. Contoh Gilang Suhendra, S.Pd":"Sebutkan Nama Sekolah/Guru. Contoh: Ahmad Galih, S.Pd (SMA Negeri 1 Kaltim)"},null,8,Ne),[[Y,e(l).referral_detail]])])):f("",!0)]),r("div",Be,[s[24]||(s[24]=r("h3",{class:"text-lg font-medium"}," Pilihan Program Studi ",-1)),r("div",Me,[r("div",De,[t(e(b),{for:"choice_1"},{default:a(()=>[...s[22]||(s[22]=[u("Pilihan 1 *",-1)])]),_:1}),t(e(y),{modelValue:e(l).choice_1,"onUpdate:modelValue":s[4]||(s[4]=o=>e(l).choice_1=o)},{default:a(()=>[t(e(h),{class:"w-full"},{default:a(()=>[t(e(v),{placeholder:"Pilih Program Studi"})]),_:1}),t(e(x),null,{default:a(()=>[(d(!0),_(p,null,g(i.fakultas,o=>(d(),c(e(G),{key:o.id},{default:a(()=>[t(e(K),null,{default:a(()=>[u(n(o.name),1)]),_:2},1024),(d(!0),_(p,null,g(o.program_studi,m=>(d(),c(e(P),{key:m.id,value:String(m.id)},{default:a(()=>[u(n(m.jenjang)+" - "+n(m.name),1)]),_:2},1032,["value"]))),128))]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"]),e(l).errors.choice_1?(d(),_("p",Ge,n(e(l).errors.choice_1),1)):f("",!0)]),e(l).choice_1?(d(),_("div",Ke,[t(e(b),{for:"choice_2"},{default:a(()=>[...s[23]||(s[23]=[u("Pilihan 2 *",-1)])]),_:1}),t(e(y),{modelValue:e(l).choice_2,"onUpdate:modelValue":s[5]||(s[5]=o=>e(l).choice_2=o)},{default:a(()=>[t(e(h),{class:"w-full"},{default:a(()=>[t(e(v),{placeholder:"Pilih Program Studi"})]),_:1}),t(e(x),null,{default:a(()=>[(d(!0),_(p,null,g(i.fakultas,o=>(d(),_(p,{key:o.id},[L(o)?(d(),c(e(G),{key:0},{default:a(()=>[t(e(K),null,{default:a(()=>[u(n(o.name),1)]),_:2},1024),(d(!0),_(p,null,g(o.program_studi,m=>(d(),_(p,{key:m.id},[String(m.id)!==e(l).choice_1?(d(),c(e(P),{key:0,value:String(m.id)},{default:a(()=>[u(n(m.jenjang)+" - "+n(m.name),1)]),_:2},1032,["value"])):f("",!0)],64))),128))]),_:2},1024)):f("",!0)],64))),128))]),_:1})]),_:1},8,["modelValue"]),e(l).errors.choice_2?(d(),_("p",Te,n(e(l).errors.choice_2),1)):f("",!0)])):f("",!0)])]),r("div",ze,[t(e(te),{type:"submit",disabled:e(l).processing||!U.value,class:"w-full md:w-auto"},{default:a(()=>[u(n(e(l).processing?"Menyimpan...":$.value?"Update Pendaftaran":"Kirim Pendaftaran"),1)]),_:1},8,["disabled"])])],32)],8,Pe)]),_:1})]),_:1})])]),_:1})],64))}});export{mt as default};
