import{d as Y,j as Z,c as N,p as b,a as r,e as n,u as a,h as tt,w as o,b as s,k as f,i as m,o as i,f as d,t as l,l as st,q as w,G as S,z as U,F as et,s as V}from"./app-BvkMj4-F.js";import{_ as A,a as I}from"./index-BPQtWMom.js";import{_ as K}from"./AlertTitle.vue_vue_type_script_setup_true_lang-BBBfK5Rz.js";import{_ as at}from"./index-D2l3Pcwn.js";import{_ as p}from"./index-MlcjGLtN.js";import{_ as C,a as D,b as z,c as k}from"./CardTitle.vue_vue_type_script_setup_true_lang-C7Wvf5BJ.js";import{_ as M,a as J,b as L,c as R}from"./DialogTitle.vue_vue_type_script_setup_true_lang-DhnmqUd0.js";import{_ as E}from"./DialogDescription.vue_vue_type_script_setup_true_lang-DhyngyL2.js";import{_ as G}from"./DialogFooter.vue_vue_type_script_setup_true_lang-DlqIMERc.js";import{_ as B}from"./Label.vue_vue_type_script_setup_true_lang-qmueQV-t.js";import{_ as nt}from"./AppLayout.vue_vue_type_script_setup_true_lang-CS0_RWNX.js";import{C as q,F as $}from"./file-text-O4Ei2LhW.js";import{C as ot}from"./circle-alert-C-3yhwGK.js";import{c as it}from"./createLucideIcon-C9ErEy5p.js";import{C as dt}from"./circle-x-CSLpUmHv.js";import{G as lt}from"./user-plus-WTRAzdIT.js";import{U as rt}from"./user-C3FiCln7.js";import"./index-BQajbDa3.js";import"./useForwardPropsEmits-Bnkafg18.js";import"./x-BWe9cEwd.js";import"./useForwardExpose-BKrzG8D3.js";import"./VisuallyHidden-z-LB16s1.js";import"./triangle-alert-CapbUlF2.js";import"./index-BHw9BgFF.js";import"./index-CMWG4mbA.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const ut=it("PencilIcon",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),mt={class:"flex flex-col gap-6 p-4"},ft={class:"flex items-center justify-between"},pt={class:"text-2xl font-bold"},_t={class:"flex gap-2"},ct={class:"grid gap-6 lg:grid-cols-2"},gt={class:"grid gap-3 text-sm"},bt={class:"flex justify-between border-b pb-2"},vt={class:"font-mono font-medium"},xt={class:"flex justify-between border-b pb-2"},yt={class:"flex justify-between border-b pb-2"},kt={class:"font-medium"},jt={class:"flex justify-between border-b pb-2"},wt={class:"font-medium"},$t={class:"flex justify-between border-b pb-2"},ht={class:"font-medium"},Pt={class:"flex justify-between border-b pb-2"},Ct={class:"text-right"},Dt={class:"block font-medium"},zt={key:0,class:"text-xs text-gray-500"},Bt={class:"mt-4 space-y-2"},Tt={class:"rounded-lg border p-3"},Ft={class:"text-sm"},Nt={key:0,class:"text-gray-500"},St={key:0,class:"mt-1 text-sm"},Ut={key:0,class:"text-gray-500"},Vt={key:1,class:"mt-1 text-sm"},At={key:0,class:"mt-4 rounded-lg border border-green-200 bg-green-50 p-4"},It={class:"text-lg font-bold text-green-900"},Kt={key:1,class:"mt-4 rounded-lg border border-red-200 bg-red-50 p-4"},Mt={class:"text-red-900"},Jt={class:"grid gap-3 text-sm"},Lt={class:"flex justify-between border-b pb-2"},Rt={class:"font-mono font-medium"},Et={class:"flex justify-between border-b pb-2"},Gt={class:"font-medium"},qt={class:"flex justify-between border-b pb-2"},Wt={class:"font-medium"},Xt={class:"flex justify-between border-b pb-2"},Ht={class:"font-medium"},Ot={class:"flex justify-between border-b pb-2"},Qt={class:"font-medium"},Yt={class:"flex justify-between border-b pb-2"},Zt={class:"font-medium"},ts={class:"flex justify-between"},ss={class:"font-medium"},es={class:"flex items-center justify-between"},as=["href"],ns={class:"grid gap-4 md:grid-cols-4"},os={class:"rounded-lg border p-3"},is=["src"],ds={key:1,class:"text-sm text-gray-400"},ls={class:"rounded-lg border p-3"},rs={key:0,class:"flex aspect-video flex-col items-center justify-center gap-2 rounded-lg bg-gray-50 text-gray-500"},us=["src"],ms={key:2,class:"text-sm text-gray-400"},fs={class:"rounded-lg border p-3"},ps={key:0,class:"flex aspect-video flex-col items-center justify-center gap-2 rounded-lg bg-gray-50 text-gray-500"},_s=["src"],cs={key:2,class:"text-sm text-gray-400"},gs={class:"rounded-lg border p-3"},bs={key:0,class:"flex aspect-video flex-col items-center justify-center gap-2 rounded-lg bg-gray-50 text-gray-500"},vs=["src"],xs={key:2,class:"text-sm text-gray-400"},ys={class:"space-y-4 py-4"},ks={class:"space-y-2"},js={class:"space-y-2"},ws={key:0,class:"flex items-center gap-2"},$s=["value"],hs={key:1,class:"flex items-center gap-2"},Ps=["value"],Cs={class:"space-y-2"},Ds={class:"space-y-4 py-4"},zs={class:"space-y-2"},ee=Y({__name:"Show",props:{student:{}},setup(W){const e=W,X=Z(),j=N(()=>X.props.flash),v=b(!1),x=b(!1),_=b(null),h=b(""),y=b(""),c=b(!1),H=[{title:"Admin Dashboard",href:"/admin/dashboard"},{title:"Calon Mahasiswa",href:"/admin/students"},{title:e.student.student_biodata?.name||e.student.name,href:"#"}],T=N(()=>e.student.registration?.status==="verified"),O=()=>{_.value&&(c.value=!0,V.post(`/admin/students/${e.student.id}/accept`,{program_studi_id:_.value,notes:h.value},{onFinish:()=>{c.value=!1,v.value=!1}}))},Q=()=>{y.value&&(c.value=!0,V.post(`/admin/students/${e.student.id}/reject`,{reason:y.value},{onFinish:()=>{c.value=!1,x.value=!1}}))},F=g=>({draft:{variant:"secondary",label:"Draft"},submitted:{variant:"secondary",label:"Terdaftar"},verified:{variant:"default",label:"Terverifikasi"},accepted:{variant:"default",label:"Diterima"},rejected:{variant:"destructive",label:"Ditolak"}})[g||""]||{variant:"secondary",label:"Unknown"},P=g=>g?g.toLowerCase().endsWith(".pdf")||g.startsWith("data:application/pdf"):!1;return(g,t)=>(i(),r(et,null,[n(a(tt),{title:e.student.student_biodata?.name||e.student.name},null,8,["title"]),n(nt,{breadcrumbs:H},{default:o(()=>[s("div",mt,[j.value?.success?(i(),f(a(A),{key:0,class:"border-green-500 bg-green-50"},{default:o(()=>[n(a(q),{class:"size-4 text-green-600"}),n(a(K),{class:"text-green-800"},{default:o(()=>[...t[10]||(t[10]=[d("Berhasil",-1)])]),_:1}),n(a(I),{class:"text-green-700"},{default:o(()=>[d(l(j.value.success),1)]),_:1})]),_:1})):m("",!0),j.value?.error?(i(),f(a(A),{key:1,variant:"destructive"},{default:o(()=>[n(a(ot),{class:"size-4"}),n(a(K),null,{default:o(()=>[...t[11]||(t[11]=[d("Error",-1)])]),_:1}),n(a(I),null,{default:o(()=>[d(l(j.value.error),1)]),_:1})]),_:1})):m("",!0),s("div",ft,[s("h1",pt,l(e.student.student_biodata?.name||e.student.name),1),s("div",_t,[n(a(p),{variant:"outline","as-child":""},{default:o(()=>[n(a(st),{href:`/admin/students/${e.student.id}/edit`},{default:o(()=>[n(a(ut),{class:"mr-2 size-4"}),t[12]||(t[12]=d(" Edit ",-1))]),_:1},8,["href"])]),_:1}),T.value?(i(),f(a(p),{key:0,onClick:t[0]||(t[0]=u=>v.value=!0),class:"bg-green-600 hover:bg-green-700"},{default:o(()=>[n(a(q),{class:"mr-2 size-4"}),t[13]||(t[13]=d(" Terima ",-1))]),_:1})):m("",!0),T.value?(i(),f(a(p),{key:1,variant:"destructive",onClick:t[1]||(t[1]=u=>x.value=!0)},{default:o(()=>[n(a(dt),{class:"mr-2 size-4"}),t[14]||(t[14]=d(" Tolak ",-1))]),_:1})):m("",!0)])]),s("div",ct,[n(a(C),null,{default:o(()=>[n(a(D),null,{default:o(()=>[n(a(z),{class:"flex items-center gap-2"},{default:o(()=>[n(a(lt),{class:"size-5"}),t[15]||(t[15]=d(" Informasi Pendaftaran ",-1))]),_:1})]),_:1}),e.student.registration?(i(),f(a(k),{key:0,class:"space-y-4"},{default:o(()=>[s("div",gt,[s("div",bt,[t[16]||(t[16]=s("span",{class:"text-gray-500"},"No. Pendaftaran",-1)),s("span",vt,l(e.student.registration.registration_number),1)]),s("div",xt,[t[17]||(t[17]=s("span",{class:"text-gray-500"},"Status",-1)),n(a(at),{variant:F(e.student.registration.status).variant},{default:o(()=>[d(l(F(e.student.registration.status).label),1)]),_:1},8,["variant"])]),s("div",yt,[t[18]||(t[18]=s("span",{class:"text-gray-500"},"Jenis Pendaftaran",-1)),s("span",kt,l(e.student.registration.registration_type?.name||"-"),1)]),s("div",jt,[t[19]||(t[19]=s("span",{class:"text-gray-500"},"Jalur",-1)),s("span",wt,l(e.student.registration.registration_path?.name||"-"),1)]),s("div",$t,[t[20]||(t[20]=s("span",{class:"text-gray-500"},"Periode",-1)),s("span",ht,l(e.student.registration.registration_period?.name||"-"),1)]),s("div",Pt,[t[21]||(t[21]=s("span",{class:"text-gray-500"},"Sumber Informasi",-1)),s("div",Ct,[s("span",Dt,l(e.student.registration.referral_source||"-"),1),e.student.registration.referral_detail?(i(),r("span",zt,l(e.student.registration.referral_detail),1)):m("",!0)])])]),s("div",Bt,[t[25]||(t[25]=s("h4",{class:"font-medium"},"Pilihan Program Studi",-1)),s("div",Tt,[s("p",Ft,[t[22]||(t[22]=s("strong",null,"1.",-1)),d(" "+l(e.student.registration.program_studi_choice1?.name||"-")+" ",1),e.student.registration.program_studi_choice1?.fakultas?(i(),r("span",Nt," ("+l(e.student.registration.program_studi_choice1.fakultas.name)+") ",1)):m("",!0)]),e.student.registration.program_studi_choice2?(i(),r("p",St,[t[23]||(t[23]=s("strong",null,"2.",-1)),d(" "+l(e.student.registration.program_studi_choice2?.name||"-")+" ",1),e.student.registration.program_studi_choice2?.fakultas?(i(),r("span",Ut," ("+l(e.student.registration.program_studi_choice2.fakultas.name)+") ",1)):m("",!0)])):m("",!0),e.student.registration.program_studi_choice3?(i(),r("p",Vt,[t[24]||(t[24]=s("strong",null,"3.",-1)),d(" "+l(e.student.registration.program_studi_choice3?.name||"-"),1)])):m("",!0)])]),e.student.registration.status==="accepted"?(i(),r("div",At,[t[26]||(t[26]=s("p",{class:"font-medium text-green-800"},"Diterima di:",-1)),s("p",It,l(e.student.registration.accepted_program_studi?.name),1)])):m("",!0),e.student.registration.status==="rejected"?(i(),r("div",Kt,[t[27]||(t[27]=s("p",{class:"font-medium text-red-800"},"Alasan Penolakan:",-1)),s("p",Mt,l(e.student.registration.rejection_reason),1)])):m("",!0)]),_:1})):(i(),f(a(k),{key:1},{default:o(()=>[...t[28]||(t[28]=[s("p",{class:"text-gray-500"},"Belum mendaftar",-1)])]),_:1}))]),_:1}),n(a(C),null,{default:o(()=>[n(a(D),null,{default:o(()=>[n(a(z),{class:"flex items-center gap-2"},{default:o(()=>[n(a(rt),{class:"size-5"}),t[29]||(t[29]=d(" Data Pribadi ",-1))]),_:1})]),_:1}),e.student.student_biodata?(i(),f(a(k),{key:0,class:"space-y-4"},{default:o(()=>[s("div",Jt,[s("div",Lt,[t[30]||(t[30]=s("span",{class:"text-gray-500"},"NIK",-1)),s("span",Rt,l(e.student.student_biodata.nik),1)]),s("div",Et,[t[31]||(t[31]=s("span",{class:"text-gray-500"},"NISN",-1)),s("span",Gt,l(e.student.student_biodata.nisn||"-"),1)]),s("div",qt,[t[32]||(t[32]=s("span",{class:"text-gray-500"},"TTL",-1)),s("span",Wt,l(e.student.student_biodata.birth_place)+", "+l(e.student.student_biodata.birth_date),1)]),s("div",Xt,[t[33]||(t[33]=s("span",{class:"text-gray-500"},"Jenis Kelamin",-1)),s("span",Ht,l(e.student.student_biodata.gender),1)]),s("div",Ot,[t[34]||(t[34]=s("span",{class:"text-gray-500"},"Agama",-1)),s("span",Qt,l(e.student.student_biodata.religion),1)]),s("div",Yt,[t[35]||(t[35]=s("span",{class:"text-gray-500"},"Telepon",-1)),s("span",Zt,l(e.student.student_biodata.phone),1)]),s("div",ts,[t[36]||(t[36]=s("span",{class:"text-gray-500"},"Asal Sekolah",-1)),s("span",ss,l(e.student.student_biodata.school_origin),1)])])]),_:1})):(i(),f(a(k),{key:1},{default:o(()=>[...t[37]||(t[37]=[s("p",{class:"text-gray-500"},"Biodata belum diisi",-1)])]),_:1}))]),_:1}),n(a(C),{class:"lg:col-span-2"},{default:o(()=>[n(a(D),null,{default:o(()=>[s("div",es,[n(a(z),{class:"flex items-center gap-2"},{default:o(()=>[n(a($),{class:"size-5"}),t[38]||(t[38]=d(" Dokumen ",-1))]),_:1}),n(a(p),{variant:"outline",size:"sm","as-child":""},{default:o(()=>[s("a",{href:`/admin/students/${e.student.id}/documents`}," Verifikasi Dokumen ",8,as)]),_:1})])]),_:1}),e.student.student_biodata?(i(),f(a(k),{key:0},{default:o(()=>[s("div",ns,[s("div",os,[t[39]||(t[39]=s("p",{class:"mb-2 text-sm font-medium"},"Pas Foto",-1)),e.student.student_biodata.photo_url?(i(),r("img",{key:0,src:e.student.student_biodata.photo_url,class:"aspect-square rounded-lg object-cover"},null,8,is)):(i(),r("p",ds,"Belum upload"))]),s("div",ls,[t[41]||(t[41]=s("p",{class:"mb-2 text-sm font-medium"},"KTP",-1)),P(e.student.student_biodata.ktp_url)?(i(),r("div",rs,[n(a($),{class:"size-8 text-red-500"}),t[40]||(t[40]=s("span",{class:"text-xs"},"PDF Document",-1))])):e.student.student_biodata.ktp_url?(i(),r("img",{key:1,src:e.student.student_biodata.ktp_url,class:"aspect-video rounded-lg object-cover"},null,8,us)):(i(),r("p",ms,"Belum upload"))]),s("div",fs,[t[43]||(t[43]=s("p",{class:"mb-2 text-sm font-medium"},"KK",-1)),P(e.student.student_biodata.kk_url)?(i(),r("div",ps,[n(a($),{class:"size-8 text-red-500"}),t[42]||(t[42]=s("span",{class:"text-xs"},"PDF Document",-1))])):e.student.student_biodata.kk_url?(i(),r("img",{key:1,src:e.student.student_biodata.kk_url,class:"aspect-video rounded-lg object-cover"},null,8,_s)):(i(),r("p",cs,"Belum upload"))]),s("div",gs,[t[45]||(t[45]=s("p",{class:"mb-2 text-sm font-medium"},"Ijazah",-1)),P(e.student.student_biodata.certificate_url)?(i(),r("div",bs,[n(a($),{class:"size-8 text-red-500"}),t[44]||(t[44]=s("span",{class:"text-xs"},"PDF Document",-1))])):e.student.student_biodata.certificate_url?(i(),r("img",{key:1,src:e.student.student_biodata.certificate_url,class:"aspect-video rounded-lg object-cover"},null,8,vs)):(i(),r("p",xs,"Belum upload"))])])]),_:1})):m("",!0)]),_:1})])]),n(a(M),{open:v.value,"onUpdate:open":t[6]||(t[6]=u=>v.value=u)},{default:o(()=>[n(a(J),null,{default:o(()=>[n(a(L),null,{default:o(()=>[n(a(R),null,{default:o(()=>[...t[46]||(t[46]=[d("Terima Mahasiswa",-1)])]),_:1}),n(a(E),null,{default:o(()=>[...t[47]||(t[47]=[d(" Pilih program studi yang akan diterima ",-1)])]),_:1})]),_:1}),s("div",ys,[s("div",ks,[n(a(B),null,{default:o(()=>[...t[48]||(t[48]=[d("Program Studi",-1)])]),_:1}),s("div",js,[e.student.registration?.choice_1?(i(),r("label",ws,[w(s("input",{type:"radio",value:e.student.registration.choice_1,"onUpdate:modelValue":t[2]||(t[2]=u=>_.value=u)},null,8,$s),[[S,_.value]]),d(" "+l(e.student.registration.program_studi_choice1?.name),1)])):m("",!0),e.student.registration?.choice_2?(i(),r("label",hs,[w(s("input",{type:"radio",value:e.student.registration.choice_2,"onUpdate:modelValue":t[3]||(t[3]=u=>_.value=u)},null,8,Ps),[[S,_.value]]),d(" "+l(e.student.registration.program_studi_choice2?.name),1)])):m("",!0)])]),s("div",Cs,[n(a(B),null,{default:o(()=>[...t[49]||(t[49]=[d("Catatan (opsional)",-1)])]),_:1}),w(s("textarea",{"onUpdate:modelValue":t[4]||(t[4]=u=>h.value=u),class:"w-full rounded-md border p-2 text-sm",rows:"2"},null,512),[[U,h.value]])])]),n(a(G),null,{default:o(()=>[n(a(p),{variant:"outline",onClick:t[5]||(t[5]=u=>v.value=!1)},{default:o(()=>[...t[50]||(t[50]=[d(" Batal ",-1)])]),_:1}),n(a(p),{onClick:O,disabled:!_.value||c.value,class:"bg-green-600 hover:bg-green-700"},{default:o(()=>[...t[51]||(t[51]=[d(" Terima ",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]),n(a(M),{open:x.value,"onUpdate:open":t[9]||(t[9]=u=>x.value=u)},{default:o(()=>[n(a(J),null,{default:o(()=>[n(a(L),null,{default:o(()=>[n(a(R),null,{default:o(()=>[...t[52]||(t[52]=[d("Tolak Pendaftaran",-1)])]),_:1}),n(a(E),null,{default:o(()=>[...t[53]||(t[53]=[d(" Berikan alasan penolakan ",-1)])]),_:1})]),_:1}),s("div",Ds,[s("div",zs,[n(a(B),null,{default:o(()=>[...t[54]||(t[54]=[d("Alasan Penolakan *",-1)])]),_:1}),w(s("textarea",{"onUpdate:modelValue":t[7]||(t[7]=u=>y.value=u),class:"w-full rounded-md border p-2 text-sm",rows:"3",placeholder:"Jelaskan alasan penolakan..."},null,512),[[U,y.value]])])]),n(a(G),null,{default:o(()=>[n(a(p),{variant:"outline",onClick:t[8]||(t[8]=u=>x.value=!1)},{default:o(()=>[...t[55]||(t[55]=[d(" Batal ",-1)])]),_:1}),n(a(p),{variant:"destructive",onClick:Q,disabled:!y.value||c.value},{default:o(()=>[...t[56]||(t[56]=[d(" Tolak ",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])]),_:1})],64))}});export{ee as default};
