import{_ as w}from"./index-DbfqjTBJ.js";import{_ as $,a as M,b as S,c as V}from"./CardTitle.vue_vue_type_script_setup_true_lang-DWBEWEFW.js";import{_ as N}from"./CardDescription.vue_vue_type_script_setup_true_lang-DT_zVL-m.js";import{_ as C}from"./Input.vue_vue_type_script_setup_true_lang-QGeSALj0.js";import{_ as T,a as A,b as D,c as B,d as g}from"./SelectValue.vue_vue_type_script_setup_true_lang-Drx5gTdS.js";import{_ as F}from"./AppLayout.vue_vue_type_script_setup_true_lang-R6NtFTLH.js";import{d as I,p as h,A as z,s as v,a as o,e as l,u as a,h as L,w as i,b as t,f,i as y,o as r,F as c,r as p,k as b,t as n}from"./app-DoHfvwLY.js";import{G as P}from"./user-plus-CFZP_KbQ.js";import{S as j}from"./search-DUShG3xu.js";import"./index-sHLOUS4p.js";import"./useForwardPropsEmits-D09TMCLC.js";import"./VisuallyHidden-Diq8xPZR.js";import"./createLucideIcon-oNlmNaRn.js";import"./useForwardExpose-BUnONYjU.js";import"./chevron-down-CXhC_hyV.js";import"./check-BBQJBJ-b.js";import"./useFormControl-BIVfAbxh.js";import"./triangle-alert-DYs78lr9.js";import"./circle-x-3aDmEp8u.js";import"./file-text-BiLW_Jhy.js";import"./ChatWidget.vue_vue_type_script_setup_true_lang-DUttQpzJ.js";import"./index-CMWG4mbA.js";import"./loader-circle-DVlG7VKL.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const G={class:"flex flex-col gap-6 p-4"},H={class:"flex items-center justify-between"},U={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center"},E={class:"relative flex-1"},Q={class:"overflow-x-auto rounded-lg border"},q={class:"w-full text-sm"},J={class:"divide-y"},K={class:"px-4 py-3 font-mono font-medium"},O={class:"px-4 py-3"},R={class:"font-medium"},W={class:"text-xs text-muted-foreground"},X={class:"px-4 py-3"},Y={key:0,class:"flex items-center gap-2"},Z={key:1,class:"text-muted-foreground"},tt={class:"px-4 py-3"},et={key:0},at={key:0,class:"mt-4 flex items-center justify-between"},st={class:"text-sm text-muted-foreground"},lt={class:"flex gap-2"},At=I({__name:"Index",props:{registrations:{},programStudi:{},filters:{}},setup(d){const _=d,k=[{title:"Dashboard",href:"/admin/dashboard"},{title:"Mahasiswa Aktif",href:"/admin/enrolled-students"}],u=h(_.filters.search),m=h(_.filters.prodi||"all");let x;return z([u,m],()=>{clearTimeout(x),x=setTimeout(()=>{v.get("/admin/enrolled-students",{search:u.value||void 0,prodi:m.value==="all"?void 0:m.value},{preserveState:!0,replace:!0})},300)}),(it,s)=>(r(),o(c,null,[l(a(L),{title:"Data Mahasiswa Aktif"}),l(F,{breadcrumbs:k},{default:i(()=>[t("div",G,[l(a($),null,{default:i(()=>[l(a(M),null,{default:i(()=>[t("div",H,[t("div",null,[l(a(S),{class:"flex items-center gap-2"},{default:i(()=>[l(a(P),{class:"size-5"}),s[2]||(s[2]=f(" Data Mahasiswa Aktif ",-1))]),_:1}),l(a(N),null,{default:i(()=>[...s[3]||(s[3]=[f(" Daftar mahasiswa yang telah terdaftar dan memiliki NIM ",-1)])]),_:1})])])]),_:1}),l(a(V),null,{default:i(()=>[t("div",U,[t("div",E,[l(a(j),{class:"absolute top-1/2 left-3 size-4 -translate-y-1/2 text-muted-foreground"}),l(a(C),{modelValue:u.value,"onUpdate:modelValue":s[0]||(s[0]=e=>u.value=e),placeholder:"Cari nama, email, atau NIM...",class:"pl-10"},null,8,["modelValue"])]),l(a(T),{modelValue:m.value,"onUpdate:modelValue":s[1]||(s[1]=e=>m.value=e)},{default:i(()=>[l(a(A),{class:"w-full sm:w-64"},{default:i(()=>[l(a(D),{placeholder:"Filter Prodi"})]),_:1}),l(a(B),null,{default:i(()=>[l(a(g),{value:"all"},{default:i(()=>[...s[4]||(s[4]=[f("Semua Prodi",-1)])]),_:1}),(r(!0),o(c,null,p(d.programStudi,e=>(r(),b(a(g),{key:e.id,value:String(e.id)},{default:i(()=>[f(n(e.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),t("div",Q,[t("table",q,[s[7]||(s[7]=t("thead",{class:"bg-muted/50"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left font-medium"},"NIM"),t("th",{class:"px-4 py-3 text-left font-medium"},"Nama Mahasiswa"),t("th",{class:"px-4 py-3 text-left font-medium"},"Program Studi"),t("th",{class:"px-4 py-3 text-left font-medium"},"Angkatan"),t("th",{class:"px-4 py-3 text-left font-medium"},"Status")])],-1)),t("tbody",J,[(r(!0),o(c,null,p(d.registrations.data,e=>(r(),o("tr",{key:e.id,class:"hover:bg-muted/50"},[t("td",K,n(e.user.nim||"-"),1),t("td",O,[t("div",null,[t("div",R,n(e.user.name),1),t("div",W,n(e.user.email),1)])]),t("td",X,[e.accepted_program_studi?(r(),o("div",Y,[t("span",null,n(e.accepted_program_studi.name),1)])):(r(),o("span",Z,"-"))]),t("td",tt,n(e.registration_period?.academic_year||"-"),1),s[5]||(s[5]=t("td",{class:"px-4 py-3"},[t("span",{class:"inline-flex items-center rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-800 dark:bg-green-900/30 dark:text-green-400"}," Aktif ")],-1))]))),128)),d.registrations.data.length===0?(r(),o("tr",et,[...s[6]||(s[6]=[t("td",{colspan:"5",class:"px-4 py-8 text-center text-muted-foreground"}," Tidak ada data mahasiswa aktif yang ditemukan ",-1)])])):y("",!0)])])]),d.registrations.last_page>1?(r(),o("div",at,[t("p",st," Menampilkan "+n(d.registrations.data.length)+" dari "+n(d.registrations.total)+" data ",1),t("div",lt,[(r(!0),o(c,null,p(d.registrations.links,e=>(r(),b(a(w),{key:e.label,size:"sm",variant:e.active?"default":"outline",disabled:!e.url,onClick:rt=>e.url&&a(v).get(e.url),innerHTML:e.label},null,8,["variant","disabled","onClick","innerHTML"]))),128))])])):y("",!0)]),_:1})]),_:1})])]),_:1})],64))}});export{At as default};
