import{d as S,j as N,c as T,p as x,x as z,a as _,e,u as s,h as P,w as a,b as l,k as A,i as D,o as p,f as n,t as d,F as k,r as U,y as j,q as E,B as M,s as q}from"./app-a-VEhmjC.js";import{_ as K,a as H}from"./index-CEpZ3XAy.js";import{_ as I}from"./AlertTitle.vue_vue_type_script_setup_true_lang-BAlRMnPg.js";import{_ as J}from"./index-C0QnW9Bj.js";import{_ as f}from"./index-yL7gYrqA.js";import{_ as L,a as G,b as O,c as Q}from"./CardTitle.vue_vue_type_script_setup_true_lang-DwA0GjL8.js";import{_ as R,a as W,b as X,c as Y}from"./DialogTitle.vue_vue_type_script_setup_true_lang-DZVrJXOs.js";import{_ as Z}from"./DialogFooter.vue_vue_type_script_setup_true_lang-BALKcZkq.js";import{_ as b}from"./Input.vue_vue_type_script_setup_true_lang-mhtrR-GO.js";import{_ as c}from"./Label.vue_vue_type_script_setup_true_lang-DxNkhq_X.js";import{_ as ss}from"./AppLayout.vue_vue_type_script_setup_true_lang-DnCJ7c_z.js";import{C as ts}from"./file-text-Dtz2EMTw.js";import{P as es}from"./plus-C7gr4Hok.js";import{S as as}from"./square-pen-D5dg2HqE.js";import{T as ls}from"./trash-BKR3rCU0.js";import"./index-DVdEoLo_.js";import"./useForwardPropsEmits-D1pLRAed.js";import"./ChatWidget.vue_vue_type_script_setup_true_lang-Dvq1GNmk.js";import"./createLucideIcon-Bd519bqh.js";import"./index-CMWG4mbA.js";import"./loader-circle-CkWoqG8V.js";import"./useForwardExpose-CbCDyoq-.js";import"./VisuallyHidden-JCLByn2L.js";import"./triangle-alert-DWVwjR5_.js";import"./circle-x-Djj0TPju.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./user-plus-D0fCPCx7.js";const os={class:"flex flex-col gap-6 p-4"},is={class:"overflow-x-auto rounded-lg border"},ns={class:"w-full text-sm"},rs={class:"divide-y"},us={class:"px-4 py-3 font-mono"},ds={class:"px-4 py-3 font-medium"},ms={class:"px-4 py-3"},fs={class:"px-4 py-3"},ps={class:"px-4 py-3"},_s={class:"flex gap-2"},cs={class:"space-y-2"},vs={class:"space-y-2"},xs={class:"flex items-center gap-2"},Ls=S({__name:"Index",props:{fakultas:{}},setup(g){const y=g,$=N(),v=T(()=>$.props.flash),r=x(!1),m=x(null),i=z({name:"",code:"",is_active:!0}),h=()=>{m.value=null,i.reset(),i.is_active=!0,r.value=!0},F=u=>{m.value=u,i.name=u.name,i.code=u.code,i.is_active=u.is_active,r.value=!0},C=()=>{m.value?i.put(`/admin/fakultas/${m.value.id}`,{onSuccess:()=>r.value=!1}):i.post("/admin/fakultas",{onSuccess:()=>r.value=!1})},V=u=>{confirm("Hapus fakultas ini?")&&q.delete(`/admin/fakultas/${u}`)},w=[{title:"Admin Dashboard",href:"/admin/dashboard"},{title:"Fakultas",href:"/admin/fakultas"}];return(u,t)=>(p(),_(k,null,[e(s(P),{title:"Fakultas"}),e(ss,{breadcrumbs:w},{default:a(()=>[l("div",os,[v.value?.success?(p(),A(s(K),{key:0,class:"border-green-500 bg-green-50"},{default:a(()=>[e(s(ts),{class:"size-4 text-green-600"}),e(s(I),{class:"text-green-800"},{default:a(()=>[...t[5]||(t[5]=[n("Berhasil",-1)])]),_:1}),e(s(H),{class:"text-green-700"},{default:a(()=>[n(d(v.value.success),1)]),_:1})]),_:1})):D("",!0),e(s(L),null,{default:a(()=>[e(s(G),{class:"flex flex-row items-center justify-between"},{default:a(()=>[e(s(O),null,{default:a(()=>[...t[6]||(t[6]=[n("Manajemen Fakultas",-1)])]),_:1}),e(s(f),{onClick:h},{default:a(()=>[e(s(es),{class:"mr-2 size-4"}),t[7]||(t[7]=n(" Tambah Fakultas ",-1))]),_:1})]),_:1}),e(s(Q),null,{default:a(()=>[l("div",is,[l("table",ns,[t[8]||(t[8]=l("thead",{class:"bg-gray-50"},[l("tr",null,[l("th",{class:"px-4 py-3 text-left"},"Kode"),l("th",{class:"px-4 py-3 text-left"},"Nama"),l("th",{class:"px-4 py-3 text-left"},"Jumlah Prodi"),l("th",{class:"px-4 py-3 text-left"},"Status"),l("th",{class:"px-4 py-3 text-left"},"Aksi")])],-1)),l("tbody",rs,[(p(!0),_(k,null,U(y.fakultas,o=>(p(),_("tr",{key:o.id,class:"hover:bg-gray-50"},[l("td",us,d(o.code),1),l("td",ds,d(o.name),1),l("td",ms,d(o.program_studi_count),1),l("td",fs,[e(s(J),{variant:o.is_active?"default":"secondary"},{default:a(()=>[n(d(o.is_active?"Aktif":"Nonaktif"),1)]),_:2},1032,["variant"])]),l("td",ps,[l("div",_s,[e(s(f),{size:"sm",variant:"ghost",onClick:B=>F(o)},{default:a(()=>[e(s(as),{class:"size-4"})]),_:1},8,["onClick"]),e(s(f),{size:"sm",variant:"ghost",onClick:B=>V(o.id)},{default:a(()=>[e(s(ls),{class:"size-4 text-red-500"})]),_:1},8,["onClick"])])])]))),128))])])])]),_:1})]),_:1})]),e(s(R),{open:r.value,"onUpdate:open":t[4]||(t[4]=o=>r.value=o)},{default:a(()=>[e(s(W),null,{default:a(()=>[e(s(X),null,{default:a(()=>[e(s(Y),null,{default:a(()=>[n(d(m.value?"Edit Fakultas":"Tambah Fakultas"),1)]),_:1})]),_:1}),l("form",{onSubmit:j(C,["prevent"]),class:"space-y-4"},[l("div",cs,[e(s(c),null,{default:a(()=>[...t[9]||(t[9]=[n("Kode Fakultas",-1)])]),_:1}),e(s(b),{modelValue:s(i).code,"onUpdate:modelValue":t[0]||(t[0]=o=>s(i).code=o),placeholder:"FT"},null,8,["modelValue"])]),l("div",vs,[e(s(c),null,{default:a(()=>[...t[10]||(t[10]=[n("Nama Fakultas",-1)])]),_:1}),e(s(b),{modelValue:s(i).name,"onUpdate:modelValue":t[1]||(t[1]=o=>s(i).name=o),placeholder:"Fakultas Teknik"},null,8,["modelValue"])]),l("div",xs,[E(l("input",{type:"checkbox",id:"is_active","onUpdate:modelValue":t[2]||(t[2]=o=>s(i).is_active=o)},null,512),[[M,s(i).is_active]]),e(s(c),{for:"is_active"},{default:a(()=>[...t[11]||(t[11]=[n("Aktif",-1)])]),_:1})]),e(s(Z),null,{default:a(()=>[e(s(f),{type:"button",variant:"outline",onClick:t[3]||(t[3]=o=>r.value=!1)},{default:a(()=>[...t[12]||(t[12]=[n("Batal",-1)])]),_:1}),e(s(f),{type:"submit",disabled:s(i).processing},{default:a(()=>[...t[13]||(t[13]=[n("Simpan",-1)])]),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"])]),_:1})],64))}});export{Ls as default};
