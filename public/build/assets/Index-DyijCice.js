import{d as S,j as z,c as N,p as x,x as D,a as c,e as t,u as s,h as T,w as i,b as a,k as A,i as J,o as m,f as n,t as p,F as y,r as M,y as U,q as g,z as j,B as E,s as F}from"./app-a-VEhmjC.js";import{_ as q,a as I}from"./index-CEpZ3XAy.js";import{_ as H}from"./AlertTitle.vue_vue_type_script_setup_true_lang-BAlRMnPg.js";import{_ as L}from"./index-C0QnW9Bj.js";import{_ as u}from"./index-yL7gYrqA.js";import{_ as G,a as K,b as O,c as Q}from"./CardTitle.vue_vue_type_script_setup_true_lang-DwA0GjL8.js";import{_ as R,a as W,b as X,c as Y}from"./DialogTitle.vue_vue_type_script_setup_true_lang-DZVrJXOs.js";import{_ as Z}from"./DialogFooter.vue_vue_type_script_setup_true_lang-BALKcZkq.js";import{_ as ss}from"./Input.vue_vue_type_script_setup_true_lang-mhtrR-GO.js";import{_}from"./Label.vue_vue_type_script_setup_true_lang-DxNkhq_X.js";import{_ as es}from"./AppLayout.vue_vue_type_script_setup_true_lang-DnCJ7c_z.js";import{C as ts}from"./file-text-Dtz2EMTw.js";import{P as as}from"./plus-C7gr4Hok.js";import{S as is}from"./square-pen-D5dg2HqE.js";import{T as os}from"./trash-BKR3rCU0.js";import"./index-DVdEoLo_.js";import"./useForwardPropsEmits-D1pLRAed.js";import"./ChatWidget.vue_vue_type_script_setup_true_lang-Dvq1GNmk.js";import"./createLucideIcon-Bd519bqh.js";import"./index-CMWG4mbA.js";import"./loader-circle-CkWoqG8V.js";import"./useForwardExpose-CbCDyoq-.js";import"./VisuallyHidden-JCLByn2L.js";import"./triangle-alert-DWVwjR5_.js";import"./circle-x-Djj0TPju.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./user-plus-D0fCPCx7.js";const ls={class:"flex flex-col gap-6 p-4"},ns={class:"overflow-x-auto rounded-lg border"},rs={class:"w-full text-sm"},ds={class:"divide-y"},ps={class:"px-4 py-3 font-medium"},fs={class:"px-4 py-3 text-gray-500"},us={class:"px-4 py-3"},ms={class:"px-4 py-3"},cs={class:"px-4 py-3"},_s={class:"flex gap-2"},vs={class:"space-y-2"},xs={class:"space-y-2"},ys={class:"flex items-center gap-2"},Ks=S({__name:"Index",props:{types:{}},setup(b){const $=b,k=z(),v=N(()=>k.props.flash),r=x(!1),f=x(null),l=D({name:"",description:"",is_active:!0}),h=()=>{f.value=null,l.reset(),l.is_active=!0,r.value=!0},C=d=>{f.value=d,l.name=d.name,l.description=d.description||"",l.is_active=d.is_active,r.value=!0},w=()=>{f.value?l.put(`/admin/registration-types/${f.value.id}`,{onSuccess:()=>r.value=!1}):l.post("/admin/registration-types",{onSuccess:()=>r.value=!1})},B=d=>{confirm("Hapus jenis pendaftaran ini?")&&F.delete(`/admin/registration-types/${d}`)},P=[{title:"Admin Dashboard",href:"/admin/dashboard"},{title:"Jenis Pendaftaran",href:"/admin/registration-types"}];return(d,e)=>(m(),c(y,null,[t(s(T),{title:"Jenis Pendaftaran"}),t(es,{breadcrumbs:P},{default:i(()=>[a("div",ls,[v.value?.success?(m(),A(s(q),{key:0,class:"border-green-500 bg-green-50"},{default:i(()=>[t(s(ts),{class:"size-4 text-green-600"}),t(s(H),{class:"text-green-800"},{default:i(()=>[...e[5]||(e[5]=[n("Berhasil",-1)])]),_:1}),t(s(I),{class:"text-green-700"},{default:i(()=>[n(p(v.value.success),1)]),_:1})]),_:1})):J("",!0),t(s(G),null,{default:i(()=>[t(s(K),{class:"flex flex-row items-center justify-between"},{default:i(()=>[t(s(O),null,{default:i(()=>[...e[6]||(e[6]=[n("Jenis Pendaftaran",-1)])]),_:1}),t(s(u),{onClick:h},{default:i(()=>[t(s(as),{class:"mr-2 size-4"}),e[7]||(e[7]=n(" Tambah ",-1))]),_:1})]),_:1}),t(s(Q),null,{default:i(()=>[a("div",ns,[a("table",rs,[e[8]||(e[8]=a("thead",{class:"bg-gray-50"},[a("tr",null,[a("th",{class:"px-4 py-3 text-left"},"Nama"),a("th",{class:"px-4 py-3 text-left"},"Deskripsi"),a("th",{class:"px-4 py-3 text-left"},"Pendaftar"),a("th",{class:"px-4 py-3 text-left"},"Status"),a("th",{class:"px-4 py-3 text-left"},"Aksi")])],-1)),a("tbody",ds,[(m(!0),c(y,null,M($.types,o=>(m(),c("tr",{key:o.id,class:"hover:bg-gray-50"},[a("td",ps,p(o.name),1),a("td",fs,p(o.description||"-"),1),a("td",us,p(o.registrations_count),1),a("td",ms,[t(s(L),{variant:o.is_active?"default":"secondary"},{default:i(()=>[n(p(o.is_active?"Aktif":"Nonaktif"),1)]),_:2},1032,["variant"])]),a("td",cs,[a("div",_s,[t(s(u),{size:"sm",variant:"ghost",onClick:V=>C(o)},{default:i(()=>[t(s(is),{class:"size-4"})]),_:1},8,["onClick"]),t(s(u),{size:"sm",variant:"ghost",onClick:V=>B(o.id)},{default:i(()=>[t(s(os),{class:"size-4 text-red-500"})]),_:1},8,["onClick"])])])]))),128))])])])]),_:1})]),_:1})]),t(s(R),{open:r.value,"onUpdate:open":e[4]||(e[4]=o=>r.value=o)},{default:i(()=>[t(s(W),null,{default:i(()=>[t(s(X),null,{default:i(()=>[t(s(Y),null,{default:i(()=>[n(p(f.value?"Edit":"Tambah")+" Jenis Pendaftaran",1)]),_:1})]),_:1}),a("form",{onSubmit:U(w,["prevent"]),class:"space-y-4"},[a("div",vs,[t(s(_),null,{default:i(()=>[...e[9]||(e[9]=[n("Nama",-1)])]),_:1}),t(s(ss),{modelValue:s(l).name,"onUpdate:modelValue":e[0]||(e[0]=o=>s(l).name=o),placeholder:"Mahasiswa Baru"},null,8,["modelValue"])]),a("div",xs,[t(s(_),null,{default:i(()=>[...e[10]||(e[10]=[n("Deskripsi",-1)])]),_:1}),g(a("textarea",{"onUpdate:modelValue":e[1]||(e[1]=o=>s(l).description=o),rows:"2",class:"flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm"},null,512),[[j,s(l).description]])]),a("div",ys,[g(a("input",{type:"checkbox",id:"is_active","onUpdate:modelValue":e[2]||(e[2]=o=>s(l).is_active=o)},null,512),[[E,s(l).is_active]]),t(s(_),{for:"is_active"},{default:i(()=>[...e[11]||(e[11]=[n("Aktif",-1)])]),_:1})]),t(s(Z),null,{default:i(()=>[t(s(u),{type:"button",variant:"outline",onClick:e[3]||(e[3]=o=>r.value=!1)},{default:i(()=>[...e[12]||(e[12]=[n("Batal",-1)])]),_:1}),t(s(u),{type:"submit",disabled:s(l).processing},{default:i(()=>[...e[13]||(e[13]=[n("Simpan",-1)])]),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"])]),_:1})],64))}});export{Ks as default};
